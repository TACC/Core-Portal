/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/static/build/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 51);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ngDesignsafeDirectives = __webpack_require__(24);\n\nvar _ngDesignsafeFilters = __webpack_require__(25);\n\nvar _ngModernizr = __webpack_require__(26);\n\nvar _workspace = __webpack_require__(43);\n\nvar _data_depot = __webpack_require__(18);\n\nvar _search = __webpack_require__(32);\n\nfunction config($httpProvider, $locationProvider, $urlMatcherFactoryProvider) {\n  'ngInject';\n\n  $locationProvider.html5Mode({ enabled: true, requireBase: true, rewriteLinks: false });\n  // $urlMatcherFactoryProvider.strictMode(false);\n  $httpProvider.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n  $httpProvider.defaults.xsrfCookieName = 'csrftoken';\n  $httpProvider.defaults.xsrfHeaderName = 'X-CSRFToken';\n}\n\nvar mod = angular.module('portal', ['ngCookies', 'httpi', 'ui.bootstrap', 'ui.router', 'schemaForm', 'dndLists', 'xeditable', 'pascalprecht.translate', 'ngStorage', 'ngWebSocket', 'ngMaterial', 'ng.modernizr', 'django.context', 'portal.directives', 'portal.filters', 'portal.workspace', 'portal.data_depot', 'portal.search']).config(config);\n\nexports.default = mod;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvbWFpbi5tb2R1bGUuanM/N2Q4OSJdLCJuYW1lcyI6WyJjb25maWciLCIkaHR0cFByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlciIsImh0bWw1TW9kZSIsImVuYWJsZWQiLCJyZXF1aXJlQmFzZSIsInJld3JpdGVMaW5rcyIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJtb2QiLCJhbmd1bGFyIiwibW9kdWxlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxTQUFTQSxNQUFULENBQWdCQyxhQUFoQixFQUErQkMsaUJBQS9CLEVBQWtEQywwQkFBbEQsRUFBOEU7QUFDN0U7O0FBQ0FELG9CQUFrQkUsU0FBbEIsQ0FBNEIsRUFBRUMsU0FBUyxJQUFYLEVBQWlCQyxhQUFhLElBQTlCLEVBQW9DQyxjQUFjLEtBQWxELEVBQTVCO0FBQ0E7QUFDQU4sZ0JBQWNPLFFBQWQsQ0FBdUJDLE9BQXZCLENBQStCQyxNQUEvQixDQUFzQyxrQkFBdEMsSUFBNEQsZ0JBQTVEO0FBQ0FULGdCQUFjTyxRQUFkLENBQXVCRyxjQUF2QixHQUF3QyxXQUF4QztBQUNBVixnQkFBY08sUUFBZCxDQUF1QkksY0FBdkIsR0FBd0MsYUFBeEM7QUFDQTs7QUFFRCxJQUFJQyxNQUFNQyxRQUFRQyxNQUFSLENBQWUsUUFBZixFQUF5QixDQUNqQyxXQURpQyxFQUVqQyxPQUZpQyxFQUdqQyxjQUhpQyxFQUlqQyxXQUppQyxFQUtqQyxZQUxpQyxFQU1qQyxVQU5pQyxFQU9qQyxXQVBpQyxFQVFqQyx3QkFSaUMsRUFTakMsV0FUaUMsRUFVakMsYUFWaUMsRUFXakMsWUFYaUMsRUFZakMsY0FaaUMsRUFhakMsZ0JBYmlDLEVBY2pDLG1CQWRpQyxFQWVqQyxnQkFmaUMsRUFnQmpDLGtCQWhCaUMsRUFpQmpDLG1CQWpCaUMsRUFrQmpDLGVBbEJpQyxDQUF6QixFQW1CUGYsTUFuQk8sQ0FtQkFBLE1BbkJBLENBQVY7O2tCQXFCZWEsRyIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHttb2QgYXMgZGlyZWN0aXZlc30gZnJvbSAnLi9uZy1kZXNpZ25zYWZlLWRpcmVjdGl2ZXMnO1xuaW1wb3J0IHttb2QgYXMgZmlsdGVyc30gZnJvbSAnLi9uZy1kZXNpZ25zYWZlLWZpbHRlcnMnO1xuaW1wb3J0IHttb2QgYXMgbmdfbW9kZXJuaXplcn0gZnJvbSAnLi9uZy1tb2Rlcm5penInO1xuaW1wb3J0IHttb2QgYXMgd29ya3NwYWNlfSBmcm9tICcuL3dvcmtzcGFjZSc7XG5pbXBvcnQge21vZCBhcyBkYXRhX2RlcG90fSBmcm9tICcuL2RhdGFfZGVwb3QnO1xuaW1wb3J0IHttb2QgYXMgc2VhcmNofSBmcm9tICcuL3NlYXJjaCc7XG5cbmZ1bmN0aW9uIGNvbmZpZygkaHR0cFByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlciwgJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXIpIHtcbiAnbmdJbmplY3QnO1xuICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh7IGVuYWJsZWQ6IHRydWUsIHJlcXVpcmVCYXNlOiB0cnVlLCByZXdyaXRlTGlua3M6IGZhbHNlfSk7XG4gLy8gJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXIuc3RyaWN0TW9kZShmYWxzZSk7XG4gJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1SZXF1ZXN0ZWQtV2l0aCddID0gJ1hNTEh0dHBSZXF1ZXN0JztcbiAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLnhzcmZDb29raWVOYW1lID0gJ2NzcmZ0b2tlbic7XG4gJGh0dHBQcm92aWRlci5kZWZhdWx0cy54c3JmSGVhZGVyTmFtZSA9ICdYLUNTUkZUb2tlbic7XG59XG5cbmxldCBtb2QgPSBhbmd1bGFyLm1vZHVsZSgncG9ydGFsJywgW1xuICAnbmdDb29raWVzJyxcbiAgJ2h0dHBpJyxcbiAgJ3VpLmJvb3RzdHJhcCcsXG4gICd1aS5yb3V0ZXInLFxuICAnc2NoZW1hRm9ybScsXG4gICdkbmRMaXN0cycsXG4gICd4ZWRpdGFibGUnLFxuICAncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScsXG4gICduZ1N0b3JhZ2UnLFxuICAnbmdXZWJTb2NrZXQnLFxuICAnbmdNYXRlcmlhbCcsXG4gICduZy5tb2Rlcm5penInLFxuICAnZGphbmdvLmNvbnRleHQnLFxuICAncG9ydGFsLmRpcmVjdGl2ZXMnLFxuICAncG9ydGFsLmZpbHRlcnMnLFxuICAncG9ydGFsLndvcmtzcGFjZScsXG4gICdwb3J0YWwuZGF0YV9kZXBvdCcsXG4gICdwb3J0YWwuc2VhcmNoJyxcbl0pLmNvbmZpZyhjb25maWcpO1xuXG5leHBvcnQgZGVmYXVsdCBtb2Q7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvbWFpbi5tb2R1bGUuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = CommunityDataCtrl;\nfunction CommunityDataCtrl($scope, $state, $stateParams, Django, DataBrowserService) {\n  'ngInject';\n\n  var options = {\n    system: $stateParams.systemId,\n    path: $stateParams.filePath || '/'\n  };\n  $scope.data = {\n    customRoot: {\n      name: 'Community Data',\n      href: $state.href('db.communityData', { systemId: $stateParams.systemId,\n        filePath: '/' })\n    }\n  };\n  DataBrowserService.apiParams.fileMgr = 'shared';\n  DataBrowserService.apiParams.baseUrl = '/api/data-depot/files';\n  DataBrowserService.apiParams.searchState = 'dataSearch';\n\n  $scope.browser = DataBrowserService.state();\n  DataBrowserService.browse(options).then(function (resp) {\n    $scope.browser = DataBrowserService.state();\n  });\n\n  $scope.state = {\n    loadingMore: false,\n    reachedEnd: false,\n    page: 0\n  };\n\n  // if (! $scope.browser.error){\n  //   $scope.browser.listing.href = $state.href('communityData', {\n  //     system: $scope.browser.listing.system,\n  //     filePath: $scope.browser.listing.path\n  //   });\n  //   _.each($scope.browser.listing.children, function (child) {\n  //     child.href = $state.href('communityData', {system: child.system, filePath: child.path});\n  //   });\n  // }\n\n\n  $scope.resolveBreadcrumbHref = function (trailItem) {\n    return $state.href('db.communityData', { systemId: $scope.browser.listing.system, filePath: trailItem.path });\n  };\n\n  $scope.scrollToTop = function () {\n    return;\n  };\n  $scope.scrollToBottom = function () {\n    DataBrowserService.scrollToBottom();\n  };\n\n  $scope.onBrowse = function ($event, file) {\n    $event.preventDefault();\n    $event.stopPropagation();\n\n    var systemId = file.system || file.systemId;\n    var filePath;\n    if (file.path == '/') {\n      filePath = file.path + file.name;\n    } else {\n      filePath = file.path;\n    }\n    if (file.type === 'file') {\n      DataBrowserService.preview(file, $scope.browser.listing);\n    } else {\n      $state.go('db.communityData', { systemId: file.system, filePath: file.path });\n    }\n  };\n\n  $scope.onSelect = function ($event, file) {\n    $event.preventDefault();\n    $event.stopPropagation();\n\n    if ($event.ctrlKey || $event.metaKey) {\n      var selectedIndex = $scope.browser.selected.indexOf(file);\n      if (selectedIndex > -1) {\n        DataBrowserService.deselect([file]);\n      } else {\n        DataBrowserService.select([file]);\n      }\n    } else if ($event.shiftKey && $scope.browser.selected.length > 0) {\n      var lastFile = $scope.browser.selected[$scope.browser.selected.length - 1];\n      var lastIndex = $scope.browser.listing.children.indexOf(lastFile);\n      var fileIndex = $scope.browser.listing.children.indexOf(file);\n      var min = Math.min(lastIndex, fileIndex);\n      var max = Math.max(lastIndex, fileIndex);\n      DataBrowserService.select($scope.browser.listing.children.slice(min, max + 1));\n    } else if (typeof file._ui !== 'undefined' && file._ui.selected) {\n      DataBrowserService.deselect([file]);\n    } else {\n      DataBrowserService.select([file], true);\n    }\n  };\n\n  $scope.showFullPath = function (item) {\n    if ($scope.browser.listing.path != '$PUBLIC' && item.parentPath() != $scope.browser.listing.path && item.parentPath() != '/') {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  $scope.onDetail = function ($event, file) {\n    $event.stopPropagation();\n    DataBrowserService.preview(file, $scope.browser.listing);\n  };\n\n  $scope.renderName = function (file) {\n    if (typeof file.metadata === 'undefined' || file.metadata === null || _.isEmpty(file.metadata)) {\n      return file.name;\n    }\n    var pathComps = file.path.split('/');\n    var experiment_re = /^experiment/;\n    if (file.path[0] === '/' && pathComps.length === 2) {\n      return file.metadata.project.title;\n    } else if (file.path[0] !== '/' && pathComps.length === 2 && experiment_re.test(file.name.toLowerCase())) {\n      return file.metadata.experiments[0].title;\n    }\n    return file.name;\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9jb21tdW5pdHkuanM/NzkwNCJdLCJuYW1lcyI6WyJDb21tdW5pdHlEYXRhQ3RybCIsIiRzY29wZSIsIiRzdGF0ZSIsIiRzdGF0ZVBhcmFtcyIsIkRqYW5nbyIsIkRhdGFCcm93c2VyU2VydmljZSIsIm9wdGlvbnMiLCJzeXN0ZW0iLCJzeXN0ZW1JZCIsInBhdGgiLCJmaWxlUGF0aCIsImRhdGEiLCJjdXN0b21Sb290IiwibmFtZSIsImhyZWYiLCJhcGlQYXJhbXMiLCJmaWxlTWdyIiwiYmFzZVVybCIsInNlYXJjaFN0YXRlIiwiYnJvd3NlciIsInN0YXRlIiwiYnJvd3NlIiwidGhlbiIsInJlc3AiLCJsb2FkaW5nTW9yZSIsInJlYWNoZWRFbmQiLCJwYWdlIiwicmVzb2x2ZUJyZWFkY3J1bWJIcmVmIiwidHJhaWxJdGVtIiwibGlzdGluZyIsInNjcm9sbFRvVG9wIiwic2Nyb2xsVG9Cb3R0b20iLCJvbkJyb3dzZSIsIiRldmVudCIsImZpbGUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInR5cGUiLCJwcmV2aWV3IiwiZ28iLCJvblNlbGVjdCIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2VsZWN0ZWRJbmRleCIsInNlbGVjdGVkIiwiaW5kZXhPZiIsImRlc2VsZWN0Iiwic2VsZWN0Iiwic2hpZnRLZXkiLCJsZW5ndGgiLCJsYXN0RmlsZSIsImxhc3RJbmRleCIsImNoaWxkcmVuIiwiZmlsZUluZGV4IiwibWluIiwiTWF0aCIsIm1heCIsInNsaWNlIiwiX3VpIiwic2hvd0Z1bGxQYXRoIiwiaXRlbSIsInBhcmVudFBhdGgiLCJvbkRldGFpbCIsInJlbmRlck5hbWUiLCJtZXRhZGF0YSIsIl8iLCJpc0VtcHR5IiwicGF0aENvbXBzIiwic3BsaXQiLCJleHBlcmltZW50X3JlIiwicHJvamVjdCIsInRpdGxlIiwi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QXFCLENBQWpELEVBQW9EO0FBQ2xELGFBQU9mLEtBQUs4QixRQUFMLENBQWNNLE9BQWQsQ0FBc0JDLEtBQTdCO0FBQ0QsS0FGRCxNQUdLLElBQUlyQyxLQUFLekIsSUFBTCxDQUFVLENBQVYsTUFBaUIsR0FBakIsSUFDQTBELFVBQVVsQixNQUFWLEtBQXFCLENBRHJCLElBRUFvQixjQUFjRyxJQUFkLENBQW1CdEMsS0FBS3JCLElBQUwsQ0FBVTRELFdBQVYsRUFBbkIsQ0FGSixFQUVnRDtBQUNuRCxhQUFPdkMsS0FBSzhCLFFBQUwsQ0FBY1UsV0FBZCxDQUEwQixDQUExQixFQUE2QkgsS0FBcEM7QUFDRDtBQUNELFdBQU9yQyxLQUFLckIsSUFBWjtBQUNELEdBakJEO0FBbUJEIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb21tdW5pdHlEYXRhQ3RybCgkc2NvcGUsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBEamFuZ28sIERhdGFCcm93c2VyU2VydmljZSkge1xuICAnbmdJbmplY3QnO1xuXG4gIHZhciBvcHRpb25zID0ge1xuICAgICBzeXN0ZW06ICgkc3RhdGVQYXJhbXMuc3lzdGVtSWQpLFxuICAgICBwYXRoOiAoJHN0YXRlUGFyYW1zLmZpbGVQYXRoIHx8ICcvJylcbiAgfTtcbiAgJHNjb3BlLmRhdGEgPSB7XG4gICAgY3VzdG9tUm9vdDoge1xuICAgICAgbmFtZTogJ0NvbW11bml0eSBEYXRhJyxcbiAgICAgIGhyZWY6ICRzdGF0ZS5ocmVmKCdkYi5jb21tdW5pdHlEYXRhJywge3N5c3RlbUlkOiAkc3RhdGVQYXJhbXMuc3lzdGVtSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlUGF0aDogJy8nfSlcbiAgICB9XG4gIH07XG4gIERhdGFCcm93c2VyU2VydmljZS5hcGlQYXJhbXMuZmlsZU1nciA9ICdzaGFyZWQnO1xuICBEYXRhQnJvd3NlclNlcnZpY2UuYXBpUGFyYW1zLmJhc2VVcmwgPSAnL2FwaS9kYXRhLWRlcG90L2ZpbGVzJztcbiAgRGF0YUJyb3dzZXJTZXJ2aWNlLmFwaVBhcmFtcy5zZWFyY2hTdGF0ZSA9ICdkYXRhU2VhcmNoJztcblxuICAkc2NvcGUuYnJvd3NlciA9IERhdGFCcm93c2VyU2VydmljZS5zdGF0ZSgpO1xuICBEYXRhQnJvd3NlclNlcnZpY2UuYnJvd3NlKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAkc2NvcGUuYnJvd3NlciA9IERhdGFCcm93c2VyU2VydmljZS5zdGF0ZSgpO1xuICB9KTtcblxuICAkc2NvcGUuc3RhdGUgPSB7XG4gICAgICAgIGxvYWRpbmdNb3JlIDogZmFsc2UsXG4gICAgICAgIHJlYWNoZWRFbmQgOiBmYWxzZSxcbiAgICAgICAgcGFnZSA6IDBcbiAgICAgIH07XG5cbiAgLy8gaWYgKCEgJHNjb3BlLmJyb3dzZXIuZXJyb3Ipe1xuICAvLyAgICRzY29wZS5icm93c2VyLmxpc3RpbmcuaHJlZiA9ICRzdGF0ZS5ocmVmKCdjb21tdW5pdHlEYXRhJywge1xuICAvLyAgICAgc3lzdGVtOiAkc2NvcGUuYnJvd3Nlci5saXN0aW5nLnN5c3RlbSxcbiAgLy8gICAgIGZpbGVQYXRoOiAkc2NvcGUuYnJvd3Nlci5saXN0aW5nLnBhdGhcbiAgLy8gICB9KTtcbiAgLy8gICBfLmVhY2goJHNjb3BlLmJyb3dzZXIubGlzdGluZy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gIC8vICAgICBjaGlsZC5ocmVmID0gJHN0YXRlLmhyZWYoJ2NvbW11bml0eURhdGEnLCB7c3lzdGVtOiBjaGlsZC5zeXN0ZW0sIGZpbGVQYXRoOiBjaGlsZC5wYXRofSk7XG4gIC8vICAgfSk7XG4gIC8vIH1cblxuXG5cbiAgJHNjb3BlLnJlc29sdmVCcmVhZGNydW1iSHJlZiA9IGZ1bmN0aW9uKHRyYWlsSXRlbSkge1xuICAgIHJldHVybiAkc3RhdGUuaHJlZignZGIuY29tbXVuaXR5RGF0YScsIHtzeXN0ZW1JZDogJHNjb3BlLmJyb3dzZXIubGlzdGluZy5zeXN0ZW0sIGZpbGVQYXRoOiB0cmFpbEl0ZW0ucGF0aH0pO1xuICB9O1xuXG4gICRzY29wZS5zY3JvbGxUb1RvcCA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuO1xuICB9O1xuICAkc2NvcGUuc2Nyb2xsVG9Cb3R0b20gPSBmdW5jdGlvbigpe1xuICAgIERhdGFCcm93c2VyU2VydmljZS5zY3JvbGxUb0JvdHRvbSgpO1xuICB9O1xuXG4gICRzY29wZS5vbkJyb3dzZSA9IGZ1bmN0aW9uKCRldmVudCwgZmlsZSkge1xuICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIHZhciBzeXN0ZW1JZCA9IGZpbGUuc3lzdGVtIHx8IGZpbGUuc3lzdGVtSWQ7XG4gICAgdmFyIGZpbGVQYXRoO1xuICAgIGlmIChmaWxlLnBhdGggPT0gJy8nKXtcbiAgICAgIGZpbGVQYXRoID0gZmlsZS5wYXRoICsgZmlsZS5uYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaWxlUGF0aCA9IGZpbGUucGF0aDtcbiAgICB9XG4gICAgaWYgKGZpbGUudHlwZSA9PT0gJ2ZpbGUnKXtcbiAgICAgIERhdGFCcm93c2VyU2VydmljZS5wcmV2aWV3KGZpbGUsICRzY29wZS5icm93c2VyLmxpc3RpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc3RhdGUuZ28oJ2RiLmNvbW11bml0eURhdGEnLCB7c3lzdGVtSWQ6IGZpbGUuc3lzdGVtLCBmaWxlUGF0aDogZmlsZS5wYXRofSk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5vblNlbGVjdCA9IGZ1bmN0aW9uKCRldmVudCwgZmlsZSkge1xuICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIGlmICgkZXZlbnQuY3RybEtleSB8fCAkZXZlbnQubWV0YUtleSkge1xuICAgICAgdmFyIHNlbGVjdGVkSW5kZXggPSAkc2NvcGUuYnJvd3Nlci5zZWxlY3RlZC5pbmRleE9mKGZpbGUpO1xuICAgICAgaWYgKHNlbGVjdGVkSW5kZXggPiAtMSkge1xuICAgICAgICBEYXRhQnJvd3NlclNlcnZpY2UuZGVzZWxlY3QoW2ZpbGVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIERhdGFCcm93c2VyU2VydmljZS5zZWxlY3QoW2ZpbGVdKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCRldmVudC5zaGlmdEtleSAmJiAkc2NvcGUuYnJvd3Nlci5zZWxlY3RlZC5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgbGFzdEZpbGUgPSAkc2NvcGUuYnJvd3Nlci5zZWxlY3RlZFskc2NvcGUuYnJvd3Nlci5zZWxlY3RlZC5sZW5ndGggLSAxXTtcbiAgICAgIHZhciBsYXN0SW5kZXggPSAkc2NvcGUuYnJvd3Nlci5saXN0aW5nLmNoaWxkcmVuLmluZGV4T2YobGFzdEZpbGUpO1xuICAgICAgdmFyIGZpbGVJbmRleCA9ICRzY29wZS5icm93c2VyLmxpc3RpbmcuY2hpbGRyZW4uaW5kZXhPZihmaWxlKTtcbiAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihsYXN0SW5kZXgsIGZpbGVJbmRleCk7XG4gICAgICB2YXIgbWF4ID0gTWF0aC5tYXgobGFzdEluZGV4LCBmaWxlSW5kZXgpO1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnNlbGVjdCgkc2NvcGUuYnJvd3Nlci5saXN0aW5nLmNoaWxkcmVuLnNsaWNlKG1pbiwgbWF4ICsgMSkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGZpbGUuX3VpICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgICAgZmlsZS5fdWkuc2VsZWN0ZWQpe1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmRlc2VsZWN0KFtmaWxlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIERhdGFCcm93c2VyU2VydmljZS5zZWxlY3QoW2ZpbGVdLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLnNob3dGdWxsUGF0aCA9IGZ1bmN0aW9uKGl0ZW0pe1xuICAgIGlmICgkc2NvcGUuYnJvd3Nlci5saXN0aW5nLnBhdGggIT0gJyRQVUJMSUMnICYmXG4gICAgICAgIGl0ZW0ucGFyZW50UGF0aCgpICE9ICRzY29wZS5icm93c2VyLmxpc3RpbmcucGF0aCAmJlxuICAgICAgICBpdGVtLnBhcmVudFBhdGgoKSAhPSAnLycpe1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm9uRGV0YWlsID0gZnVuY3Rpb24oJGV2ZW50LCBmaWxlKSB7XG4gICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIERhdGFCcm93c2VyU2VydmljZS5wcmV2aWV3KGZpbGUsICRzY29wZS5icm93c2VyLmxpc3RpbmcpO1xuICB9O1xuXG4gICRzY29wZS5yZW5kZXJOYW1lID0gZnVuY3Rpb24oZmlsZSl7XG4gICAgaWYgKHR5cGVvZiBmaWxlLm1ldGFkYXRhID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICBmaWxlLm1ldGFkYXRhID09PSBudWxsIHx8XG4gICAgICAgIF8uaXNFbXB0eShmaWxlLm1ldGFkYXRhKSl7XG4gICAgICByZXR1cm4gZmlsZS5uYW1lO1xuICAgIH1cbiAgICB2YXIgcGF0aENvbXBzID0gZmlsZS5wYXRoLnNwbGl0KCcvJyk7XG4gICAgdmFyIGV4cGVyaW1lbnRfcmUgPSAvXmV4cGVyaW1lbnQvO1xuICAgIGlmIChmaWxlLnBhdGhbMF0gPT09ICcvJyAmJiBwYXRoQ29tcHMubGVuZ3RoID09PSAyKSB7XG4gICAgICByZXR1cm4gZmlsZS5tZXRhZGF0YS5wcm9qZWN0LnRpdGxlO1xuICAgIH1cbiAgICBlbHNlIGlmIChmaWxlLnBhdGhbMF0gIT09ICcvJyAmJlxuICAgICAgICAgICAgIHBhdGhDb21wcy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgICAgICBleHBlcmltZW50X3JlLnRlc3QoZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCkpKXtcbiAgICAgIHJldHVybiBmaWxlLm1ldGFkYXRhLmV4cGVyaW1lbnRzWzBdLnRpdGxlO1xuICAgIH1cbiAgICByZXR1cm4gZmlsZS5uYW1lO1xuICB9O1xuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9jb21tdW5pdHkuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = DataDepotNavCtrl;\nfunction DataDepotNavCtrl($scope, $rootScope, $state, Django, SystemsService) {\n  'ngInject';\n\n  $scope.routerItems = [];\n  SystemsService.listing().then(function (resp) {\n    var com_data = _.find(resp, { name: 'Community Data' });\n    var my_data = _.find(resp, { name: \"My Data\" });\n    $scope.routerItems.push({\n      name: 'My Data',\n      collapsible: false,\n      state: 'db.myData({systemId:\"' + my_data.systemId + '\", filePath:\"\"})',\n      description: 'Private directory for your data',\n      icon: 'fa-user'\n    });\n    $scope.routerItems.push({\n      name: 'My Projects',\n      collapsible: false,\n      state: 'db.projects.list',\n      description: 'Group access to shared directories',\n      icon: 'fa-briefcase'\n    });\n    $scope.routerItems.push({\n      name: 'Community Data',\n      collapsible: false,\n      state: 'db.communityData({systemId:\"' + com_data.systemId + '\", filePath:\"/\"})',\n      description: 'Non-curated user-contributed data',\n      icon: 'fa-users'\n    });\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9kYXRhLWRlcG90LW5hdi5qcz84MDUzIl0sIm5hbWVzIjpbIkRhdGFEZXBvdE5hdkN0cmwiLCIkc2NvcGUiLCIkcm9vdFNjb3BlIiwiJHN0YXRlIiwiRGphbmdvIiwiU3lzdGVtc1NlcnZpY2UiLCJyb3V0ZXJJdGVtcyIsImxpc3RpbmciLCJ0aGVuIiwicmVzcCIsImNvbV9kYXRhIiwiXyIsImZpbmQiLCJuYW1lIiwibXlfZGF0YSIsInB1c2giLCJjb2xsYXBzaWJsZSIsInN0YXRlIiwic3lzdGVtSWQiLCJkZXNjcmlwdGlvbiIsImljb24iXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUF3QkEsZ0I7QUFBVCxTQUFTQSxnQkFBVCxDQUEwQkMsTUFBMUIsRUFBa0NDLFVBQWxDLEVBQThDQyxNQUE5QyxFQUFzREMsTUFBdEQsRUFBOERDLGNBQTlELEVBQThFO0FBQzNGOztBQUNBSixTQUFPSyxXQUFQLEdBQXFCLEVBQXJCO0FBQ0FELGlCQUFlRSxPQUFmLEdBQXlCQyxJQUF6QixDQUE4QixVQUFVQyxJQUFWLEVBQWdCO0FBQzVDLFFBQUlDLFdBQVdDLEVBQUVDLElBQUYsQ0FBT0gsSUFBUCxFQUFhLEVBQUNJLE1BQU0sZ0JBQVAsRUFBYixDQUFmO0FBQ0EsUUFBSUMsVUFBVUgsRUFBRUMsSUFBRixDQUFPSCxJQUFQLEVBQWEsRUFBQ0ksTUFBTSxTQUFQLEVBQWIsQ0FBZDtBQUNBWixXQUFPSyxXQUFQLENBQW1CUyxJQUFuQixDQUNFO0FBQ0VGLFlBQU0sU0FEUjtBQUVFRyxtQkFBYSxLQUZmO0FBR0VDLGFBQU8sMEJBQTBCSCxRQUFRSSxRQUFsQyxHQUE0QyxrQkFIckQ7QUFJRUMsbUJBQWEsaUNBSmY7QUFLRUMsWUFBTTtBQUxSLEtBREY7QUFTQW5CLFdBQU9LLFdBQVAsQ0FBbUJTLElBQW5CLENBQ0k7QUFDRUYsWUFBTSxhQURSO0FBRUVHLG1CQUFhLEtBRmY7QUFHRUMsYUFBTyxrQkFIVDtBQUlFRSxtQkFBYSxvQ0FKZjtBQUtFQyxZQUFNO0FBTFIsS0FESjtBQVNBbkIsV0FBT0ssV0FBUCxDQUFtQlMsSUFBbkIsQ0FDSTtBQUNFRixZQUFNLGdCQURSO0FBRUVHLG1CQUFhLEtBRmY7QUFHRUMsYUFBTyxpQ0FBaUNQLFNBQVNRLFFBQTFDLEdBQXFELG1CQUg5RDtBQUlFQyxtQkFBYSxtQ0FKZjtBQUtFQyxZQUFNO0FBTFIsS0FESjtBQVNELEdBOUJEO0FBZ0NEIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEYXRhRGVwb3ROYXZDdHJsKCRzY29wZSwgJHJvb3RTY29wZSwgJHN0YXRlLCBEamFuZ28sIFN5c3RlbXNTZXJ2aWNlKSB7XG4gICduZ0luamVjdCc7XG4gICRzY29wZS5yb3V0ZXJJdGVtcyA9IFtdO1xuICBTeXN0ZW1zU2VydmljZS5saXN0aW5nKCkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgIHZhciBjb21fZGF0YSA9IF8uZmluZChyZXNwLCB7bmFtZTogJ0NvbW11bml0eSBEYXRhJ30pO1xuICAgIHZhciBteV9kYXRhID0gXy5maW5kKHJlc3AsIHtuYW1lOiBcIk15IERhdGFcIn0pO1xuICAgICRzY29wZS5yb3V0ZXJJdGVtcy5wdXNoKFxuICAgICAge1xuICAgICAgICBuYW1lOiAnTXkgRGF0YScsXG4gICAgICAgIGNvbGxhcHNpYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGU6ICdkYi5teURhdGEoe3N5c3RlbUlkOlwiJyArIG15X2RhdGEuc3lzdGVtSWQgKydcIiwgZmlsZVBhdGg6XCJcIn0pJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdQcml2YXRlIGRpcmVjdG9yeSBmb3IgeW91ciBkYXRhJyxcbiAgICAgICAgaWNvbjogJ2ZhLXVzZXInXG4gICAgICB9XG4gICAgKTtcbiAgICAkc2NvcGUucm91dGVySXRlbXMucHVzaChcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdNeSBQcm9qZWN0cycsXG4gICAgICAgICAgY29sbGFwc2libGU6IGZhbHNlLFxuICAgICAgICAgIHN0YXRlOiAnZGIucHJvamVjdHMubGlzdCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdHcm91cCBhY2Nlc3MgdG8gc2hhcmVkIGRpcmVjdG9yaWVzJyxcbiAgICAgICAgICBpY29uOiAnZmEtYnJpZWZjYXNlJ1xuICAgICAgICB9XG4gICAgKTtcbiAgICAkc2NvcGUucm91dGVySXRlbXMucHVzaChcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdDb21tdW5pdHkgRGF0YScsXG4gICAgICAgICAgY29sbGFwc2libGU6IGZhbHNlLFxuICAgICAgICAgIHN0YXRlOiAnZGIuY29tbXVuaXR5RGF0YSh7c3lzdGVtSWQ6XCInICsgY29tX2RhdGEuc3lzdGVtSWQgKyAnXCIsIGZpbGVQYXRoOlwiL1wifSknLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTm9uLWN1cmF0ZWQgdXNlci1jb250cmlidXRlZCBkYXRhJyxcbiAgICAgICAgICBpY29uOiAnZmEtdXNlcnMnXG4gICAgICAgIH1cbiAgICApO1xuICB9KTtcblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL2RhdGFfZGVwb3QvY29udHJvbGxlcnMvZGF0YS1kZXBvdC1uYXYuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = DataDepotNewCtrl;\nfunction DataDepotNewCtrl($scope, $state, Django, DataBrowserService) {\n  'ngInject';\n\n  $scope.test = {\n    enabled: Django.context.authenticated,\n    createFiles: false,\n    createProject: Django.context.authenticated\n  };\n\n  $scope.browser = DataBrowserService.state();\n\n  $scope.$watch('browser.listing', function () {\n    $scope.test.createFiles = false;\n    if ($scope.browser.listing) {\n      $scope.browser.listing.listPermissions().then(function (res) {\n        var pems = res.response;\n        $scope.test.createFiles = _.findWhere(pems, { username: Django.user }).permission.write;\n      });\n    }\n  });\n\n  $scope.createFolder = function ($event) {\n    if ($scope.test.createFiles) {\n      DataBrowserService.mkdir();\n    } else {\n      $event.preventDefault();\n      $event.stopPropagation();\n    }\n  };\n\n  $scope.createProject = function ($event) {\n    if ($scope.test.createProject) {\n      ProjectService.editProject().then(function (project) {\n        $state.go('projects.view.data', { projectId: project.uuid, filePath: '/' });\n      });\n    } else {\n      $event.preventDefault();\n      $event.stopPropagation();\n    }\n  };\n\n  $scope.uploadFiles = function ($event) {\n    if ($scope.test.createFiles) {\n      DataBrowserService.upload(false);\n    } else {\n      $event.preventDefault();\n      $event.stopPropagation();\n    }\n  };\n\n  $scope.uploadFolders = function ($event) {\n    if ($scope.test.createFiles) {\n      DataBrowserService.upload(true);\n    } else {\n      $event.preventDefault();\n      $event.stopPropagation();\n    }\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9kYXRhLWRlcG90LW5ldy5qcz9jZWQ4Il0sIm5hbWVzIjpbIkRhdGFEZXBvdE5ld0N0cmwiLCIkc2NvcGUiLCIkc3RhdGUiLCJEamFuZ28iLCJEYXRhQnJvd3NlclNlcnZpY2UiLCJ0ZXN0IiwiZW5hYmxlZCIsImNvbnRleHQiLCJhdXRoZW50aWNhdGVkIiwiY3JlYXRlRmlsZXMiLCJjcmVhdGVQcm9qZWN0IiwiYnJvd3NlciIsInN0YXRlIiwiJHdhdGNoIiwibGlzdGluZyIsImxpc3RQZXJtaXNzaW9ucyIsInRoZW4iLCJyZXMiLCJwZW1zIiwicmVzcG9uc2UiLCJfIiwiZmluZFdoZXJlIiwidXNlcm5hbWUiLCJ1c2VyIiwicGVybWlzc2lvbiIsIndyaXRlIiwiY3JlYXRlRm9sZGVyIiwiJGV2ZW50IiwibWtkaXIiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIlByb2plY3RTZXJ2aWNlIiwiZWRpdFByb2plY3QiLCJwcm9qZWN0IiwiZ28iLCJwcm9qZWN0SWQiLCJ1dWlkIiwiZmlsZVBhdGgiLCJ1cGxvYWRGaWxlcyIsInVwbG9hZCIsInVwbG9hZEZvbGRlcnMiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUF3QkEsZ0I7QUFBVCxTQUFTQSxnQkFBVCxDQUEwQkMsTUFBMUIsRUFBa0NDLE1BQWxDLEVBQTBDQyxNQUExQyxFQUFrREMsa0JBQWxELEVBQXNFO0FBQ25GOztBQUNBSCxTQUFPSSxJQUFQLEdBQWM7QUFDWkMsYUFBU0gsT0FBT0ksT0FBUCxDQUFlQyxhQURaO0FBRVpDLGlCQUFhLEtBRkQ7QUFHWkMsbUJBQWVQLE9BQU9JLE9BQVAsQ0FBZUM7QUFIbEIsR0FBZDs7QUFNQVAsU0FBT1UsT0FBUCxHQUFpQlAsbUJBQW1CUSxLQUFuQixFQUFqQjs7QUFFQVgsU0FBT1ksTUFBUCxDQUFjLGlCQUFkLEVBQWlDLFlBQVc7QUFDMUNaLFdBQU9JLElBQVAsQ0FBWUksV0FBWixHQUEwQixLQUExQjtBQUNBLFFBQUlSLE9BQU9VLE9BQVAsQ0FBZUcsT0FBbkIsRUFBNEI7QUFDMUJiLGFBQU9VLE9BQVAsQ0FBZUcsT0FBZixDQUF1QkMsZUFBdkIsR0FBeUNDLElBQXpDLENBQThDLFVBQVVDLEdBQVYsRUFBZTtBQUMzRCxZQUFJQyxPQUFPRCxJQUFJRSxRQUFmO0FBQ0FsQixlQUFPSSxJQUFQLENBQVlJLFdBQVosR0FBMEJXLEVBQUVDLFNBQUYsQ0FBWUgsSUFBWixFQUFrQixFQUFDSSxVQUFVbkIsT0FBT29CLElBQWxCLEVBQWxCLEVBQTJDQyxVQUEzQyxDQUFzREMsS0FBaEY7QUFDRCxPQUhEO0FBSUQ7QUFDRixHQVJEOztBQVVBeEIsU0FBT3lCLFlBQVAsR0FBc0IsVUFBU0MsTUFBVCxFQUFpQjtBQUNyQyxRQUFJMUIsT0FBT0ksSUFBUCxDQUFZSSxXQUFoQixFQUE2QjtBQUMzQkwseUJBQW1Cd0IsS0FBbkI7QUFDRCxLQUZELE1BRU87QUFDTEQsYUFBT0UsY0FBUDtBQUNBRixhQUFPRyxlQUFQO0FBQ0Q7QUFDRixHQVBEOztBQVNBN0IsU0FBT1MsYUFBUCxHQUF1QixVQUFTaUIsTUFBVCxFQUFpQjtBQUN0QyxRQUFJMUIsT0FBT0ksSUFBUCxDQUFZSyxhQUFoQixFQUErQjtBQUM3QnFCLHFCQUFlQyxXQUFmLEdBQTZCaEIsSUFBN0IsQ0FBa0MsVUFBVWlCLE9BQVYsRUFBbUI7QUFDbkQvQixlQUFPZ0MsRUFBUCxDQUFVLG9CQUFWLEVBQWdDLEVBQUNDLFdBQVdGLFFBQVFHLElBQXBCLEVBQTBCQyxVQUFVLEdBQXBDLEVBQWhDO0FBQ0QsT0FGRDtBQUdELEtBSkQsTUFJTztBQUNMVixhQUFPRSxjQUFQO0FBQ0FGLGFBQU9HLGVBQVA7QUFDRDtBQUNGLEdBVEQ7O0FBV0E3QixTQUFPcUMsV0FBUCxHQUFxQixVQUFTWCxNQUFULEVBQWlCO0FBQ3BDLFFBQUkxQixPQUFPSSxJQUFQLENBQVlJLFdBQWhCLEVBQTZCO0FBQzNCTCx5QkFBbUJtQyxNQUFuQixDQUEwQixLQUExQjtBQUNELEtBRkQsTUFFTztBQUNMWixhQUFPRSxjQUFQO0FBQ0FGLGFBQU9HLGVBQVA7QUFDRDtBQUNGLEdBUEQ7O0FBU0E3QixTQUFPdUMsYUFBUCxHQUF1QixVQUFTYixNQUFULEVBQWlCO0FBQ3RDLFFBQUkxQixPQUFPSSxJQUFQLENBQVlJLFdBQWhCLEVBQTZCO0FBQzNCTCx5QkFBbUJtQyxNQUFuQixDQUEwQixJQUExQjtBQUNELEtBRkQsTUFFTztBQUNMWixhQUFPRSxjQUFQO0FBQ0FGLGFBQU9HLGVBQVA7QUFDRDtBQUNGLEdBUEQ7QUFTRCIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGF0YURlcG90TmV3Q3RybCgkc2NvcGUsICRzdGF0ZSwgRGphbmdvLCBEYXRhQnJvd3NlclNlcnZpY2UpIHtcbiAgJ25nSW5qZWN0JztcbiAgJHNjb3BlLnRlc3QgPSB7XG4gICAgZW5hYmxlZDogRGphbmdvLmNvbnRleHQuYXV0aGVudGljYXRlZCxcbiAgICBjcmVhdGVGaWxlczogZmFsc2UsXG4gICAgY3JlYXRlUHJvamVjdDogRGphbmdvLmNvbnRleHQuYXV0aGVudGljYXRlZFxuICB9O1xuXG4gICRzY29wZS5icm93c2VyID0gRGF0YUJyb3dzZXJTZXJ2aWNlLnN0YXRlKCk7XG5cbiAgJHNjb3BlLiR3YXRjaCgnYnJvd3Nlci5saXN0aW5nJywgZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnRlc3QuY3JlYXRlRmlsZXMgPSBmYWxzZTtcbiAgICBpZiAoJHNjb3BlLmJyb3dzZXIubGlzdGluZykge1xuICAgICAgJHNjb3BlLmJyb3dzZXIubGlzdGluZy5saXN0UGVybWlzc2lvbnMoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgdmFyIHBlbXMgPSByZXMucmVzcG9uc2U7XG4gICAgICAgICRzY29wZS50ZXN0LmNyZWF0ZUZpbGVzID0gXy5maW5kV2hlcmUocGVtcywge3VzZXJuYW1lOiBEamFuZ28udXNlcn0pLnBlcm1pc3Npb24ud3JpdGU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gICRzY29wZS5jcmVhdGVGb2xkZXIgPSBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICBpZiAoJHNjb3BlLnRlc3QuY3JlYXRlRmlsZXMpIHtcbiAgICAgIERhdGFCcm93c2VyU2VydmljZS5ta2RpcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmNyZWF0ZVByb2plY3QgPSBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICBpZiAoJHNjb3BlLnRlc3QuY3JlYXRlUHJvamVjdCkge1xuICAgICAgUHJvamVjdFNlcnZpY2UuZWRpdFByb2plY3QoKS50aGVuKGZ1bmN0aW9uIChwcm9qZWN0KSB7XG4gICAgICAgICRzdGF0ZS5nbygncHJvamVjdHMudmlldy5kYXRhJywge3Byb2plY3RJZDogcHJvamVjdC51dWlkLCBmaWxlUGF0aDogJy8nfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS51cGxvYWRGaWxlcyA9IGZ1bmN0aW9uKCRldmVudCkge1xuICAgIGlmICgkc2NvcGUudGVzdC5jcmVhdGVGaWxlcykge1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnVwbG9hZChmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUudXBsb2FkRm9sZGVycyA9IGZ1bmN0aW9uKCRldmVudCkge1xuICAgIGlmICgkc2NvcGUudGVzdC5jcmVhdGVGaWxlcykge1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnVwbG9hZCh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9O1xuXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL2RhdGFfZGVwb3QvY29udHJvbGxlcnMvZGF0YS1kZXBvdC1uZXcuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = DataDepotToolbarCtrl;\nfunction DataDepotToolbarCtrl($scope, $state, $uibModal, Django, DataBrowserService) {\n  'ngInject';\n\n  $scope.search = { queryString: '' };\n  $scope.browser = DataBrowserService.state();\n\n  DataBrowserService.subscribe($scope, function ($event, eventData) {\n    if (eventData.type === DataBrowserService.FileEvents.FILE_SELECTION) {\n      updateToolbar();\n    }\n  });\n\n  $scope.tests = {};\n\n  /**\n   * Update the toolbar's status for various functions.\n   */\n  function updateToolbar() {\n    $scope.tests = DataBrowserService.allowedActions($scope.browser.selected);\n  }\n\n  /* Set initial toolbar status */\n  updateToolbar();\n  $scope.apiParams = DataBrowserService.apiParameters();\n  $scope.toolbarOptions = DataBrowserService.toolbarOptions();\n\n  /* Map service functions to toolbar buttons */\n  $scope.ops = {\n    details: function details() {\n      // preview the last selected file or current listing if none selected\n      if ($scope.browser.selected.length > 0) {\n        DataBrowserService.preview($scope.browser.selected.slice(-1)[0]);\n      } else {\n        DataBrowserService.preview($scope.browser.listing);\n      }\n    },\n    download: function download() {\n      DataBrowserService.download($scope.browser.selected);\n    },\n    preview: function preview() {\n      DataBrowserService.preview($scope.browser.selected[0], $scope.browser.listing);\n    },\n    previewImages: function previewImages() {\n      DataBrowserService.previewImages($scope.browser.listing);\n    },\n    viewMetadata: function viewMetadata() {\n      DataBrowserService.viewMetadata($scope.browser.selected, $scope.browser.listing);\n    },\n    viewCategories: function viewCategories() {\n      DataBrowserService.viewCategories($scope.browser.selected, $scope.browser.listing);\n    },\n    share: function share() {\n      DataBrowserService.share($scope.browser.selected[0]);\n    },\n    copy: function copy() {\n      DataBrowserService.copy($scope.browser.selected);\n    },\n    move: function move() {\n      DataBrowserService.move($scope.browser.selected, $scope.browser.listing);\n    },\n    rename: function rename() {\n      DataBrowserService.rename($scope.browser.selected[0]);\n    },\n    trash: function trash() {\n      DataBrowserService.trash($scope.browser.selected);\n    },\n    rm: function rm() {\n      DataBrowserService.rm($scope.browser.selected);\n    },\n    search: function search() {\n      var state = $scope.apiParams.searchState;\n      $state.go(state, { 'query_string': $scope.search.queryString,\n        'systemId': $scope.browser.listing.system,\n        'filePath': '$SEARCH' });\n    }\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9kYXRhLWRlcG90LXRvb2xiYXIuanM/MzBhNCJdLCJuYW1lcyI6WyJEYXRhRGVwb3RUb29sYmFyQ3RybCIsIiRzY29wZSIsIiRzdGF0ZSIsIiR1aWJNb2RhbCIsIkRqYW5nbyIsIkRhdGFCcm93c2VyU2VydmljZSIsInNlYXJjaCIsInF1ZXJ5U3RyaW5nIiwiYnJvd3NlciIsInN0YXRlIiwic3Vic2NyaWJlIiwiJGV2ZW50IiwiZXZlbnREYXRhIiwidHlwZSIsIkZpbGVFdmVudHMiLCJGSUxFX1NFTEVDVElPTiIsInVwZGF0ZVRvb2xiYXIiLCJ0ZXN0cyIsImFsbG93ZWRBY3Rpb25zIiwic2VsZWN0ZWQiLCJhcGlQYXJhbXMiLCJhcGlQYXJhbWV0ZXJzIiwidG9vbGJhck9wdGlvbnMiLCJvcHMiLCJkZXRhaWxzIiwibGVuZ3RoIiwicHJldmlldyIsInNsaWNlIiwibGlzdGluZyIsImRvd25sb2FkIiwicHJldmlld0ltYWdlcyIsInZpZXdNZXRhZGF0YSIsInZpZXdDYXRlZ29yaWVzIiwic2hhcmUiLCJjb3B5IiwibW92ZSIsInJlbmFtZSIsInRyYXNoIiwicm0iLCJzZWFyY2hTdGF0ZSIsImdvIiwic3lzdGVtIl0sIm1hcHBpbmdzIjoiOzs7OztrQkFBd0JBLG9CO0FBQVQsU0FBU0Esb0JBQVQsQ0FBOEJDLE1BQTlCLEVBQXNDQyxNQUF0QyxFQUE4Q0MsU0FBOUMsRUFBeURDLE1BQXpELEVBQWlFQyxrQkFBakUsRUFBcUY7QUFDbEc7O0FBQ0FKLFNBQU9LLE1BQVAsR0FBZ0IsRUFBQ0MsYUFBYyxFQUFmLEVBQWhCO0FBQ0FOLFNBQU9PLE9BQVAsR0FBaUJILG1CQUFtQkksS0FBbkIsRUFBakI7O0FBRUFKLHFCQUFtQkssU0FBbkIsQ0FBNkJULE1BQTdCLEVBQXFDLFVBQVNVLE1BQVQsRUFBaUJDLFNBQWpCLEVBQTRCO0FBQy9E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UCxDQUFVL0IsS0FBVixFQUFpQixFQUFDLGdCQUFnQlIsT0FBT0ssTUFBUCxDQUFjQyxXQUEvQjtBQUNOLG9CQUFZTixPQUFPTyxPQUFQLENBQWVvQixPQUFmLENBQXVCYSxNQUQ3QjtBQUVOLG9CQUFZLFNBRk4sRUFBakI7QUFHRDtBQS9DVSxHQUFiO0FBaUREIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEYXRhRGVwb3RUb29sYmFyQ3RybCgkc2NvcGUsICRzdGF0ZSwgJHVpYk1vZGFsLCBEamFuZ28sIERhdGFCcm93c2VyU2VydmljZSkge1xuICAnbmdJbmplY3QnO1xuICAkc2NvcGUuc2VhcmNoID0ge3F1ZXJ5U3RyaW5nIDogJyd9O1xuICAkc2NvcGUuYnJvd3NlciA9IERhdGFCcm93c2VyU2VydmljZS5zdGF0ZSgpO1xuXG4gIERhdGFCcm93c2VyU2VydmljZS5zdWJzY3JpYmUoJHNjb3BlLCBmdW5jdGlvbigkZXZlbnQsIGV2ZW50RGF0YSkge1xuICAgIGlmIChldmVudERhdGEudHlwZSA9PT0gRGF0YUJyb3dzZXJTZXJ2aWNlLkZpbGVFdmVudHMuRklMRV9TRUxFQ1RJT04pIHtcbiAgICAgIHVwZGF0ZVRvb2xiYXIoKTtcbiAgICB9XG4gIH0pO1xuXG4gICRzY29wZS50ZXN0cyA9IHt9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHRvb2xiYXIncyBzdGF0dXMgZm9yIHZhcmlvdXMgZnVuY3Rpb25zLlxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlVG9vbGJhcigpIHtcbiAgICAkc2NvcGUudGVzdHMgPSBEYXRhQnJvd3NlclNlcnZpY2UuYWxsb3dlZEFjdGlvbnMoJHNjb3BlLmJyb3dzZXIuc2VsZWN0ZWQpO1xuICB9XG5cbiAgLyogU2V0IGluaXRpYWwgdG9vbGJhciBzdGF0dXMgKi9cbiAgdXBkYXRlVG9vbGJhcigpO1xuICAkc2NvcGUuYXBpUGFyYW1zID0gRGF0YUJyb3dzZXJTZXJ2aWNlLmFwaVBhcmFtZXRlcnMoKTtcbiAgJHNjb3BlLnRvb2xiYXJPcHRpb25zID0gRGF0YUJyb3dzZXJTZXJ2aWNlLnRvb2xiYXJPcHRpb25zKCk7XG5cbiAgLyogTWFwIHNlcnZpY2UgZnVuY3Rpb25zIHRvIHRvb2xiYXIgYnV0dG9ucyAqL1xuICAkc2NvcGUub3BzID0ge1xuICAgIGRldGFpbHM6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gcHJldmlldyB0aGUgbGFzdCBzZWxlY3RlZCBmaWxlIG9yIGN1cnJlbnQgbGlzdGluZyBpZiBub25lIHNlbGVjdGVkXG4gICAgICBpZiAoJHNjb3BlLmJyb3dzZXIuc2VsZWN0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICBEYXRhQnJvd3NlclNlcnZpY2UucHJldmlldygkc2NvcGUuYnJvd3Nlci5zZWxlY3RlZC5zbGljZSgtMSlbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnByZXZpZXcoJHNjb3BlLmJyb3dzZXIubGlzdGluZyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkb3dubG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICBEYXRhQnJvd3NlclNlcnZpY2UuZG93bmxvYWQoJHNjb3BlLmJyb3dzZXIuc2VsZWN0ZWQpO1xuICAgIH0sXG4gICAgcHJldmlldzogZnVuY3Rpb24gKCkge1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnByZXZpZXcoJHNjb3BlLmJyb3dzZXIuc2VsZWN0ZWRbMF0sICRzY29wZS5icm93c2VyLmxpc3RpbmcpO1xuICAgIH0sXG4gICAgcHJldmlld0ltYWdlczogZnVuY3Rpb24gKCkge1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnByZXZpZXdJbWFnZXMoJHNjb3BlLmJyb3dzZXIubGlzdGluZyk7XG4gICAgfSxcbiAgICB2aWV3TWV0YWRhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgIERhdGFCcm93c2VyU2VydmljZS52aWV3TWV0YWRhdGEoJHNjb3BlLmJyb3dzZXIuc2VsZWN0ZWQsICRzY29wZS5icm93c2VyLmxpc3RpbmcpO1xuICAgIH0sXG4gICAgdmlld0NhdGVnb3JpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnZpZXdDYXRlZ29yaWVzKCRzY29wZS5icm93c2VyLnNlbGVjdGVkLCAkc2NvcGUuYnJvd3Nlci5saXN0aW5nKTtcbiAgICB9LFxuICAgIHNoYXJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBEYXRhQnJvd3NlclNlcnZpY2Uuc2hhcmUoJHNjb3BlLmJyb3dzZXIuc2VsZWN0ZWRbMF0pO1xuICAgIH0sXG4gICAgY29weTogZnVuY3Rpb24gKCkge1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmNvcHkoJHNjb3BlLmJyb3dzZXIuc2VsZWN0ZWQpO1xuICAgIH0sXG4gICAgbW92ZTogZnVuY3Rpb24gKCkge1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLm1vdmUoJHNjb3BlLmJyb3dzZXIuc2VsZWN0ZWQsICRzY29wZS5icm93c2VyLmxpc3RpbmcpO1xuICAgIH0sXG4gICAgcmVuYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICBEYXRhQnJvd3NlclNlcnZpY2UucmVuYW1lKCRzY29wZS5icm93c2VyLnNlbGVjdGVkWzBdKTtcbiAgICB9LFxuICAgIHRyYXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICBEYXRhQnJvd3NlclNlcnZpY2UudHJhc2goJHNjb3BlLmJyb3dzZXIuc2VsZWN0ZWQpO1xuICAgIH0sXG4gICAgcm06IGZ1bmN0aW9uICgpIHtcbiAgICAgIERhdGFCcm93c2VyU2VydmljZS5ybSgkc2NvcGUuYnJvd3Nlci5zZWxlY3RlZCk7XG4gICAgfSxcbiAgICBzZWFyY2g6IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgc3RhdGUgPSAkc2NvcGUuYXBpUGFyYW1zLnNlYXJjaFN0YXRlO1xuICAgICAgJHN0YXRlLmdvKHN0YXRlLCB7J3F1ZXJ5X3N0cmluZyc6ICRzY29wZS5zZWFyY2gucXVlcnlTdHJpbmcsXG4gICAgICAgICAgICAgICAgICdzeXN0ZW1JZCc6ICRzY29wZS5icm93c2VyLmxpc3Rpbmcuc3lzdGVtLFxuICAgICAgICAgICAgICAgICAnZmlsZVBhdGgnOiAnJFNFQVJDSCd9KTtcbiAgICB9XG4gIH07XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL2RhdGFfZGVwb3QvY29udHJvbGxlcnMvZGF0YS1kZXBvdC10b29sYmFyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _main = __webpack_require__(6);\n\nvar _main2 = _interopRequireDefault(_main);\n\nvar _modalMoveCopy = __webpack_require__(7);\n\nvar _modalMoveCopy2 = _interopRequireDefault(_modalMoveCopy);\n\nvar _dataDepotToolbar = __webpack_require__(4);\n\nvar _dataDepotToolbar2 = _interopRequireDefault(_dataDepotToolbar);\n\nvar _dataDepotNew = __webpack_require__(3);\n\nvar _dataDepotNew2 = _interopRequireDefault(_dataDepotNew);\n\nvar _dataDepotNav = __webpack_require__(2);\n\nvar _dataDepotNav2 = _interopRequireDefault(_dataDepotNav);\n\nvar _community = __webpack_require__(1);\n\nvar _community2 = _interopRequireDefault(_community);\n\nvar _modalPreview = __webpack_require__(8);\n\nvar _modalPreview2 = _interopRequireDefault(_modalPreview);\n\nvar _modalUpload = __webpack_require__(9);\n\nvar _modalUpload2 = _interopRequireDefault(_modalUpload);\n\nvar _myData = __webpack_require__(10);\n\nvar _myData2 = _interopRequireDefault(_myData);\n\nvar _sharedData = __webpack_require__(15);\n\nvar _sharedData2 = _interopRequireDefault(_sharedData);\n\nvar _projectList = __webpack_require__(12);\n\nvar _projectList2 = _interopRequireDefault(_projectList);\n\nvar _projectListing = __webpack_require__(13);\n\nvar _projectListing2 = _interopRequireDefault(_projectListing);\n\nvar _projectView = __webpack_require__(14);\n\nvar _projectView2 = _interopRequireDefault(_projectView);\n\nvar _projectData = __webpack_require__(11);\n\nvar _projectData2 = _interopRequireDefault(_projectData);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mod = angular.module('portal.data_depot.controllers', []);\n\nmod.controller('MainCtrl', _main2.default);\nmod.controller('ModalMoveCopy', _modalMoveCopy2.default);\nmod.controller('DataDepotToolbarCtrl', _dataDepotToolbar2.default);\nmod.controller('DataDepotNewCtrl', _dataDepotNew2.default);\nmod.controller('DataDepotNavCtrl', _dataDepotNav2.default);\nmod.controller('CommunityDataCtrl', _community2.default);\nmod.controller('ModalPreview', _modalPreview2.default);\nmod.controller('ModalUpload', _modalUpload2.default);\nmod.controller('MyDataCtrl', _myData2.default);\nmod.controller('SharedDataCtrl', _sharedData2.default);\nmod.controller('ProjectListCtrl', _projectList2.default);\nmod.controller('ProjectListingCtrl', _projectListing2.default);\nmod.controller('ProjectDataCtrl', _projectData2.default);\nexports.default = mod;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9pbmRleC5qcz9iODA0Il0sIm5hbWVzIjpbIm1vZCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFJQSxNQUFNQyxRQUFRQyxNQUFSLENBQWUsK0JBQWYsRUFBZ0QsRUFBaEQsQ0FBVjs7QUFFQUYsSUFBSUcsVUFBSixDQUFlLFVBQWY7QUFDQUgsSUFBSUcsVUFBSixDQUFlLGVBQWY7QUFDQUgsSUFBSUcsVUFBSixDQUFlLHNCQUFmO0FBQ0FILElBQUlHLFVBQUosQ0FBZSxrQkFBZjtBQUNBSCxJQUFJRyxVQUFKLENBQWUsa0JBQWY7QUFDQUgsSUFBSUcsVUFBSixDQUFlLG1CQUFmO0FBQ0FILElBQUlHLFVBQUosQ0FBZSxjQUFmO0FBQ0FILElBQUlHLFVBQUosQ0FBZSxhQUFmO0FBQ0FILElBQUlHLFVBQUosQ0FBZSxZQUFmO0FBQ0FILElBQUlHLFVBQUosQ0FBZSxnQkFBZjtBQUNBSCxJQUFJRyxVQUFKLENBQWUsaUJBQWY7QUFDQUgsSUFBSUcsVUFBSixDQUFlLG9CQUFmO0FBQ0FILElBQUlHLFVBQUosQ0FBZSxpQkFBZjtrQkFDZUgsRyIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1haW5DdHJsIGZyb20gJy4vbWFpbic7XG5pbXBvcnQgTW9kYWxNb3ZlQ29weSBmcm9tICcuL21vZGFsLW1vdmUtY29weSc7XG5pbXBvcnQgRGF0YURlcG90VG9vbGJhckN0cmwgZnJvbSAnLi9kYXRhLWRlcG90LXRvb2xiYXInO1xuaW1wb3J0IERhdGFEZXBvdE5ld0N0cmwgZnJvbSAnLi9kYXRhLWRlcG90LW5ldyc7XG5pbXBvcnQgRGF0YURlcG90TmF2Q3RybCBmcm9tICcuL2RhdGEtZGVwb3QtbmF2JztcbmltcG9ydCBDb21tdW5pdHlEYXRhQ3RybCBmcm9tICcuL2NvbW11bml0eSc7XG5pbXBvcnQgTW9kYWxQcmV2aWV3IGZyb20gJy4vbW9kYWwtcHJldmlldyc7XG5pbXBvcnQgTW9kYWxVcGxvYWQgZnJvbSAnLi9tb2RhbC11cGxvYWQnO1xuaW1wb3J0IE15RGF0YUN0cmwgZnJvbSAnLi9teS1kYXRhJztcbmltcG9ydCBTaGFyZWREYXRhQ3RybCBmcm9tICcuL3NoYXJlZC1kYXRhJztcbmltcG9ydCBQcm9qZWN0TGlzdEN0cmwgZnJvbSAnLi9wcm9qZWN0LWxpc3QnO1xuaW1wb3J0IFByb2plY3RMaXN0aW5nQ3RybCBmcm9tICcuL3Byb2plY3QtbGlzdGluZyc7XG5pbXBvcnQgUHJvamVjdFZpZXdDdHJsIGZyb20gJy4vcHJvamVjdC12aWV3JztcbmltcG9ydCBQcm9qZWN0RGF0YUN0cmwgZnJvbSAnLi9wcm9qZWN0LWRhdGEnO1xuXG5sZXQgbW9kID0gYW5ndWxhci5tb2R1bGUoJ3BvcnRhbC5kYXRhX2RlcG90LmNvbnRyb2xsZXJzJywgW10pO1xuXG5tb2QuY29udHJvbGxlcignTWFpbkN0cmwnLCBNYWluQ3RybCk7XG5tb2QuY29udHJvbGxlcignTW9kYWxNb3ZlQ29weScsIE1vZGFsTW92ZUNvcHkpO1xubW9kLmNvbnRyb2xsZXIoJ0RhdGFEZXBvdFRvb2xiYXJDdHJsJywgRGF0YURlcG90VG9vbGJhckN0cmwpO1xubW9kLmNvbnRyb2xsZXIoJ0RhdGFEZXBvdE5ld0N0cmwnLCBEYXRhRGVwb3ROZXdDdHJsKTtcbm1vZC5jb250cm9sbGVyKCdEYXRhRGVwb3ROYXZDdHJsJywgRGF0YURlcG90TmF2Q3RybCk7XG5tb2QuY29udHJvbGxlcignQ29tbXVuaXR5RGF0YUN0cmwnLCBDb21tdW5pdHlEYXRhQ3RybCk7XG5tb2QuY29udHJvbGxlcignTW9kYWxQcmV2aWV3JywgTW9kYWxQcmV2aWV3KTtcbm1vZC5jb250cm9sbGVyKCdNb2RhbFVwbG9hZCcsIE1vZGFsVXBsb2FkKTtcbm1vZC5jb250cm9sbGVyKCdNeURhdGFDdHJsJywgTXlEYXRhQ3RybCk7XG5tb2QuY29udHJvbGxlcignU2hhcmVkRGF0YUN0cmwnLCBTaGFyZWREYXRhQ3RybCk7XG5tb2QuY29udHJvbGxlcignUHJvamVjdExpc3RDdHJsJywgUHJvamVjdExpc3RDdHJsKTtcbm1vZC5jb250cm9sbGVyKCdQcm9qZWN0TGlzdGluZ0N0cmwnLCBQcm9qZWN0TGlzdGluZ0N0cmwpO1xubW9kLmNvbnRyb2xsZXIoJ1Byb2plY3REYXRhQ3RybCcsIFByb2plY3REYXRhQ3RybCk7XG5leHBvcnQgZGVmYXVsdCBtb2Q7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9pbmRleC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction MainCtrl($scope, DataBrowserService, SystemsService, $state, $stateParams, $timeout, $location) {\n  'ngInject';\n\n  // TODO: There must be a more 'angular' way to do this...\n\n  if ($location.path() == '/data-depot/') {\n    SystemsService.listing().then(function (resp) {\n      var my_data = _.find(resp, { name: 'My Data' });\n      $state.go('db.myData', {\n        systemId: my_data.systemId,\n        filePath: ''\n      });\n    });\n  }\n  // }, 100);\n}\n\nexports.default = MainCtrl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9tYWluLmpzPzZjZGEiXSwibmFtZXMiOlsiTWFpbkN0cmwiLCIkc2NvcGUiLCJEYXRhQnJvd3NlclNlcnZpY2UiLCJTeXN0ZW1zU2VydmljZSIsIiRzdGF0ZSIsIiRzdGF0ZVBhcmFtcyIsIiR0aW1lb3V0IiwiJGxvY2F0aW9uIiwicGF0aCIsImxpc3RpbmciLCJ0aGVuIiwicmVzcCIsIm15X2RhdGEiLCJfIiwiZmluZCIsIm5hbWUiLCJnbyIsInN5c3RlbUlkIiwiZmlsZVBhdGgiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLFNBQVNBLFFBQVQsQ0FBa0JDLE1BQWxCLEVBQTBCQyxrQkFBMUIsRUFBOENDLGNBQTlDLEVBQThEQyxNQUE5RCxFQUFzRUMsWUFBdEUsRUFBb0ZDLFFBQXBGLEVBQThGQyxTQUE5RixFQUF5RztBQUN2Rzs7QUFFQTs7QUFDQSxNQUFJQSxVQUFVQyxJQUFWLE1BQW9CLGNBQXhCLEVBQXdDO0FBQ3RDTCxtQkFBZU0sT0FBZixHQUF5QkMsSUFBekIsQ0FBOEIsVUFBVUMsSUFBVixFQUFnQjtBQUM1QyxVQUFJQyxVQUFVQyxFQUFFQyxJQUFGLENBQU9ILElBQVAsRUFBYSxFQUFDSSxNQUFNLFNBQVAsRUFBYixDQUFkO0FBQ0FYLGFBQU9ZLEVBQVAsQ0FBVSxXQUFWLEVBQXVCO0FBQ3JCQyxrQkFBVUwsUUFBUUssUUFERztBQUVyQkMsa0JBQVU7QUFGVyxPQUF2QjtBQUlELEtBTkQ7QUFPRDtBQUNEO0FBQ0Q7O2tCQUVjbEIsUSIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5mdW5jdGlvbiBNYWluQ3RybCgkc2NvcGUsIERhdGFCcm93c2VyU2VydmljZSwgU3lzdGVtc1NlcnZpY2UsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLCAkdGltZW91dCwgJGxvY2F0aW9uKSB7XG4gICduZ0luamVjdCc7XG5cbiAgLy8gVE9ETzogVGhlcmUgbXVzdCBiZSBhIG1vcmUgJ2FuZ3VsYXInIHdheSB0byBkbyB0aGlzLi4uXG4gIGlmICgkbG9jYXRpb24ucGF0aCgpID09ICcvZGF0YS1kZXBvdC8nKSB7XG4gICAgU3lzdGVtc1NlcnZpY2UubGlzdGluZygpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgIHZhciBteV9kYXRhID0gXy5maW5kKHJlc3AsIHtuYW1lOiAnTXkgRGF0YSd9KTtcbiAgICAgICRzdGF0ZS5nbygnZGIubXlEYXRhJywge1xuICAgICAgICBzeXN0ZW1JZDogbXlfZGF0YS5zeXN0ZW1JZCxcbiAgICAgICAgZmlsZVBhdGg6ICcnXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvLyB9LCAxMDApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBNYWluQ3RybDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BvcnRhbC9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci9kYXRhX2RlcG90L2NvbnRyb2xsZXJzL21haW4uanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction ModalMoveCopy($scope, $uibModalInstance, $state, FileListing, SystemsService, ProjectService, data) {\n  'ngInject';\n\n  $scope.data = data;\n\n  $scope.state = {\n    busy: false,\n    error: null,\n    listingProjects: false\n  };\n\n  $scope.systems = SystemsService.systems;\n  var mydata_system = _.find($scope.systems, { name: 'My Data' });\n  $scope.options = [{ label: 'My Data',\n    conf: { system: mydata_system.systemId, path: '' },\n    apiParams: { fileMgr: 'my-data', baseUrl: '/api/data-depot/files' } }, { label: 'My Projects',\n    conf: { system: 'projects', path: '' },\n    apiParams: { fileMgr: 'shared', baseUrl: '/api/data-depot/files' } }];\n\n  $scope.currentOption = null;\n  $scope.$watch('currentOption', function () {\n    $scope.state.busy = true;\n    var cOption = $scope.currentOption;\n    if (cOption.conf.system != 'projects') {\n      $scope.state.listingProjects = false;\n      FileListing.get(cOption.conf, cOption.apiParams).then(function (listing) {\n        $scope.listing = listing;\n        $scope.state.busy = false;\n      });\n    } else {\n      $scope.state.listingProjects = true;\n      ProjectService.list().then(function (projects) {\n        $scope.projects = _.map(projects, function (p) {\n          p.href = $state.href('projects.listing', { projectId: p.uuid });\n          return p;\n        });\n        $scope.state.busy = false;\n      });\n    }\n\n    if ($scope.currentOption.label === 'My Data') {\n      $scope.customRoot = {\n        name: 'My Data',\n        system: mydata_system.systemId,\n        path: '/'\n      };\n      $scope.project = null;\n    } else {\n      $scope.customRoot = {\n        name: $scope.currentOption.label,\n        system: $scope.currentOption.conf.system,\n        path: $scope.currentOption.conf.path\n      };\n    }\n  });\n  $scope.currentOption = $scope.options[0];\n\n  $scope.onBrowse = function ($event, fileListing) {\n    $event.preventDefault();\n    $event.stopPropagation();\n    $scope.state.listingProjects = false;\n    var system = fileListing.system || fileListing.id;\n    var path = fileListing.path || '/';\n\n    // If a project is selected\n    if (fileListing.type === 'STORAGE') {\n      $scope.project = fileListing;\n    }\n\n    $scope.state.busy = true;\n    FileListing.get({ system: system, path: path }, $scope.currentOption.apiParams).then(function (listing) {\n      $scope.listing = listing;\n      $scope.state.busy = false;\n    });\n  };\n\n  $scope.validDestination = function (fileListing) {\n    return fileListing && (fileListing.type === 'dir' || fileListing.type === 'folder') && fileListing.permissions && (fileListing.permissions === 'ALL' || fileListing.permissions.indexOf('WRITE') > -1);\n  };\n\n  $scope.chooseDestination = function (fileListing) {\n    $uibModalInstance.close(fileListing);\n  };\n\n  $scope.cancel = function () {\n    $uibModalInstance.dismiss();\n  };\n}\n\nexports.default = ModalMoveCopy;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9tb2RhbC1tb3ZlLWNvcHkuanM/NDczMSJdLCJuYW1lcyI6WyJNb2RhbE1vdmVDb3B5IiwiJHNjb3BlIiwiJHVpYk1vZGFsSW5zdGFuY2UiLCIkc3RhdGUiLCJGaWxlTGlzdGluZyIsIlN5c3RlbXNTZXJ2aWNlIiwiUHJvamVjdFNlcnZpY2UiLCJkYXRhIiwic3RhdGUiLCJidXN5IiwiZXJyb3IiLCJsaXN0aW5nUHJvamVjdHMiLCJzeXN0ZW1zIiwibXlkYXRhX3N5c3RlbSIsIl8iLCJmaW5kIiwibmFtZSIsIm9wdGlvbnMiLCJsYWJlbCIsImNvbmYiLCJzeXN0ZW0iLCJzeXN0ZW1JZCIsInBhdGgiLCJhcGlQYXJhbXMiLCJmaWxlTWdyIiwiYmFzZVVybCIsImN1cnJlbnRPcHRpb24iLCIkd2F0Y2giLCJjT3B0aW9uIiwiZ2V0IiwidGhlbiIsImxpc3RpbmciLCJsaXN0IiwicHJvamVjdHMiLCJtYXAiLCJwIiwiaHJlZiIsInByb2plY3RJZCIsInV1aWQiLCJjdXN0b21Sb290IiwicHJvamVjdCIsIm9uQnJvd3NlIiwiJGV2ZW50IiwiZmlsZUxpc3RpbmciLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImlkIiwidHlwZSIsInZhbGlkRGVzdGluYXRpb24iLCJwZXJtaXNzaW9ucyIsImluZGV4T2YiLCJjaG9vc2VEZXN0aW5hdGlvbiIsImNsb3NlIiwiY2FuY2VsIiwiZGlzbWlzcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxTQUFTQSxhQUFULENBQXVCQyxNQUF2QixFQUErQkMsaUJBQS9CLEVBQWtEQyxNQUFsRCxFQUEwREMsV0FBMUQsRUFBdUVDLGNBQXZFLEVBQXVGQyxjQUF2RixFQUF1R0MsSUFBdkcsRUFBNkc7QUFDM0c7O0FBQ0FOLFNBQU9NLElBQVAsR0FBY0EsSUFBZDs7QUFFQU4sU0FBT08sS0FB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dCI6WyJmdW5jdGlvbiBNb2RhbE1vdmVDb3B5KCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsICRzdGF0ZSwgRmlsZUxpc3RpbmcsIFN5c3RlbXNTZXJ2aWNlLCBQcm9qZWN0U2VydmljZSwgZGF0YSkge1xuICAnbmdJbmplY3QnO1xuICAkc2NvcGUuZGF0YSA9IGRhdGE7XG5cbiAgJHNjb3BlLnN0YXRlID0ge1xuICAgIGJ1c3k6IGZhbHNlLFxuICAgIGVycm9yOiBudWxsLFxuICAgIGxpc3RpbmdQcm9qZWN0czogZmFsc2VcbiAgfTtcblxuICAkc2NvcGUuc3lzdGVtcyA9IFN5c3RlbXNTZXJ2aWNlLnN5c3RlbXM7XG4gIHZhciBteWRhdGFfc3lzdGVtID0gXy5maW5kKCRzY29wZS5zeXN0ZW1zLCB7bmFtZTogJ015IERhdGEnfSk7XG4gICRzY29wZS5vcHRpb25zID0gW1xuICAgIHtsYWJlbDogJ015IERhdGEnLFxuICAgICBjb25mOiB7c3lzdGVtOiBteWRhdGFfc3lzdGVtLnN5c3RlbUlkLCBwYXRoOiAnJ30sXG4gICAgIGFwaVBhcmFtczoge2ZpbGVNZ3I6ICdteS1kYXRhJywgYmFzZVVybDogJy9hcGkvZGF0YS1kZXBvdC9maWxlcyd9fSxcbiAgICB7bGFiZWw6ICdNeSBQcm9qZWN0cycsXG4gICAgIGNvbmY6IHtzeXN0ZW06ICdwcm9qZWN0cycsIHBhdGg6ICcnfSxcbiAgICAgYXBpUGFyYW1zOiB7ZmlsZU1ncjogJ3NoYXJlZCcsIGJhc2VVcmw6ICcvYXBpL2RhdGEtZGVwb3QvZmlsZXMnfX0sXG4gIF07XG5cbiAgJHNjb3BlLmN1cnJlbnRPcHRpb24gPSBudWxsO1xuICAkc2NvcGUuJHdhdGNoKCdjdXJyZW50T3B0aW9uJywgZnVuY3Rpb24gKCkge1xuICAgICRzY29wZS5zdGF0ZS5idXN5ID0gdHJ1ZTtcbiAgICB2YXIgY09wdGlvbiA9ICRzY29wZS5jdXJyZW50T3B0aW9uO1xuICAgIGlmIChjT3B0aW9uLmNvbmYuc3lzdGVtICE9ICdwcm9qZWN0cycpe1xuICAgICAgJHNjb3BlLnN0YXRlLmxpc3RpbmdQcm9qZWN0cyA9IGZhbHNlO1xuICAgICAgRmlsZUxpc3RpbmcuZ2V0KGNPcHRpb24uY29uZiwgY09wdGlvbi5hcGlQYXJhbXMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChsaXN0aW5nKSB7XG4gICAgICAgICAgJHNjb3BlLmxpc3RpbmcgPSBsaXN0aW5nO1xuICAgICAgICAgICRzY29wZS5zdGF0ZS5idXN5ID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc2NvcGUuc3RhdGUubGlzdGluZ1Byb2plY3RzID0gdHJ1ZTtcbiAgICAgIFByb2plY3RTZXJ2aWNlLmxpc3QoKVxuICAgICAgIC50aGVuKGZ1bmN0aW9uKHByb2plY3RzKXtcbiAgICAgICAgICRzY29wZS5wcm9qZWN0cyA9IF8ubWFwKHByb2plY3RzLCBmdW5jdGlvbihwKSB7XG4gICAgICAgICAgIHAuaHJlZiA9ICRzdGF0ZS5ocmVmKCdwcm9qZWN0cy5saXN0aW5nJywge3Byb2plY3RJZDogcC51dWlkfSk7XG4gICAgICAgICAgIHJldHVybiBwO30pO1xuICAgICAgICAgJHNjb3BlLnN0YXRlLmJ1c3kgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICgkc2NvcGUuY3VycmVudE9wdGlvbi5sYWJlbCA9PT0gJ015IERhdGEnKSB7XG4gICAgICAkc2NvcGUuY3VzdG9tUm9vdCA9IHtcbiAgICAgICAgbmFtZTogJ015IERhdGEnLFxuICAgICAgICBzeXN0ZW06IG15ZGF0YV9zeXN0ZW0uc3lzdGVtSWQsXG4gICAgICAgIHBhdGg6ICcvJ1xuICAgICAgfTtcbiAgICAgICRzY29wZS5wcm9qZWN0ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNjb3BlLmN1c3RvbVJvb3QgPSB7XG4gICAgICAgIG5hbWU6ICRzY29wZS5jdXJyZW50T3B0aW9uLmxhYmVsLFxuICAgICAgICBzeXN0ZW06ICRzY29wZS5jdXJyZW50T3B0aW9uLmNvbmYuc3lzdGVtLFxuICAgICAgICBwYXRoOiAkc2NvcGUuY3VycmVudE9wdGlvbi5jb25mLnBhdGhcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbiAgJHNjb3BlLmN1cnJlbnRPcHRpb24gPSAkc2NvcGUub3B0aW9uc1swXTtcblxuICAkc2NvcGUub25Ccm93c2UgPSBmdW5jdGlvbiAoJGV2ZW50LCBmaWxlTGlzdGluZykge1xuICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAkc2NvcGUuc3RhdGUubGlzdGluZ1Byb2plY3RzID0gZmFsc2U7XG4gICAgdmFyIHN5c3RlbSA9IGZpbGVMaXN0aW5nLnN5c3RlbSB8fCBmaWxlTGlzdGluZy5pZDtcbiAgICB2YXIgcGF0aCA9IGZpbGVMaXN0aW5nLnBhdGggfHwgJy8nO1xuXG4gICAgLy8gSWYgYSBwcm9qZWN0IGlzIHNlbGVjdGVkXG4gICAgaWYgKGZpbGVMaXN0aW5nLnR5cGUgPT09ICdTVE9SQUdFJykge1xuICAgICAgJHNjb3BlLnByb2plY3QgPSBmaWxlTGlzdGluZztcbiAgICB9XG5cblxuICAgICRzY29wZS5zdGF0ZS5idXN5ID0gdHJ1ZTtcbiAgICBGaWxlTGlzdGluZy5nZXQoe3N5c3RlbTogc3lzdGVtLCBwYXRoOiBwYXRofSwgJHNjb3BlLmN1cnJlbnRPcHRpb24uYXBpUGFyYW1zKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKGxpc3RpbmcpIHtcbiAgICAgICAgJHNjb3BlLmxpc3RpbmcgPSBsaXN0aW5nO1xuICAgICAgICAkc2NvcGUuc3RhdGUuYnVzeSA9IGZhbHNlO1xuICAgICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnZhbGlkRGVzdGluYXRpb24gPSBmdW5jdGlvbiAoZmlsZUxpc3RpbmcpIHtcbiAgICByZXR1cm4gZmlsZUxpc3RpbmcgJiYgKCBmaWxlTGlzdGluZy50eXBlID09PSAnZGlyJyB8fCBmaWxlTGlzdGluZy50eXBlID09PSAnZm9sZGVyJykgJiYgZmlsZUxpc3RpbmcucGVybWlzc2lvbnMgJiYgKGZpbGVMaXN0aW5nLnBlcm1pc3Npb25zID09PSAnQUxMJyB8fCBmaWxlTGlzdGluZy5wZXJtaXNzaW9ucy5pbmRleE9mKCdXUklURScpID4gLTEpO1xuICB9O1xuXG4gICRzY29wZS5jaG9vc2VEZXN0aW5hdGlvbiA9IGZ1bmN0aW9uIChmaWxlTGlzdGluZykge1xuICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKGZpbGVMaXN0aW5nKTtcbiAgfTtcblxuICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcbiAgfTtcblxufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RhbE1vdmVDb3B5O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL2RhdGFfZGVwb3QvY29udHJvbGxlcnMvbW9kYWwtbW92ZS1jb3B5LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ModalPreview;\nfunction ModalPreview($scope, $uibModalInstance, $sce, file) {\n  'ngInject';\n\n  $scope.file = file;\n  if (typeof listing !== 'undefined' && typeof listing.metadata !== 'undefined' && !_.isEmpty(listing.metadata.project)) {\n    var _listing = angular.copy(listing);\n    $scope.file.metadata = _listing.metadata;\n  }\n  $scope.busy = true;\n\n  $scope.iframeLoadedCallback = function () {\n    $scope.busy = false;\n    $scope.$apply();\n  };\n\n  file.preview().then(function (data) {\n    $scope.previewHref = $sce.trustAs('resourceUrl', data.href);\n  }, function (err) {\n    $scope.previewError = \"Could not preview this item!\";\n    $scope.busy = false;\n  });\n\n  // $scope.tests = allowedActions([file]);\n  //\n  // $scope.download = function() {\n  //   download(file);\n  // };\n  // $scope.share = function() {\n  //   share(file);\n  // };\n  // $scope.copy = function() {\n  //   copy(file);\n  // };\n  // $scope.move = function() {\n  //   move(file, currentState.listing);\n  // };\n  // $scope.rename = function() {\n  //   rename(file);\n  // };\n  // $scope.viewMetadata = function() {\n  //   $scope.close();\n  //   viewMetadata(file);\n  // };\n  // $scope.trash = function() {\n  //   trash(file);\n  // };\n  // $scope.rm = function() {\n  //   rm(file);\n  // };\n\n  $scope.close = function () {\n    $uibModalInstance.dismiss();\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9tb2RhbC1wcmV2aWV3LmpzP2E3ZmUiXSwibmFtZXMiOlsiTW9kYWxQcmV2aWV3IiwiJHNjb3BlIiwiJHVpYk1vZGFsSW5zdGFuY2UiLCIkc2NlIiwiZmlsZSIsImxpc3RpbmciLCJtZXRhZGF0YSIsIl8iLCJpc0VtcHR5IiwicHJvamVjdCIsIl9saXN0aW5nIiwiYW5ndWxhciIsImNvcHkiLCJidXN5IiwiaWZyYW1lTG9hZGVkQ2FsbGJhY2siLCIkYXBwbHkiLCJwcmV2aWV3IiwidGhlbiIsImRhdGEiLCJwcmV2aWV3SHJlZiIsInRydXN0QXMiLCJocmVmIiwiZXJyIiwicHJldmlld0Vycm9yIiwiY2xvc2UiLCJkaXNtaXNzIl0sIm1hcHBpbmdzIjoiOzs7OztrQkFBd0JBLFk7QUFBVCxTQUFTQSxZQUFULENBQXNCQyxNQUF0QixFQUE4QkMsaUJBQTlCLEVBQWlEQyxJQUFqRCxFQUF1REMsSUFBdkQsRUFBNkQ7QUFDMUU7O0FBQ0FILFNBQU9HLElBQVAsR0FBY0EsSUFBZDtBQUNBLE1BQUksT0FBT0MsT0FBUCxLQUFtQixXQUFuQixJQUNBLE9BQU9BLFFBQVFDLFFBQWYsS0FBNEIsV0FENUIsSUFFQSxDQUFDQyxFQUFFQyxPQUFGLENBQVVILFFBQVFDLFFBQVIsQ0FBaUJHLE9BQTNCLENBRkwsRUFFeUM7QUFDdkMsUUFBSUMsV0FBV0MsUUFBUUMsSUFBUixDQUFhUCxPQUFiLENBQWY7QUFDQUosV0FBT0csSUFBUCxDQUFZRSxRQUFaLEdBQXVCSSxTQUFTSixRQUFoQztBQUNEO0FBQ0RMLFNBQU9ZLElBQVAsR0FBYyxJQUFkOztBQUVBWixTQUFPYSxvQkFBUCxHQUErQixZQUFZO0FBQ3pDYixXQUFPWSxJQUFQLEdBQWMsS0FBZDtBQUNBWixXQUFPYyxNQUFQO0FBQ0QsR0FIRDs7QUFLQVgsT0FBS1ksT0FBTCxHQUFlQyxJQUFmLENBQ0UsVUFBVUMsSUFBVixFQUFnQjtBQUNkakIsV0FBT2tCLFdBQVAsR0FBcUJoQixLQUFLaUIsT0FBTCxDQUFhLGFBQWIsRUFBNEJGLEtBQUtHLElBQWpDLENBQXJCO0FBQ0QsR0FISCxFQUlFLFVBQVVDLEdBQVYsRUFBZTtBQUNickIsV0FBT3NCLFlBQVAsR0FBc0IsOEJBQXRCO0FBQ0F0QixXQUFPWSxJQUFQLEdBQWMsS0FBZDtBQUNELEdBUEg7O0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBWixTQUFPdUIsS0FBUCxHQUFlLFlBQVk7QUFDekJ0QixzQkFBa0J1QixPQUFsQjtBQUNELEdBRkQ7QUFJRCIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW9kYWxQcmV2aWV3KCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsICRzY2UsIGZpbGUpIHtcbiAgJ25nSW5qZWN0JztcbiAgJHNjb3BlLmZpbGUgPSBmaWxlO1xuICBpZiAodHlwZW9mIGxpc3RpbmcgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2YgbGlzdGluZy5tZXRhZGF0YSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICFfLmlzRW1wdHkobGlzdGluZy5tZXRhZGF0YS5wcm9qZWN0KSl7XG4gICAgdmFyIF9saXN0aW5nID0gYW5ndWxhci5jb3B5KGxpc3RpbmcpO1xuICAgICRzY29wZS5maWxlLm1ldGFkYXRhID0gX2xpc3RpbmcubWV0YWRhdGE7XG4gIH1cbiAgJHNjb3BlLmJ1c3kgPSB0cnVlO1xuXG4gICRzY29wZS5pZnJhbWVMb2FkZWRDYWxsYmFjayAgPSBmdW5jdGlvbiAoKSB7XG4gICAgJHNjb3BlLmJ1c3kgPSBmYWxzZTtcbiAgICAkc2NvcGUuJGFwcGx5KCk7XG4gIH07XG5cbiAgZmlsZS5wcmV2aWV3KCkudGhlbihcbiAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgJHNjb3BlLnByZXZpZXdIcmVmID0gJHNjZS50cnVzdEFzKCdyZXNvdXJjZVVybCcsIGRhdGEuaHJlZik7XG4gICAgfSxcbiAgICBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAkc2NvcGUucHJldmlld0Vycm9yID0gXCJDb3VsZCBub3QgcHJldmlldyB0aGlzIGl0ZW0hXCI7XG4gICAgICAkc2NvcGUuYnVzeSA9IGZhbHNlO1xuICAgIH0pO1xuXG5cbiAgLy8gJHNjb3BlLnRlc3RzID0gYWxsb3dlZEFjdGlvbnMoW2ZpbGVdKTtcbiAgLy9cbiAgLy8gJHNjb3BlLmRvd25sb2FkID0gZnVuY3Rpb24oKSB7XG4gIC8vICAgZG93bmxvYWQoZmlsZSk7XG4gIC8vIH07XG4gIC8vICRzY29wZS5zaGFyZSA9IGZ1bmN0aW9uKCkge1xuICAvLyAgIHNoYXJlKGZpbGUpO1xuICAvLyB9O1xuICAvLyAkc2NvcGUuY29weSA9IGZ1bmN0aW9uKCkge1xuICAvLyAgIGNvcHkoZmlsZSk7XG4gIC8vIH07XG4gIC8vICRzY29wZS5tb3ZlID0gZnVuY3Rpb24oKSB7XG4gIC8vICAgbW92ZShmaWxlLCBjdXJyZW50U3RhdGUubGlzdGluZyk7XG4gIC8vIH07XG4gIC8vICRzY29wZS5yZW5hbWUgPSBmdW5jdGlvbigpIHtcbiAgLy8gICByZW5hbWUoZmlsZSk7XG4gIC8vIH07XG4gIC8vICRzY29wZS52aWV3TWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgLy8gICAkc2NvcGUuY2xvc2UoKTtcbiAgLy8gICB2aWV3TWV0YWRhdGEoZmlsZSk7XG4gIC8vIH07XG4gIC8vICRzY29wZS50cmFzaCA9IGZ1bmN0aW9uKCkge1xuICAvLyAgIHRyYXNoKGZpbGUpO1xuICAvLyB9O1xuICAvLyAkc2NvcGUucm0gPSBmdW5jdGlvbigpIHtcbiAgLy8gICBybShmaWxlKTtcbiAgLy8gfTtcblxuICAkc2NvcGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xuICB9O1xuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9tb2RhbC1wcmV2aWV3LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ModalUpload;\nfunction ModalUpload($scope, $q, $uibModalInstance, Modernizr, directoryUpload, destination, files, currentState) {\n  'ngInject';\n\n  $scope.data = {\n    destination: destination,\n    selectedFiles: files || [],\n    uploads: []\n  };\n\n  $scope.state = {\n    uploading: false,\n    retry: false,\n    directoryUpload: directoryUpload,\n    directoryUploadSupported: Modernizr.fileinputdirectory,\n    ui: { tagFiles: false }\n  };\n\n  $scope.$watch('data.selectedFiles', function (newValue) {\n    _.each(newValue, function (val) {\n      $scope.data.uploads.push({\n        file: val,\n        state: 'pending',\n        promise: null\n      });\n    });\n\n    // reset file control since we want to allow multiple selection events\n    $('#id-choose-files').val(null);\n  });\n\n  $scope.tagFiles = function () {\n    $uibModalInstance.close();\n    var files = _.filter(currentState.listing.children, function (child) {\n      if (_.find($scope.data.uploads, function (upload) {\n        return upload.file.name === child.name;\n      })) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n    if (files.length) {\n      viewCategories(files);\n    } else {\n      viewCategories();\n    }\n  };\n\n  $scope.upload = function () {\n    $scope.state.uploading = true;\n    var tasks = _.map($scope.data.uploads, function (upload) {\n      upload.state = 'uploading';\n\n      var formData = new window.FormData();\n      formData.append('file', upload.file);\n      if (upload.file.webkitRelativePath) {\n        formData.append('relative_path', upload.file.webkitRelativePath);\n      }\n      return currentState.listing.upload(formData).then(function (resp) {\n        upload.state = 'success';\n        return { status: 'success', response: resp };\n      }, function (err) {\n        upload.state = 'error';\n        upload.error = err.data;\n        return { status: 'error', response: err.data };\n      });\n    });\n\n    $q.all(tasks).then(function (results) {\n      $scope.state.uploading = false;\n\n      currentState.busy = true;\n      currentState.listing.fetch().then(function () {\n        currentState.busy = false;\n        if (currentState.project) {\n          currentState.ui.tagFiles = true;\n          $scope.state.ui.tagFiles = true;\n        }\n      });\n\n      var errors = _.filter(results, function (result) {\n        return result.status === 'error';\n      });\n\n      if (errors.length > 0) {\n        // oh noes...give the user another chance with any errors\n        $scope.state.retry = true;\n      } else {\n        // it's all good; close the modal\n        if (!currentState.project) {\n          $uibModalInstance.close();\n        }\n      }\n    });\n  };\n\n  $scope.retry = function () {\n    $scope.data.uploads = _.where($scope.data.uploads, { state: 'error' });\n    $scope.upload();\n    $scope.state.retry = false;\n  };\n\n  /**\n   * Remove an upload from the list of staged uploads.\n   *\n   * @param index\n   */\n  $scope.removeUpload = function (index) {\n    $scope.data.uploads.splice(index, 1);\n  };\n\n  /**\n   * Clear all staged uploads.\n   */\n  $scope.reset = function () {\n    // reset models\n    $scope.data.selectedFiles = [];\n    $scope.data.uploads = [];\n  };\n\n  /**\n   * Cancel and close upload dialog.\n   */\n  $scope.cancel = function () {\n    $uibModalInstance.dismiss('cancel');\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9tb2RhbC11cGxvYWQuanM/MzQ1YyJdLCJuYW1lcyI6WyJNb2RhbFVwbG9hZCIsIiRzY29wZSIsIiRxIiwiJHVpYk1vZGFsSW5zdGFuY2UiLCJNb2Rlcm5penIiLCJkaXJlY3RvcnlVcGxvYWQiLCJkZXN0aW5hdGlvbiIsImZpbGVzIiwiY3VycmVudFN0YXRlIiwiZGF0YSIsInNlbGVjdGVkRmlsZXMiLCJ1cGxvYWRzIiwic3RhdGUiLCJ1cGxvYWRpbmciLCJyZXRyeSIsImRpcmVjdG9yeVVwbG9hZFN1cHBvcnRlZCIsImZpbGVpbnB1dGRpcmVjdG9yeSIsInVpIiwidGFnRmlsZXMiLCIkd2F0Y2giLCJuZXdWYWx1ZSIsIl8iLCJlYWNoIiwidmFsIiwicHVzaCIsImZpbGUiLCJwcm9taXNlIiwiJCIsImNsb3NlIiwiZmlsdGVyIiwibGlzdGluZyIsImNoaWxkcmVuIiwiY2hpbGQiLCJmaW5kIiwidXBsb2FkIiwibmFtZSIsImxlbmd0aCIsInZpZXdDYXRlZ29yaWVzIiwidGFza3MiLCJtYXAiLCJmb3JtRGF0YSIsIndpbmRvdyIsIkZvcm1EYXRhIiwiYXBwZW5kIiwid2Via2l0UmVsYXRpdmVQYXRoIiwidGhlbiIsInJlc3AiLCJzdGF0dXMiLCJyZXNwb25zZSIsImVyciIsImVycm9yIiwiYWxsIiwicmVzdWx0cyIsImJ1c3kiLCJmZXRjaCIsInByb2plY3QiLCJlcnJvcnMiLCJyZXN1bHQiLCJ3aGVyZSIsInJlbW92ZVVwbG9hZCIsImluZGV4Iiwic3BsaWNlIiwicmVzZXQiLCJjYW5jZWwiLCJkaXNtaXNzIl0sIm1hcHBpbmdzIjoiOzs7OztrQkFBd0JBLFc7QUFBVCxTQUFTQSxXQUFULENBQXFCQyxNQUFyQixFQUE2QkMsRUFBN0IsRUFBaUNDLGlCQUFqQyxFQUFvREMsU0FBcEQsRUFBK0RDLGVBQS9ELEVBQWdGQyxXQUFo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QUFaLENBQW9Ca0QsTUFBcEIsQ0FBMkJELEtBQTNCLEVBQWtDLENBQWxDO0FBQ0QsR0FGRDs7QUFJQTs7O0FBR0EzRCxTQUFPNkQsS0FBUCxHQUFlLFlBQVk7QUFDekI7QUFDQTdELFdBQU9RLElBQVAsQ0FBWUMsYUFBWixHQUE0QixFQUE1QjtBQUNBVCxXQUFPUSxJQUFQLENBQVlFLE9BQVosR0FBc0IsRUFBdEI7QUFDRCxHQUpEOztBQU1BOzs7QUFHQVYsU0FBTzhELE1BQVAsR0FBZ0IsWUFBWTtBQUMxQjVELHNCQUFrQjZELE9BQWxCLENBQTBCLFFBQTFCO0FBQ0QsR0FGRDtBQUdEIiwiZmlsZSI6IjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb2RhbFVwbG9hZCgkc2NvcGUsICRxLCAkdWliTW9kYWxJbnN0YW5jZSwgTW9kZXJuaXpyLCBkaXJlY3RvcnlVcGxvYWQsIGRlc3RpbmF0aW9uLCBmaWxlcywgY3VycmVudFN0YXRlKSB7XG4gICduZ0luamVjdCc7XG4gICRzY29wZS5kYXRhID0ge1xuICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICBzZWxlY3RlZEZpbGVzOiBmaWxlcyB8fCBbXSxcbiAgICB1cGxvYWRzOiBbXVxuICB9O1xuXG4gICRzY29wZS5zdGF0ZSA9IHtcbiAgICB1cGxvYWRpbmc6IGZhbHNlLFxuICAgIHJldHJ5OiBmYWxzZSxcbiAgICBkaXJlY3RvcnlVcGxvYWQ6IGRpcmVjdG9yeVVwbG9hZCxcbiAgICBkaXJlY3RvcnlVcGxvYWRTdXBwb3J0ZWQ6IE1vZGVybml6ci5maWxlaW5wdXRkaXJlY3RvcnksXG4gICAgdWk6IHt0YWdGaWxlczogZmFsc2V9XG4gIH07XG5cbiAgJHNjb3BlLiR3YXRjaCgnZGF0YS5zZWxlY3RlZEZpbGVzJywgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICBfLmVhY2gobmV3VmFsdWUsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgJHNjb3BlLmRhdGEudXBsb2Fkcy5wdXNoKHtcbiAgICAgICAgZmlsZTogdmFsLFxuICAgICAgICBzdGF0ZTogJ3BlbmRpbmcnLFxuICAgICAgICBwcm9taXNlOiBudWxsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIHJlc2V0IGZpbGUgY29udHJvbCBzaW5jZSB3ZSB3YW50IHRvIGFsbG93IG11bHRpcGxlIHNlbGVjdGlvbiBldmVudHNcbiAgICAkKCcjaWQtY2hvb3NlLWZpbGVzJykudmFsKG51bGwpO1xuICB9KTtcblxuICAkc2NvcGUudGFnRmlsZXMgPSBmdW5jdGlvbigpe1xuICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICAgdmFyIGZpbGVzID0gXy5maWx0ZXIoY3VycmVudFN0YXRlLmxpc3RpbmcuY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkKXtcbiAgICAgIGlmKF8uZmluZCgkc2NvcGUuZGF0YS51cGxvYWRzLCBmdW5jdGlvbih1cGxvYWQpe1xuICAgICAgICByZXR1cm4gdXBsb2FkLmZpbGUubmFtZSA9PT0gY2hpbGQubmFtZTtcbiAgICAgIH0pKXtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoZmlsZXMubGVuZ3RoKXtcbiAgICAgIHZpZXdDYXRlZ29yaWVzKGZpbGVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmlld0NhdGVnb3JpZXMoKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLnVwbG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5zdGF0ZS51cGxvYWRpbmcgPSB0cnVlO1xuICAgIHZhciB0YXNrcyA9IF8ubWFwKCRzY29wZS5kYXRhLnVwbG9hZHMsIGZ1bmN0aW9uKHVwbG9hZCkge1xuICAgICAgdXBsb2FkLnN0YXRlID0gJ3VwbG9hZGluZyc7XG5cbiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyB3aW5kb3cuRm9ybURhdGEoKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIHVwbG9hZC5maWxlKTtcbiAgICAgIGlmICh1cGxvYWQuZmlsZS53ZWJraXRSZWxhdGl2ZVBhdGgpIHtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdyZWxhdGl2ZV9wYXRoJywgdXBsb2FkLmZpbGUud2Via2l0UmVsYXRpdmVQYXRoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJyZW50U3RhdGUubGlzdGluZy51cGxvYWQoZm9ybURhdGEpLnRoZW4oXG4gICAgICAgIGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgICAgdXBsb2FkLnN0YXRlID0gJ3N1Y2Nlc3MnO1xuICAgICAgICAgIHJldHVybiB7c3RhdHVzOiAnc3VjY2VzcycsIHJlc3BvbnNlOiByZXNwfTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIHVwbG9hZC5zdGF0ZSA9ICdlcnJvcic7XG4gICAgICAgICAgdXBsb2FkLmVycm9yID0gZXJyLmRhdGE7XG4gICAgICAgICAgcmV0dXJuIHtzdGF0dXM6ICdlcnJvcicsIHJlc3BvbnNlOiBlcnIuZGF0YX07XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICAkcS5hbGwodGFza3MpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICRzY29wZS5zdGF0ZS51cGxvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgY3VycmVudFN0YXRlLmJ1c3kgPSB0cnVlO1xuICAgICAgY3VycmVudFN0YXRlLmxpc3RpbmcuZmV0Y2goKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudFN0YXRlLmJ1c3kgPSBmYWxzZTtcbiAgICAgICAgaWYoY3VycmVudFN0YXRlLnByb2plY3Qpe1xuICAgICAgICAgIGN1cnJlbnRTdGF0ZS51aS50YWdGaWxlcyA9IHRydWU7XG4gICAgICAgICAgJHNjb3BlLnN0YXRlLnVpLnRhZ0ZpbGVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBlcnJvcnMgPSBfLmZpbHRlcihyZXN1bHRzLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiByZXN1bHQuc3RhdHVzID09PSAnZXJyb3InO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBvaCBub2VzLi4uZ2l2ZSB0aGUgdXNlciBhbm90aGVyIGNoYW5jZSB3aXRoIGFueSBlcnJvcnNcbiAgICAgICAgJHNjb3BlLnN0YXRlLnJldHJ5ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGl0J3MgYWxsIGdvb2Q7IGNsb3NlIHRoZSBtb2RhbFxuICAgICAgICBpZiAoIWN1cnJlbnRTdGF0ZS5wcm9qZWN0KXtcbiAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnJldHJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmRhdGEudXBsb2FkcyA9IF8ud2hlcmUoJHNjb3BlLmRhdGEudXBsb2Fkcywge3N0YXRlOiAnZXJyb3InfSk7XG4gICAgJHNjb3BlLnVwbG9hZCgpO1xuICAgICRzY29wZS5zdGF0ZS5yZXRyeSA9IGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gdXBsb2FkIGZyb20gdGhlIGxpc3Qgb2Ygc3RhZ2VkIHVwbG9hZHMuXG4gICAqXG4gICAqIEBwYXJhbSBpbmRleFxuICAgKi9cbiAgJHNjb3BlLnJlbW92ZVVwbG9hZCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICRzY29wZS5kYXRhLnVwbG9hZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2xlYXIgYWxsIHN0YWdlZCB1cGxvYWRzLlxuICAgKi9cbiAgJHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHJlc2V0IG1vZGVsc1xuICAgICRzY29wZS5kYXRhLnNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAkc2NvcGUuZGF0YS51cGxvYWRzID0gW107XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbmNlbCBhbmQgY2xvc2UgdXBsb2FkIGRpYWxvZy5cbiAgICovXG4gICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gIH07XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9tb2RhbC11cGxvYWQuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = MyDataCtrl;\nfunction MyDataCtrl($scope, $state, $stateParams, Django, DataBrowserService) {\n  'ngInject';\n\n  var options = {\n    system: $stateParams.systemId,\n    path: $stateParams.filePath\n  };\n  $scope.data = {\n    user: Django.user,\n    customRoot: {\n      name: 'My Data',\n      href: $state.href('db.myData', { systemId: $stateParams.systemId,\n        filePath: '/' })\n    }\n  };\n  // TODO: Fix this listing thing\n  DataBrowserService.apiParams.fileMgr = 'my-data';\n  DataBrowserService.apiParams.baseUrl = '/api/data-depot/files';\n  DataBrowserService.apiParams.searchState = 'dataSearch';\n\n  $scope.browser = DataBrowserService.state();\n  DataBrowserService.browse(options).then(function (resp) {\n    $scope.browser = DataBrowserService.state();\n    $scope.searchState = DataBrowserService.apiParams.searchState;\n  });\n  // if (! $scope.browser.error) {\n  //   $scope.browser.listing.href = $state.href('db.myData', {\n  //     system: $scope.browser.listing.system,\n  //     filePath: $scope.browser.listing.path\n  //   });\n  //   _.each($scope.browser.listing.children, function (child) {\n  //     child.href = $state.href('db.myData', {system: child.system, filePath: child.path});\n  //   });\n  // }\n\n\n  $scope.scrollToTop = function () {\n    return;\n  };\n  $scope.scrollToBottom = function () {\n    DataBrowserService.scrollToBottom();\n  };\n\n  $scope.resolveBreadcrumbHref = function (trailItem) {\n    return $state.href('db.myData', { systemId: $scope.browser.listing.system, filePath: trailItem.path });\n  };\n\n  $scope.onBrowse = function ($event, file) {\n    $event.preventDefault();\n    $event.stopPropagation();\n    if (file.type === 'file') {\n      DataBrowserService.preview(file, $scope.browser.listing);\n    } else {\n      $state.go('db.myData', { systemId: file.system, filePath: file.path });\n    }\n  };\n\n  $scope.onSelect = function ($event, file) {\n    $event.stopPropagation();\n    if ($event.ctrlKey || $event.metaKey) {\n      var selectedIndex = $scope.browser.selected.indexOf(file);\n      if (selectedIndex > -1) {\n        DataBrowserService.deselect([file]);\n      } else {\n        DataBrowserService.select([file]);\n      }\n    } else if ($event.shiftKey && $scope.browser.selected.length > 0) {\n      var lastFile = $scope.browser.selected[$scope.browser.selected.length - 1];\n      var lastIndex = $scope.browser.listing.children.indexOf(lastFile);\n      var fileIndex = $scope.browser.listing.children.indexOf(file);\n      var min = Math.min(lastIndex, fileIndex);\n      var max = Math.max(lastIndex, fileIndex);\n      DataBrowserService.select($scope.browser.listing.children.slice(min, max + 1));\n    } else if (typeof file._ui !== 'undefined' && file._ui.selected) {\n      DataBrowserService.deselect([file]);\n    } else {\n      DataBrowserService.select([file], true);\n    }\n  };\n\n  $scope.onDetail = function ($event, file) {\n    $event.stopPropagation();\n    DataBrowserService.preview(file, $scope.browser.listing);\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9teS1kYXRhLmpzPzRlZWMiXSwibmFtZXMiOlsiTXlEYXRhQ3RybCIsIiRzY29wZSIsIiRzdGF0ZSIsIiRzdGF0ZVBhcmFtcyIsIkRqYW5nbyIsIkRhdGFCcm93c2VyU2VydmljZSIsIm9wdGlvbnMiLCJzeXN0ZW0iLCJzeXN0ZW1JZCIsInBhdGgiLCJmaWxlUGF0aCIsImRhdGEiLCJ1c2VyIiwiY3VzdG9tUm9vdCIsIm5hbWUiLCJocmVmIiwiYXBpUGFyYW1zIiwiZmlsZU1nciIsImJhc2VVcmwiLCJzZWFyY2hTdGF0ZSIsImJyb3dzZXIiLCJzdGF0ZSIsImJyb3dzZSIsInRoZW4iLCJyZXNwIiwic2Nyb2xsVG9Ub3AiLCJzY3JvbGxUb0JvdHRvbSIsInJlc29sdmVCcmVhZGNydW1iSHJlZiIsInRyYWlsSXRlbSIsImxpc3RpbmciLCJvbkJyb3dzZSIsIiRldmVudCIsImZpbGUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInR5cGUiLCJwcmV2aWV3IiwiZ28iLCJvblNlbGVjdCIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2VsZWN0ZWRJbmRleCIsInNlbGVjdGVkIiwiaW5kZXhPZiIsImRlc2VsZWN0Iiwic2VsZWN0Iiwic2hpZnRLZXkiLCJsZW5ndGgiLCJsYXN0RmlsZSIsImxhc3RJbmRleCIsImNoaWxkcmVuIiwiZmlsZUluZGV4IiwibWluIiwiTWF0aCIsIm1heCIsInNsaWNlIiwiX3VpIiwib25EZXRhaWwiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUF3QkEsVTtBQUFULFNBQVNBLFVBQVQsQ0FBb0JDLE1BQXBCLEVBQTRCQyxNQUE1QixFQUFvQ0MsWUFBcEMsRUFBa0RDLE1BQWxELEVBQTBEQyxrQkFBMUQsRUFBOEU7QUFDM0Y7O0FBQ0EsTUFBSUMsVUFBVTtBQUNaQyxZQUFTSixhQUFhSyxRQURWO0FB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T0FBUCxDQUFlUyxPQUFmLENBQXVCcUIsUUFBdkIsQ0FBZ0NQLE9BQWhDLENBQXdDSyxRQUF4QyxDQUFoQjtBQUNBLFVBQUlHLFlBQVlsRCxPQUFPbUIsT0FBUCxDQUFlUyxPQUFmLENBQXVCcUIsUUFBdkIsQ0FBZ0NQLE9BQWhDLENBQXdDWCxJQUF4QyxDQUFoQjtBQUNBLFVBQUlvQixNQUFNQyxLQUFLRCxHQUFMLENBQVNILFNBQVQsRUFBb0JFLFNBQXBCLENBQVY7QUFDQSxVQUFJRyxNQUFNRCxLQUFLQyxHQUFMLENBQVNMLFNBQVQsRUFBb0JFLFNBQXBCLENBQVY7QUFDQTlDLHlCQUFtQndDLE1BQW5CLENBQTBCNUMsT0FBT21CLE9BQVAsQ0FBZVMsT0FBZixDQUF1QnFCLFFBQXZCLENBQWdDSyxLQUFoQyxDQUFzQ0gsR0FBdEMsRUFBMkNFLE1BQU0sQ0FBakQsQ0FBMUI7QUFDRCxLQVBNLE1BT0EsSUFBSSxPQUFPdEIsS0FBS3dCLEdBQVosS0FBb0IsV0FBcEIsSUFDQXhCLEtBQUt3QixHQUFMLENBQVNkLFFBRGIsRUFDc0I7QUFDM0JyQyx5QkFBbUJ1QyxRQUFuQixDQUE0QixDQUFDWixJQUFELENBQTVCO0FBQ0QsS0FITSxNQUdBO0FBQ0wzQix5QkFBbUJ3QyxNQUFuQixDQUEwQixDQUFDYixJQUFELENBQTFCLEVBQWtDLElBQWxDO0FBQ0Q7QUFDRixHQXRCRDs7QUF3QkEvQixTQUFPd0QsUUFBUCxHQUFrQixVQUFTMUIsTUFBVCxFQUFpQkMsSUFBakIsRUFBdUI7QUFDdkNELFdBQU9HLGVBQVA7QUFDQTdCLHVCQUFtQitCLE9BQW5CLENBQTJCSixJQUEzQixFQUFpQy9CLE9BQU9tQixPQUFQLENBQWVTLE9BQWhEO0FBQ0QsR0FIRDtBQUtEIiwiZmlsZSI6IjEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTXlEYXRhQ3RybCgkc2NvcGUsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBEamFuZ28sIERhdGFCcm93c2VyU2VydmljZSkge1xuICAnbmdJbmplY3QnO1xuICB2YXIgb3B0aW9ucyA9IHtcbiAgICBzeXN0ZW06ICgkc3RhdGVQYXJhbXMuc3lzdGVtSWQpLFxuICAgIHBhdGg6ICgkc3RhdGVQYXJhbXMuZmlsZVBhdGgpXG4gIH07XG4gICRzY29wZS5kYXRhID0ge1xuICAgIHVzZXI6IERqYW5nby51c2VyLFxuICAgIGN1c3RvbVJvb3Q6IHtcbiAgICAgIG5hbWU6ICdNeSBEYXRhJyxcbiAgICAgIGhyZWY6ICRzdGF0ZS5ocmVmKCdkYi5teURhdGEnLCB7c3lzdGVtSWQ6ICRzdGF0ZVBhcmFtcy5zeXN0ZW1JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVQYXRoOiAnLyd9KVxuICAgIH1cbiAgfTtcbiAgLy8gVE9ETzogRml4IHRoaXMgbGlzdGluZyB0aGluZ1xuICBEYXRhQnJvd3NlclNlcnZpY2UuYXBpUGFyYW1zLmZpbGVNZ3IgPSAnbXktZGF0YSc7XG4gIERhdGFCcm93c2VyU2VydmljZS5hcGlQYXJhbXMuYmFzZVVybCA9ICcvYXBpL2RhdGEtZGVwb3QvZmlsZXMnO1xuICBEYXRhQnJvd3NlclNlcnZpY2UuYXBpUGFyYW1zLnNlYXJjaFN0YXRlID0gJ2RhdGFTZWFyY2gnO1xuXG4gICRzY29wZS5icm93c2VyID0gRGF0YUJyb3dzZXJTZXJ2aWNlLnN0YXRlKCk7XG4gIERhdGFCcm93c2VyU2VydmljZS5icm93c2Uob3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICRzY29wZS5icm93c2VyID0gRGF0YUJyb3dzZXJTZXJ2aWNlLnN0YXRlKCk7XG4gICAgJHNjb3BlLnNlYXJjaFN0YXRlID0gRGF0YUJyb3dzZXJTZXJ2aWNlLmFwaVBhcmFtcy5zZWFyY2hTdGF0ZTtcblxuICB9KTtcbiAgLy8gaWYgKCEgJHNjb3BlLmJyb3dzZXIuZXJyb3IpIHtcbiAgLy8gICAkc2NvcGUuYnJvd3Nlci5saXN0aW5nLmhyZWYgPSAkc3RhdGUuaHJlZignZGIubXlEYXRhJywge1xuICAvLyAgICAgc3lzdGVtOiAkc2NvcGUuYnJvd3Nlci5saXN0aW5nLnN5c3RlbSxcbiAgLy8gICAgIGZpbGVQYXRoOiAkc2NvcGUuYnJvd3Nlci5saXN0aW5nLnBhdGhcbiAgLy8gICB9KTtcbiAgLy8gICBfLmVhY2goJHNjb3BlLmJyb3dzZXIubGlzdGluZy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gIC8vICAgICBjaGlsZC5ocmVmID0gJHN0YXRlLmhyZWYoJ2RiLm15RGF0YScsIHtzeXN0ZW06IGNoaWxkLnN5c3RlbSwgZmlsZVBhdGg6IGNoaWxkLnBhdGh9KTtcbiAgLy8gICB9KTtcbiAgLy8gfVxuXG5cblxuICAkc2NvcGUuc2Nyb2xsVG9Ub3AgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybjtcbiAgfTtcbiAgJHNjb3BlLnNjcm9sbFRvQm90dG9tID0gZnVuY3Rpb24oKXtcbiAgICBEYXRhQnJvd3NlclNlcnZpY2Uuc2Nyb2xsVG9Cb3R0b20oKTtcbiAgfTtcblxuICAkc2NvcGUucmVzb2x2ZUJyZWFkY3J1bWJIcmVmID0gZnVuY3Rpb24gKHRyYWlsSXRlbSkge1xuICAgIHJldHVybiAkc3RhdGUuaHJlZignZGIubXlEYXRhJywge3N5c3RlbUlkOiAkc2NvcGUuYnJvd3Nlci5saXN0aW5nLnN5c3RlbSwgZmlsZVBhdGg6IHRyYWlsSXRlbS5wYXRofSk7XG4gIH07XG5cbiAgJHNjb3BlLm9uQnJvd3NlID0gZnVuY3Rpb24gKCRldmVudCwgZmlsZSkge1xuICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoZmlsZS50eXBlID09PSAnZmlsZScpIHtcbiAgICAgIERhdGFCcm93c2VyU2VydmljZS5wcmV2aWV3KGZpbGUsICRzY29wZS5icm93c2VyLmxpc3RpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc3RhdGUuZ28oJ2RiLm15RGF0YScsIHtzeXN0ZW1JZDogZmlsZS5zeXN0ZW0sIGZpbGVQYXRoOiBmaWxlLnBhdGh9KTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm9uU2VsZWN0ID0gZnVuY3Rpb24oJGV2ZW50LCBmaWxlKSB7XG4gICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICgkZXZlbnQuY3RybEtleSB8fCAkZXZlbnQubWV0YUtleSkge1xuICAgICAgdmFyIHNlbGVjdGVkSW5kZXggPSAkc2NvcGUuYnJvd3Nlci5zZWxlY3RlZC5pbmRleE9mKGZpbGUpO1xuICAgICAgaWYgKHNlbGVjdGVkSW5kZXggPiAtMSkge1xuICAgICAgICBEYXRhQnJvd3NlclNlcnZpY2UuZGVzZWxlY3QoW2ZpbGVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIERhdGFCcm93c2VyU2VydmljZS5zZWxlY3QoW2ZpbGVdKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCRldmVudC5zaGlmdEtleSAmJiAkc2NvcGUuYnJvd3Nlci5zZWxlY3RlZC5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgbGFzdEZpbGUgPSAkc2NvcGUuYnJvd3Nlci5zZWxlY3RlZFskc2NvcGUuYnJvd3Nlci5zZWxlY3RlZC5sZW5ndGggLSAxXTtcbiAgICAgIHZhciBsYXN0SW5kZXggPSAkc2NvcGUuYnJvd3Nlci5saXN0aW5nLmNoaWxkcmVuLmluZGV4T2YobGFzdEZpbGUpO1xuICAgICAgdmFyIGZpbGVJbmRleCA9ICRzY29wZS5icm93c2VyLmxpc3RpbmcuY2hpbGRyZW4uaW5kZXhPZihmaWxlKTtcbiAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihsYXN0SW5kZXgsIGZpbGVJbmRleCk7XG4gICAgICB2YXIgbWF4ID0gTWF0aC5tYXgobGFzdEluZGV4LCBmaWxlSW5kZXgpO1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnNlbGVjdCgkc2NvcGUuYnJvd3Nlci5saXN0aW5nLmNoaWxkcmVuLnNsaWNlKG1pbiwgbWF4ICsgMSkpO1xuICAgIH0gZWxzZSBpZiggdHlwZW9mIGZpbGUuX3VpICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgICAgZmlsZS5fdWkuc2VsZWN0ZWQpe1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmRlc2VsZWN0KFtmaWxlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIERhdGFCcm93c2VyU2VydmljZS5zZWxlY3QoW2ZpbGVdLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm9uRGV0YWlsID0gZnVuY3Rpb24oJGV2ZW50LCBmaWxlKSB7XG4gICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIERhdGFCcm93c2VyU2VydmljZS5wcmV2aWV3KGZpbGUsICRzY29wZS5icm93c2VyLmxpc3RpbmcpO1xuICB9O1xuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9teS1kYXRhLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ProjectDataCtrl;\nfunction ProjectDataCtrl($scope, $state, Django, ProjectService, DataBrowserService, projectId, filePath, projectTitle, FileListing, $uibModal, $http, $q) {\n  'ngInject';\n\n  DataBrowserService.apiParams.fileMgr = 'agave';\n  DataBrowserService.apiParams.baseUrl = '/api/agave/files';\n  DataBrowserService.apiParams.searchState = undefined;\n  $scope.browser = DataBrowserService.state();\n  $scope.browser.listings = {};\n  $scope.browser.ui = {};\n  $scope.browser.publication = { experimentsList: [], eventsList: [],\n    users: [], analysisList: [],\n    filesSelected: [] };\n  if (typeof $scope.browser !== 'undefined') {\n    $scope.browser.busy = true;\n  }\n\n  DataBrowserService.browse({ system: 'project-' + projectId, path: filePath }).then(function () {\n    $scope.browser = DataBrowserService.state();\n    $scope.browser.busy = true;\n    $scope.browser.busyListing = true;\n    $scope.browser.listing.href = $state.href('projects.view.data', {\n      projectId: projectId,\n      filePath: $scope.browser.listing.path,\n      projectTitle: projectTitle\n    });\n    _.each($scope.browser.listing.children, function (child) {\n      child.href = $state.href('projects.view.data', {\n        projectId: projectId,\n        filePath: child.path,\n        projectTitle: projectTitle\n      });\n    });\n    if (typeof $scope.browser.loadingEntities !== 'undefined' && !$scope.browser.loadingEntities) {\n      var entities = $scope.browser.project.getAllRelatedObjects();\n      _.each($scope.browser.listing.children, function (child) {\n        child.setEntities(DataBrowserService.state().project.uuid, entities);\n      });\n    } else {\n      $scope.$watch('browser.loadingEntities', function (newVal, oldVal) {\n        if (!newVal) {\n          var entities = $scope.browser.project.getAllRelatedObjects();\n          _.each($scope.browser.listing.children, function (child) {\n            child.setEntities($scope.browser.project.uuid, entities);\n          });\n          //var _state = DataBrowserService.state();\n          //_state.project.setupAllRels();\n          //$scope.browser = _state;\n        }\n      });\n    }\n  }).then(function () {\n    $http.get('/api/projects/publication/' + $scope.browser.project.value.projectId).then(function (resp) {\n      if (resp.data.project && resp.data.project.doi) {\n        $scope.browser.project.doi = resp.data.project.doi;\n        DataBrowserService.state().project.doi = resp.data.project.doi;\n      }\n      if (resp.data.project && resp.data.status) {\n        $scope.browser.project.publicationStatus = resp.data.status;\n        DataBrowserService.state().project.publicationStatus = resp.data.status;\n      }\n      $scope.browser.busy = false;\n      $scope.browser.busyListing = false;\n    }, function () {\n      $scope.browser.busy = false;\n      $scope.browser.busyListing = false;\n    });\n  });\n\n  var setFilesDetails = function setFilesDetails(filePaths) {\n    filePaths = _.uniq(filePaths);\n    var p = $q(function (resolve, reject) {\n      var results = [];\n      var index = 0;\n      var size = 5;\n      var fileCalls = _.map(filePaths, function (filePath) {\n        return FileListing.get({ system: 'project-' + projectId,\n          path: filePath }, DataBrowserService.apiParams).then(function (resp) {\n          var allEntities = $scope.browser.project.getAllRelatedObjects();\n          var entities = _.filter(allEntities, function (entity) {\n            return _.contains(entity._filePaths, resp.path);\n          });\n          _.each(entities, function (entity) {\n            $scope.browser.listings[entity.uuid].push(resp);\n          });\n          return resp;\n        });\n      });\n\n      function step() {\n        var calls = fileCalls.slice(index, index += size);\n        if (calls.length) {\n          $q.all(calls).then(function (res) {\n            results.concat(res);\n            step();\n            return res;\n          }).catch(reject);\n        } else {\n          resolve(results);\n        }\n      }\n      step();\n    });\n    return p.then(function (results) {\n      return results;\n    }, function (err) {\n      $scope.browser.ui.error = err;\n    });\n  };\n\n  var setUserDetails = function setUserDetails(usernames) {\n    $scope.browser.publication.users = [];\n    filePaths = _.uniq(usernames);\n    var p = $q(function (resolve, reject) {\n      var results = [];\n      var index = 0;\n      var size = 5;\n      var userIndex = 0;\n\n      function step() {\n        var _calls = calls.slice(index, index += size);\n        if (_calls.length) {\n          $q.all(_calls).then(function (res) {\n            results.concat(res);\n            step();\n            return res;\n          }).catch(reject);\n        } else {\n          resolve(results);\n        }\n      }\n      step();\n    });\n    $scope.browser.ui.loadingPreview = true;\n    return p.then(function (results) {\n      $scope.browser.publication.users = _.uniq($scope.browser.publication.users, function (obj) {\n        return obj.username;\n      });\n      return results;\n    }, function (err) {\n      $scope.browser.ui.error = err;\n    });\n  };\n\n  $scope.$watch('browser.showPreviewListing', function (newVal, oldVal) {\n    if (newVal) {\n      $scope.browser.ui.loadingListings = true;\n      $scope.browser.listings = {};\n      var entities = $scope.browser.project.getAllRelatedObjects();\n      var allFilePaths = [];\n      _.each(entities, function (entity) {\n        $scope.browser.listings[entity.uuid] = [];\n        allFilePaths = allFilePaths.concat(entity._filePaths);\n      });\n      $scope.data.rootPaths = allFilePaths;\n      setFilesDetails(allFilePaths).then(function () {\n        users = [$scope.browser.project.value.pi].concat($scope.browser.project.value.coPis).concat($scope.browser.project.value.teamMembers);\n        return setUserDetails(users);\n      }).then(function () {});\n    }\n  });\n\n  $scope.onBrowseData = function onBrowseData($event, file) {\n    $event.preventDefault();\n    DataBrowserService.showListing();\n    if (file.type === 'file') {\n      DataBrowserService.preview(file, $scope.browser.listing);\n    } else {\n      $state.go('projects.view.data', { projectId: projectId,\n        filePath: file.path,\n        projectTitle: projectTitle });\n    }\n  };\n\n  $scope.scrollToTop = function () {\n    return;\n  };\n  $scope.scrollToBottom = function () {\n    DataBrowserService.scrollToBottom();\n  };\n\n  $scope.onSelectData = function onSelectData($event, file) {\n    $event.stopPropagation();\n\n    if ($event.ctrlKey || $event.metaKey) {\n      var selectedIndex = $scope.browser.selected.indexOf(file);\n      if (selectedIndex > -1) {\n        DataBrowserService.deselect([file]);\n      } else {\n        DataBrowserService.select([file]);\n      }\n    } else if ($event.shiftKey && $scope.browser.selected.length > 0) {\n      var lastFile = $scope.browser.selected[$scope.browser.selected.length - 1];\n      var lastIndex = $scope.browser.listing.children.indexOf(lastFile);\n      var fileIndex = $scope.browser.listing.children.indexOf(file);\n      var min = Math.min(lastIndex, fileIndex);\n      var max = Math.max(lastIndex, fileIndex);\n      DataBrowserService.select($scope.browser.listing.children.slice(min, max + 1));\n    } else if (typeof file._ui !== 'undefined' && file._ui.selected) {\n      DataBrowserService.deselect([file]);\n    } else {\n      DataBrowserService.select([file], true);\n    }\n  };\n\n  $scope.onDetail = function ($event, file) {\n    $event.stopPropagation();\n    DataBrowserService.preview(file, $scope.browser.listing);\n  };\n\n  $scope.openPreviewTree = function ($event, entityUuid) {\n    $event.preventDefault();\n    $event.stopPropagation();\n    DataBrowserService.openPreviewTree(entityUuid);\n  };\n\n  function _addToLists(ent, evt) {\n    if (ent.name === 'designsafe.project.experiment') {\n      $scope.browser.publication.experimentsList.push(ent);\n      $scope.browser.publication.experimentsList = _.uniq($scope.browser.publication.experimentsList, function (e) {\n        return e.uuid;\n      });\n      $scope.browser.publication.eventsList.push(evt);\n      $scope.browser.publication.eventsList = _.uniq($scope.browser.publication.eventsList, function (e) {\n        return e.uuid;\n      });\n    } else if (ent.name === 'designsafe.project.analysis') {\n      $scope.browser.publication.analysisList.push(ent);\n      $scope.browser.publication.analysisList = _.uniq($scope.browser.publication.analysisList, function (e) {\n        return e.uuid;\n      });\n    } else if (ent.name === 'designsafe.project.report') {\n      $scope.browser.publication.reportsList.push(ent);\n      $scope.browser.publication.reportsList = _.uniq($scope.browser.publication.reportsList, function (e) {\n        return e.uuid;\n      });\n    }\n  }\n\n  function _removeFromLists(ent, evt) {\n    if (ent && ent.name == 'designsafe.project.experiment') {\n      $scope.browser.publication.experimentsList = _.filter($scope.browser.publication.experimentsList, function (e) {\n        return e.uuid !== ent.uuid;\n      });\n    } else if (ent && ent.name == 'designsafe.project.analysis') {\n      $scope.browser.publication.analysisList = _.filter($scope.browser.publication.analysisList, function (e) {\n        return e.uuid !== ent.uuid;\n      });\n    } else if (ent && ent.name == 'designsafe.project.report') {\n      $scope.browser.publication.reportsList = _.filter($scope.browser.publication.reportsList, function (e) {\n        return e.uuid !== ent.uuid;\n      });\n    }\n\n    if (evt) {\n      $scope.browser.publication.eventsList = _.filter($scope.browser.publication.eventsList, function (e) {\n        return evt.uuid !== e.uuid;\n      });\n    }\n  }\n\n  $scope.editProject = function () {\n    ProjectService.editProject($scope.browser.project).then(function (project) {\n      $scope.browser.project = project;\n    });\n  };\n\n  $scope.manageCollabs = function () {\n    ProjectService.manageCollaborators($scope.browser.project).then(function (project) {\n      $scope.browserproject = project;\n    });\n  };\n\n  $scope.manageExperiments = function () {\n    var experimentsAttr = $scope.browser.project.getRelatedAttrName('designsafe.project.experiment');\n    var experiments = $scope.browser.project[experimentsAttr];\n    if (typeof experiments === 'undefined') {\n      $scope.browser.project[experimentsAttr] = [];\n      experiments = $scope.browser.project[experimentsAttr];\n    }\n    ProjectService.manageExperiments({ 'experiments': experiments,\n      'project': $scope.browser.project }).then(function (experiments) {\n      $scope.browser.experiments = experiments;\n    });\n  };\n\n  var _editFieldModal = function _editFieldModal(objArr, title, fields, classes) {\n    modal = $uibModal.open({\n      template: '<div class=\"modal-header\">' + '<h3>{{ui.title}}</h3>' + '</div>' + '<div class=\"modal-body\">' + '<div class=\"form-group\" ' + 'ng-repeat=\"obj in data.objArr\" style=\"overflow:auto;\">' + '<div ng-repeat=\"field in ui.fields\">' + '<div class=\"{{ui.classes[field.name]}}\">' + '<label for=\"{{field.id}}-{{obj[field.uniq]}}\">{{field.label}}</label>' + '<input type=\"{{field.type}}\" class=\"form-control\" name=\"{{field.name}}-{{obj[field.uniq]}}\"' + 'id=\"{{field.id}}-{{obj[field.uniq]}}\" ng-model=\"obj[field.name]\"/>' + '</div>' + '</div>' + '</div>' + '</div>' + '<div class=\"modal-footer\">' + '<button class=\"btn btn-default\" ng-click=\"close()\">Close</button>' + '<button class=\"btn btn-info\" ng-click=\"save()\">Save</button>' + '</div>',\n      controller: ['$scope', '$uibModalInstance', function ($scope, $uibModalInstance) {\n        $scope.ui = { fields: fields,\n          classes: classes,\n          title: title,\n          form: {} };\n        $scope.data = { objArr: angular.copy(objArr) };\n\n        $scope.close = function () {\n          $uibModalInstance.dismiss('Cancel');\n        };\n\n        $scope.save = function () {\n          $uibModalInstance.close($scope.data.objArr);\n        };\n      }]\n    });\n    return modal;\n  };\n\n  var _publicationCtrl = {\n\n    filterUsers: function filterUsers(usernames, users) {\n      return _.filter(users, function (usr) {\n        return _.contains(usernames, usr.username);\n      });\n    },\n\n    showText: function showText(text) {\n      $uibModal.open({\n        template: '<div class=\"modal-header\">' + '<h3> Description </h3>' + '</div>' + '<div class=\"modal-body\">' + '<div style=\"border: 1px solid black;\"' + '\"padding:5px;\">' + '{{text}}' + '</div>' + '</div>' + '<div class=\"modal-footer\">' + '<button class=\"btn btn-default\" ng-click=\"close()\">' + 'Close' + '</button>' + '</div>',\n        controller: ['$scope', '$uibModalInstance', function ($scope, $uibModalInstance) {\n          $scope.text = text;\n          $scope.close = function () {\n            $uibModalInstance.dismiss('Close');\n          };\n        }]\n      });\n    },\n\n    moveOrderUp: function moveOrderUp($index, ent, list) {\n      if (typeof ent._ui.order === 'undefined') {\n        ent._ui.order = 0;\n      } else if (ent._ui.order > 0) {\n        var order = ent._ui.order;\n        var _ent = _.find(list, function (e) {\n          return e._ui.order === order - 1;\n        });\n        ent._ui.order -= 1;\n        _ent._ui.order += 1;\n      }\n    },\n\n    moveOrderDown: function moveOrderDown($index, ent, list) {\n      if (typeof ent._ui.order === 'undefined') {\n        ent._ui.order = 0;\n      } else if (ent._ui.order < list.length - 1) {\n        var _ent = _.find(list, function (e) {\n          return e._ui.order === ent._ui.order + 1;\n        });\n        ent._ui.order += 1;\n        _ent._ui.order -= 1;\n      }\n    },\n\n    openEditProject: function openEditProject() {\n      $scope.editProject();\n    },\n\n    openEditExperiments: function openEditExperiments() {\n      $scope.manageExperiments();\n    },\n\n    openEditTeamMembers: function openEditTeamMembers() {\n      $scope.manageCollabs();\n    },\n\n    openEditCategories: function openEditCategories() {\n      DataBrowserService.viewCategories();\n    },\n\n    selectAllFiles: function selectAllFiles(ent, evt) {\n      var listing = [];\n      if (ent.name === 'designsafe.project.experiment') {\n        listing = $scope.browser.listings[evt.uuid];\n      } else {\n        listing = $scope.browser.listings[ent.uuid];\n      }\n      if (typeof $scope.browser.publication.filesSelected[ent.uuid] === 'undefined') {\n        $scope.browser.publication.filesSelected[ent.uuid] = {};\n      }\n      if (ent.name === 'designsafe.project.experiment') {\n        var files = listing;\n        $scope.browser.publication.filesSelected[ent.uuid][evt.uuid] = files;\n        _addToLists(ent, evt);\n      } else {\n        $scope.browser.publication.filesSelected[ent.uuid] = listing;\n        _addToLists(ent);\n      }\n    },\n\n    deselectAllFiles: function deselectAllFiles(ent, evt) {\n      if (ent.name === 'designsafe.project.experiment') {\n        $scope.browser.publication.filesSelected[ent.uuid][evt.uuid] = [];\n        delete $scope.browser.publication.filesSelected[ent.uuid][evt.uuid];\n        if (_.isEmpty($scope.browser.publication.filesSelected[ent.uuid])) {\n          delete $scope.browser.publication.filesSelected[ent.uuid];\n          _removeFromLists(ent, evt);\n        } else {\n          _removeFromLists(ent, evt);\n        }\n      } else {\n        $scope.browser.publication.filesSelected[ent.uuid] = [];\n        delete $scope.browser.publication.filesSelected[ent.uuid];\n        _removeFromLists(ent);\n      }\n    },\n\n    isFileSelectedForPublication: function isFileSelectedForPublication(ent, evt, file) {\n      if (typeof $scope.browser.publication.filesSelected[ent.uuid] === 'undefined') {\n        $scope.browser.publication.filesSelected[ent.uuid] = {};\n      }\n      var files = [];\n      if (ent.name === 'designsafe.project.experiment') {\n        files = $scope.browser.publication.filesSelected[ent.uuid][evt.uuid] || [];\n        return _.find(files, function (f) {\n          return f.uuid() === file.uuid();\n        });\n      } else {\n        files = $scope.browser.publication.filesSelected[ent.uuid] || [];\n        return _.find(files, function (f) {\n          return f.uuid() === file.uuid();\n        });\n      }\n    },\n\n    deselectFileForPublication: function deselectFileForPublication(ent, evt, file) {\n      var files = [];\n      if (ent.name === 'designsafe.project.experiment') {\n        files = $scope.browser.publication.filesSelected[ent.uuid][evt.uuid];\n      } else {\n        files = $scope.browser.publication.filesSelected[ent.uuid];\n      }\n      files = _.reject(files, function (f) {\n        return f.uuid() === file.uuid();\n      });\n      if (ent.name === 'designsafe.project.experiment') {\n        $scope.browser.publication.filesSelected[ent.uuid][evt.uuid] = files;\n        if (!$scope.browser.publication.filesSelected[ent.uuid][evt.uuid].length) {\n          delete $scope.browser.publication.filesSelected[ent.uuid][evt.uuid];\n          if (_.isEmpty($scope.browser.publication.filesSelected[ent.uuid])) {\n            _removeFromLists(ent, evt);\n          } else {\n            _removeFromLists(ent, evt);\n          }\n        }\n      } else {\n        $scope.browser.publication.filesSelected[ent.uuid] = files;\n        if (!$scope.browser.publication.filesSelected[ent.uuid].length) {\n          delete $scope.browser.publication.filesSelected[ent.uuid];\n          if (_.isEmpty($scope.browser.publication.filesSelected[ent.uuid])) {\n            _removeFromLists(ent);\n          }\n        }\n      }\n    },\n\n    selectFileForPublication: function selectFileForPublication(ent, evt, file) {\n      if (typeof $scope.browser.publication[ent.uuid] === 'undefined') {\n        $scope.browser.publication[ent.uuid] = {};\n      }\n      var files = [];\n      if (ent.name === 'designsafe.project.experiment') {\n        files = $scope.browser.publication[ent.uuid][evt.uuid];\n      } else {\n        files = $scope.browser.publication[ent.uuid];\n      }\n      if (typeof files == 'undefined') {\n        files = [];\n      }\n      files.push(file);\n      if (ent.name === 'designsafe.project.experiment') {\n        $scope.browser.publication[ent.uuid][evt.uuid] = files;\n      } else {\n        $scope.browser.publication[ent.uuid] = files;\n      }\n      _addToLists(ent, evt);\n    },\n\n    filterExperiments: function filterExperiments(experiments) {\n      if (!$scope.browser.publishPipeline || $scope.browser.publishPipeline === 'select') {\n        return experiments;\n      } else {\n        return $scope.browser.publication.experimentsList;\n      }\n    },\n\n    filterEvents: function filterEvents(events, exp) {\n      if (!$scope.browser.publishPipeline || $scope.browser.publishPipeline === 'select') {\n        return events;\n      } else {\n        return _.filter($scope.browser.publication.eventsList, function (evt) {\n          return _.contains(evt.associationIds, exp.uuid);\n        });\n      }\n    },\n\n    filterFiles: function filterFiles(ent, evt, listing) {\n      if (!$scope.browser.publishPipeline || $scope.browser.publishPipeline === 'select') {\n        return listing;\n      } else if (ent.name === 'designsafe.project.experiment') {\n        return $scope.browser.publication.filesSelected[ent.uuid][evt.uuid];\n      } else {\n        return $scope.browser.publication.filesSelected[ent.uuid];\n      }\n    },\n\n    editUsers: function editUsers() {\n      fields = [{ id: 'last_name', name: 'last_name', label: 'Last Name', uniq: 'username', type: 'text' }, { id: 'first_name', name: 'first_name', label: 'First Name', uniq: 'username', type: 'text' }];\n      classes = {\n        'first_name': 'col-md-6',\n        'last_name': 'col-md-6'\n      };\n      modal = _editFieldModal($scope.browser.publication.users, 'Edit Users', fields, classes);\n\n      modal.result.then(function (respArr) {\n        $scope.browser.publication.users = respArr;\n      });\n    },\n\n    editInsts: function editInsts() {\n      fields = [{ id: 'label', name: 'label', label: 'Institution', uniq: 'name', type: 'text' }];\n      modal = _editFieldModal($scope.browser.publication.institutions, 'Edit Institutions', fields);\n\n      modal.result.then(function (respArr) {\n        $scope.browser.publication.institutions = respArr;\n      });\n    },\n\n    togglePubAgreement: function togglePubAgreement() {\n      $scope.state.publishAgreement = !$scope.state.publishAgreement;\n    }\n  };\n\n  $scope.publicationCtrl = _publicationCtrl;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9wcm9qZWN0LWRhdGEuanM/NzRhMCJdLCJuYW1lcyI6WyJQcm9qZWN0RGF0YUN0cmwiLCIkc2NvcGUiLCIkc3RhdGUiLCJEamFuZ28iLCJQcm9qZWN0U2VydmljZSIsIkRhdGFCcm93c2VyU2VydmljZSIsInByb2plY3RJZCIsImZpbGVQYXRoIiwicHJvamVjdFRpdGxlIiwiRmlsZUxpc3RpbmciLCIkdWliTW9kYWwiLCIkaHR0cCIsIiRxIiwiYXBpUGFyYW1zIiwiZmlsZU1nciIsImJhc2VVcmwiLCJzZWFyY2hTdGF0ZSIsInVuZGVmaW5lZCIsImJyb3dzZXIiLCJzdGF0ZSIsImxpc3RpbmdzIiwidWkiLCJwdWJsaWNhdGlvbiIsImV4cGVyaW1lbnRzTGlzdCIsImV2ZW50c0xpc3QiLCJ1c2VycyIsImFuYWx5c2lzTGlzdCIsImZpbGVzU2VsZWN0ZWQiLCJidXN5IiwiYnJvd3NlIiwic3lzdGVtIiwicGF0aCIsInRoZW4iLCJidXN5TGlzdGluZyIsImxpc3RpbmciLCJocmVmIiwiXyIsImVhY2giLCJjaGlsZHJlbiIsImNoaWxkIiwibG9hZGluZ0VudGl0aWVzIiwiZW50aXRpZXMiLCJwcm9qZWN0IiwiZ2V0QWxsUmVsYXRlZE9iamVjdHMiLCJzZXRFbnRpdGllcyIsInV1aWQiLCIkd2F0Y2giLCJuZXdWYWwiLCJvbGRWYWwiLCJnZXQiLCJ2YWx1ZSIsInJlc3AiLCJkYXRhIiwiZG9pIiwic3RhdHVzIiwicHVibGljYXRpb25TdGF0dXMiLCJzZXRGaWxlc0RldGFpbHMiLCJmaWxlUGF0aHMiLCJ1bmlxIiwicCIsInJlc29sdmUiLCJyZWplY3QiLCJyZXN1bHRzIiwiaW5kZXgiLCJzaXplIiwiZmlsZUNhbGxzIiwibWFwIiwiYWxsRW50aXRpZXMiLCJmaWx0ZXIiLCJlbnRpdHkiLCJjb250YWlucyIsIl9maWxlUGF0aHMiLCJwdXNoIiwic3RlcCIsImNhbGxzIiwic2xpY2UiLCJsZW5ndGgiLCJhbGwiLCJyZXMiLCJjb25jYXQiLCJjYXRjaCIsImVyciIsImVycm9yIiwic2V0VXNlckRldGFpbHMiLCJ1c2VybmFtZXMiLCJ1c2VySW5kZXgiLCJfY2FsbHMiLCJsb2FkaW5nUHJldmlldyIsIm9iaiIsInVzZXJuYW1lIiwibG9hZGluZ0xpc3RpbmdzIiwiYWxsRmlsZVBhdGhzIiwicm9vdFBhdGhzIiwicGkiLCJjb1BpcyIsInRlYW1NZW1iZXJzIiwib25Ccm93c2VEYXRhIiwiJGV2ZW50IiwiZmlsZSIsInByZXZlbnREZWZhdWx0Iiwic2hvd0xpc3RpbmciLCJ0eXBlIiwicHJldmlldyIsImdvIiwic2Nyb2xsVG9Ub3AiLCJzY3JvbGxUb0JvdHRvbSIsIm9uU2VsZWN0RGF0YSIsInN0b3BQcm9wYWdhdGlvbiIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2VsZWN0ZWRJbmRleCIsInNlbGVjdGVkIiwiaW5kZXhPZiIsImRlc2VsZWN0Iiwic2VsZWN0Iiwic2hpZnRLZXkiLCJsYXN0RmlsZSIsImxhc3RJbmRleCIsImZpbGVJbmRleCIsIm1pbiIsIk1hdGgiLCJtYXgiLCJfdWkiLCJvbkRldGFpbCIsIm9wZW5QcmV2aWV3VHJlZSIsImVudGl0eVV1aWQiLCJfYWRkVG9MaXN0cyIsImVudCIsImV2dCIsIm5hbWUiLCJlIiwicmVwb3J0c0xpc3QiLCJfcmVtb3ZlRnJvbUxpc3RzIiwiZWRpdFByb2plY3QiLCJtYW5hZ2VDb2xsYWJzIiwibWFuYWdlQ29sbGFib3JhdG9ycyIsImJyb3dzZXJwcm9qZWN0IiwibWFuYWdlRXhwZXJpbWVudHMiLCJleHBlcmltZW50c0F0dHIiLCJnZXRSZWxhdGVkQXR0ck5hbWUiLCJleHBlcmltZW50cyIsIl9lZGl0RmllbGRNb2RhbCIsIm9iakFyciIsInRpdGxlIiwiZmllbGRzIiwiY2xhc3NlcyIsIm1vZGFsIiwib3BlbiIsInRlbXBsYXRlIiwiY29udHJvbGxlciIsIiR1aWJNb2RhbEluc3RhbmNlIiwiZm9ybSIsImFuZ3VsYXIiLCJjb3B5IiwiY2xvc2UiLCJkaXNtaXNzIiwic2F2ZSIsIl9wdWJsaWNhdGlvbkN0cmwiLCJmaWx0ZXJVc2VycyIsInVzciIsInNob3dUZXh0IiwidGV4dCIsIm1vdmVPcmRlclVwIiwiJGluZGV4IiwibGlzdCIsIm9yZGVyIiwiX2VudCIsImZpbmQiLCJtb3ZlT3JkZXJEb3duIiwib3BlbkVkaXRQcm9qZWN0Iiwib3BlbkVkaXRFeHBlcmltZW50cyIsIm9wZW5FZGl0VGVhbU1lbWJlcnMiLCJvcGVuRWRpdENhdGVnb3JpZXMiLCJ2aWV3Q2F0ZWdvcmllcyIsInNlbGVjdEFsbEZpbGVzIiwiZmlsZXMiLCJkZXNlbGVjdEFsbEZpbGVzIiwiaXNFbXB0eSIsImlzRmlsZVNlbGVjdGVkRm9yUHVibGljYXRpb24iLCJmIiwiZGVzZWxlY3RGaWxlRm9yUHVibGljYXRpb24iLCJzZWxlY3RGaWxlRm9yUHVibGljYXRpb24iLCJmaWx0ZXJFeHBlcmltZW50cyIsInB1Ymxpc2hQaXBlbGluZSIsImZpbHRlckV2ZW50cyIsImV2ZW50cyIsImV4cCIsImFzc29jaWF0aW9uSWRzIiwiZmlsdGVyRmlsZXMiLCJlZGl0VXNlcnMiLCJpZCIsImxhYmVsIiwicmVzdWx0IiwicmVzcEFyciIsImVkaXRJbnN0cyIsImluc3RpdHV0aW9ucyIsInRvZ2dsZVB1YkFncmVlbWVudCIsInB1Ymxpc2hBZ3JlZW1lbnQiLCJwdWJsaWNhdGlvbkN0cmwiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUF3QkEsZTtBQUFULFNBQVNBLGVBQVQsQ0FBeUJDLE1BQXpCLEVBQWlDQyxNQUFqQyxFQUF5Q0MsTUFBekMsRUFBaURDLGNBQWpELEVBQWlFQyxrQkFBakUsRUFBcUZDLFNBQXJGLEVBQWdHQyxRQUFoRyxFQUEwR0MsWUFBMUcsRUFBd0hDLFdBQXhILEVBQXFJQyxTQUFySSxFQUFnSkMsS0FBaEosRUFBdUpDLEVBQXZKLEVBQTJKO0FBQ3hLOztBQUNBUCxxQkFBbUJRLFNBQW5CLENBQTZCQyxPQUE3QixHQUF1QyxP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QUFOLENBQWFoSyxJQUFiLENBQWtCLFVBQVNpSyxPQUFULEVBQWlCO0FBQ2pDaE0sZUFBT2lCLE9BQVAsQ0FBZUksV0FBZixDQUEyQjZLLFlBQTNCLEdBQTBDRixPQUExQztBQUNELE9BRkQ7QUFHRCxLQWxPb0I7O0FBb09yQkcsd0JBQXFCLDhCQUFXO0FBQzlCbk0sYUFBT2tCLEtBQVAsQ0FBYWtMLGdCQUFiLEdBQWdDLENBQUNwTSxPQUFPa0IsS0FBUCxDQUFha0wsZ0JBQTlDO0FBQ0Q7QUF0T29CLEdBQXZCOztBQXlPQXBNLFNBQU9xTSxlQUFQLEdBQXlCekMsZ0JBQXpCO0FBRUQiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQcm9qZWN0RGF0YUN0cmwoJHNjb3BlLCAkc3RhdGUsIERqYW5nbywgUHJvamVjdFNlcnZpY2UsIERhdGFCcm93c2VyU2VydmljZSwgcHJvamVjdElkLCBmaWxlUGF0aCwgcHJvamVjdFRpdGxlLCBGaWxlTGlzdGluZywgJHVpYk1vZGFsLCAkaHR0cCwgJHEpIHtcbiAgJ25nSW5qZWN0JztcbiAgRGF0YUJyb3dzZXJTZXJ2aWNlLmFwaVBhcmFtcy5maWxlTWdyID0gJ2FnYXZlJztcbiAgRGF0YUJyb3dzZXJTZXJ2aWNlLmFwaVBhcmFtcy5iYXNlVXJsID0gJy9hcGkvYWdhdmUvZmlsZXMnO1xuICBEYXRhQnJvd3NlclNlcnZpY2UuYXBpUGFyYW1zLnNlYXJjaFN0YXRlID0gdW5kZWZpbmVkO1xuICAkc2NvcGUuYnJvd3NlciA9IERhdGFCcm93c2VyU2VydmljZS5zdGF0ZSgpO1xuICAkc2NvcGUuYnJvd3Nlci5saXN0aW5ncyA9IHt9O1xuICAkc2NvcGUuYnJvd3Nlci51aSA9IHt9O1xuICAkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbiA9IHtleHBlcmltZW50c0xpc3Q6IFtdLCBldmVudHNMaXN0OiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnM6IFtdLCBhbmFseXNpc0xpc3Q6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlc1NlbGVjdGVkOiBbXX07XG4gIGlmICh0eXBlb2YgJHNjb3BlLmJyb3dzZXIgIT09ICd1bmRlZmluZWQnKXtcbiAgICAkc2NvcGUuYnJvd3Nlci5idXN5ID0gdHJ1ZTtcbiAgfVxuXG4gIERhdGFCcm93c2VyU2VydmljZS5icm93c2Uoe3N5c3RlbTogJ3Byb2plY3QtJyArIHByb2plY3RJZCwgcGF0aDogZmlsZVBhdGh9KVxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICRzY29wZS5icm93c2VyID0gRGF0YUJyb3dzZXJTZXJ2aWNlLnN0YXRlKCk7XG4gICAgICAkc2NvcGUuYnJvd3Nlci5idXN5ID0gdHJ1ZTtcbiAgICAgICRzY29wZS5icm93c2VyLmJ1c3lMaXN0aW5nID0gdHJ1ZTtcbiAgICAgICRzY29wZS5icm93c2VyLmxpc3RpbmcuaHJlZiA9ICRzdGF0ZS5ocmVmKCdwcm9qZWN0cy52aWV3LmRhdGEnLCB7XG4gICAgICAgIHByb2plY3RJZDogcHJvamVjdElkLFxuICAgICAgICBmaWxlUGF0aDogJHNjb3BlLmJyb3dzZXIubGlzdGluZy5wYXRoLFxuICAgICAgICBwcm9qZWN0VGl0bGU6IHByb2plY3RUaXRsZVxuICAgICAgfSk7XG4gICAgICBfLmVhY2goJHNjb3BlLmJyb3dzZXIubGlzdGluZy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGNoaWxkLmhyZWYgPSAkc3RhdGUuaHJlZigncHJvamVjdHMudmlldy5kYXRhJywge1xuICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdElkLFxuICAgICAgICAgIGZpbGVQYXRoOiBjaGlsZC5wYXRoLFxuICAgICAgICAgIHByb2plY3RUaXRsZTogcHJvamVjdFRpdGxlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBpZiAodHlwZW9mICRzY29wZS5icm93c2VyLmxvYWRpbmdFbnRpdGllcyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAhJHNjb3BlLmJyb3dzZXIubG9hZGluZ0VudGl0aWVzKXtcbiAgICAgICAgdmFyIGVudGl0aWVzID0gJHNjb3BlLmJyb3dzZXIucHJvamVjdC5nZXRBbGxSZWxhdGVkT2JqZWN0cygpO1xuICAgICAgICBfLmVhY2goJHNjb3BlLmJyb3dzZXIubGlzdGluZy5jaGlsZHJlbiwgZnVuY3Rpb24oY2hpbGQpe1xuICAgICAgICAgIGNoaWxkLnNldEVudGl0aWVzKERhdGFCcm93c2VyU2VydmljZS5zdGF0ZSgpLnByb2plY3QudXVpZCwgZW50aXRpZXMpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2Jyb3dzZXIubG9hZGluZ0VudGl0aWVzJywgZnVuY3Rpb24obmV3VmFsLCBvbGRWYWwpe1xuICAgICAgICAgIGlmICghbmV3VmFsKXtcbiAgICAgICAgICAgIHZhciBlbnRpdGllcyA9ICRzY29wZS5icm93c2VyLnByb2plY3QuZ2V0QWxsUmVsYXRlZE9iamVjdHMoKTtcbiAgICAgICAgICAgIF8uZWFjaCgkc2NvcGUuYnJvd3Nlci5saXN0aW5nLmNoaWxkcmVuLCBmdW5jdGlvbihjaGlsZCl7XG4gICAgICAgICAgICAgIGNoaWxkLnNldEVudGl0aWVzKCRzY29wZS5icm93c2VyLnByb2plY3QudXVpZCwgZW50aXRpZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvL3ZhciBfc3RhdGUgPSBEYXRhQnJvd3NlclNlcnZpY2Uuc3RhdGUoKTtcbiAgICAgICAgICAgIC8vX3N0YXRlLnByb2plY3Quc2V0dXBBbGxSZWxzKCk7XG4gICAgICAgICAgICAvLyRzY29wZS5icm93c2VyID0gX3N0YXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSkudGhlbihmdW5jdGlvbigpe1xuICAgICAgJGh0dHAuZ2V0KCcvYXBpL3Byb2plY3RzL3B1YmxpY2F0aW9uLycgKyAkc2NvcGUuYnJvd3Nlci5wcm9qZWN0LnZhbHVlLnByb2plY3RJZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICBpZiAocmVzcC5kYXRhLnByb2plY3QgJiYgcmVzcC5kYXRhLnByb2plY3QuZG9pKXtcbiAgICAgICAgICAgICAgICAkc2NvcGUuYnJvd3Nlci5wcm9qZWN0LmRvaSA9IHJlc3AuZGF0YS5wcm9qZWN0LmRvaTtcbiAgICAgICAgICAgICAgICBEYXRhQnJvd3NlclNlcnZpY2Uuc3RhdGUoKS5wcm9qZWN0LmRvaSA9IHJlc3AuZGF0YS5wcm9qZWN0LmRvaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXNwLmRhdGEucHJvamVjdCAmJiByZXNwLmRhdGEuc3RhdHVzKXtcbiAgICAgICAgICAgICAgJHNjb3BlLmJyb3dzZXIucHJvamVjdC5wdWJsaWNhdGlvblN0YXR1cyA9IHJlc3AuZGF0YS5zdGF0dXM7XG4gICAgICAgICAgICAgIERhdGFCcm93c2VyU2VydmljZS5zdGF0ZSgpLnByb2plY3QucHVibGljYXRpb25TdGF0dXMgPSByZXNwLmRhdGEuc3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLmJyb3dzZXIuYnVzeSA9IGZhbHNlO1xuICAgICAgICAgICAgJHNjb3BlLmJyb3dzZXIuYnVzeUxpc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICRzY29wZS5icm93c2VyLmJ1c3kgPSBmYWxzZTtcbiAgICAgICAgICAgICRzY29wZS5icm93c2VyLmJ1c3lMaXN0aW5nID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gIHZhciBzZXRGaWxlc0RldGFpbHMgPSBmdW5jdGlvbihmaWxlUGF0aHMpe1xuICAgIGZpbGVQYXRocyA9IF8udW5pcShmaWxlUGF0aHMpO1xuICAgIHZhciBwID0gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIHNpemUgPSA1O1xuICAgICAgdmFyIGZpbGVDYWxscyA9IF8ubWFwKGZpbGVQYXRocywgZnVuY3Rpb24oZmlsZVBhdGgpe1xuICAgICAgICByZXR1cm4gRmlsZUxpc3RpbmcuZ2V0KHtzeXN0ZW06ICdwcm9qZWN0LScgKyBwcm9qZWN0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGZpbGVQYXRofSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmFwaVBhcmFtcylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgIHZhciBhbGxFbnRpdGllcyA9ICRzY29wZS5icm93c2VyLnByb2plY3QuZ2V0QWxsUmVsYXRlZE9iamVjdHMoKTtcbiAgICAgICAgICAgIHZhciBlbnRpdGllcyA9IF8uZmlsdGVyKGFsbEVudGl0aWVzLCBmdW5jdGlvbihlbnRpdHkpe1xuICAgICAgICAgICAgICByZXR1cm4gXy5jb250YWlucyhlbnRpdHkuX2ZpbGVQYXRocywgcmVzcC5wYXRoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXy5lYWNoKGVudGl0aWVzLCBmdW5jdGlvbihlbnRpdHkpe1xuICAgICAgICAgICAgICAkc2NvcGUuYnJvd3Nlci5saXN0aW5nc1tlbnRpdHkudXVpZF0ucHVzaChyZXNwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3A7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gc3RlcCgpe1xuICAgICAgICB2YXIgY2FsbHMgPSBmaWxlQ2FsbHMuc2xpY2UoaW5kZXgsIGluZGV4ICs9IHNpemUpO1xuICAgICAgICBpZihjYWxscy5sZW5ndGgpe1xuICAgICAgICAgICRxLmFsbChjYWxscykudGhlbihmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgcmVzdWx0cy5jb25jYXQocmVzKTtcbiAgICAgICAgICAgIHN0ZXAoKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgfSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGVwKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHAudGhlbihmdW5jdGlvbihyZXN1bHRzKXtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfSwgZnVuY3Rpb24oZXJyKXtcbiAgICAgICRzY29wZS5icm93c2VyLnVpLmVycm9yID0gZXJyO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBzZXRVc2VyRGV0YWlscyA9IGZ1bmN0aW9uKHVzZXJuYW1lcyl7XG4gICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24udXNlcnMgPSBbXTtcbiAgICBmaWxlUGF0aHMgPSBfLnVuaXEodXNlcm5hbWVzKTtcbiAgICB2YXIgcCA9ICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgIHZhciBzaXplID0gNTtcbiAgICAgIHZhciB1c2VySW5kZXggPSAwO1xuXG4gICAgICBmdW5jdGlvbiBzdGVwKCl7XG4gICAgICAgIHZhciBfY2FsbHMgPSBjYWxscy5zbGljZShpbmRleCwgaW5kZXggKz0gc2l6ZSk7XG4gICAgICAgIGlmKF9jYWxscy5sZW5ndGgpe1xuICAgICAgICAgICRxLmFsbChfY2FsbHMpLnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgIHJlc3VsdHMuY29uY2F0KHJlcyk7XG4gICAgICAgICAgICBzdGVwKCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgIH0pLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RlcCgpO1xuICAgIH0pO1xuICAgICRzY29wZS5icm93c2VyLnVpLmxvYWRpbmdQcmV2aWV3ID0gdHJ1ZTtcbiAgICByZXR1cm4gcC50aGVuKGZ1bmN0aW9uKHJlc3VsdHMpe1xuICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24udXNlcnMgPSBfLnVuaXEoJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24udXNlcnMsIGZ1bmN0aW9uKG9iail7cmV0dXJuIG9iai51c2VybmFtZTt9KTtcbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH0sIGZ1bmN0aW9uKGVycil7XG4gICAgICAkc2NvcGUuYnJvd3Nlci51aS5lcnJvciA9IGVycjtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuJHdhdGNoKCdicm93c2VyLnNob3dQcmV2aWV3TGlzdGluZycsIGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKXtcbiAgICBpZiAobmV3VmFsKXtcbiAgICAgICRzY29wZS5icm93c2VyLnVpLmxvYWRpbmdMaXN0aW5ncyA9IHRydWU7XG4gICAgICAkc2NvcGUuYnJvd3Nlci5saXN0aW5ncyA9IHt9O1xuICAgICAgdmFyIGVudGl0aWVzID0gJHNjb3BlLmJyb3dzZXIucHJvamVjdC5nZXRBbGxSZWxhdGVkT2JqZWN0cygpO1xuICAgICAgdmFyIGFsbEZpbGVQYXRocyA9IFtdO1xuICAgICAgXy5lYWNoKGVudGl0aWVzLCBmdW5jdGlvbihlbnRpdHkpe1xuICAgICAgICAkc2NvcGUuYnJvd3Nlci5saXN0aW5nc1tlbnRpdHkudXVpZF0gPSBbXTtcbiAgICAgICAgYWxsRmlsZVBhdGhzID0gYWxsRmlsZVBhdGhzLmNvbmNhdChlbnRpdHkuX2ZpbGVQYXRocyk7XG4gICAgICB9KTtcbiAgICAgICRzY29wZS5kYXRhLnJvb3RQYXRocyA9IGFsbEZpbGVQYXRocztcbiAgICAgIHNldEZpbGVzRGV0YWlscyhhbGxGaWxlUGF0aHMpXG4gICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgIHVzZXJzID0gWyRzY29wZS5icm93c2VyLnByb2plY3QudmFsdWUucGldXG4gICAgICAgICAgICAgICAgICAgIC5jb25jYXQoJHNjb3BlLmJyb3dzZXIucHJvamVjdC52YWx1ZS5jb1BpcylcbiAgICAgICAgICAgICAgICAgICAgLmNvbmNhdCgkc2NvcGUuYnJvd3Nlci5wcm9qZWN0LnZhbHVlLnRlYW1NZW1iZXJzKTtcbiAgICAgICAgICByZXR1cm4gc2V0VXNlckRldGFpbHModXNlcnMpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbigpe1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAkc2NvcGUub25Ccm93c2VEYXRhID0gZnVuY3Rpb24gb25Ccm93c2VEYXRhKCRldmVudCwgZmlsZSkge1xuICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIERhdGFCcm93c2VyU2VydmljZS5zaG93TGlzdGluZygpO1xuICAgIGlmIChmaWxlLnR5cGUgPT09ICdmaWxlJykge1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnByZXZpZXcoZmlsZSwgJHNjb3BlLmJyb3dzZXIubGlzdGluZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzdGF0ZS5nbygncHJvamVjdHMudmlldy5kYXRhJywge3Byb2plY3RJZDogcHJvamVjdElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVBhdGg6IGZpbGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RUaXRsZTogcHJvamVjdFRpdGxlfSk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5zY3JvbGxUb1RvcCA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuO1xuICB9O1xuICAkc2NvcGUuc2Nyb2xsVG9Cb3R0b20gPSBmdW5jdGlvbigpe1xuICAgIERhdGFCcm93c2VyU2VydmljZS5zY3JvbGxUb0JvdHRvbSgpO1xuICB9O1xuXG4gICRzY29wZS5vblNlbGVjdERhdGEgPSBmdW5jdGlvbiBvblNlbGVjdERhdGEoJGV2ZW50LCBmaWxlKSB7XG4gICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgaWYgKCRldmVudC5jdHJsS2V5IHx8ICRldmVudC5tZXRhS2V5KSB7XG4gICAgICB2YXIgc2VsZWN0ZWRJbmRleCA9ICRzY29wZS5icm93c2VyLnNlbGVjdGVkLmluZGV4T2YoZmlsZSk7XG4gICAgICBpZiAoc2VsZWN0ZWRJbmRleCA+IC0xKSB7XG4gICAgICAgIERhdGFCcm93c2VyU2VydmljZS5kZXNlbGVjdChbZmlsZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnNlbGVjdChbZmlsZV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoJGV2ZW50LnNoaWZ0S2V5ICYmICRzY29wZS5icm93c2VyLnNlbGVjdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBsYXN0RmlsZSA9ICRzY29wZS5icm93c2VyLnNlbGVjdGVkWyRzY29wZS5icm93c2VyLnNlbGVjdGVkLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIGxhc3RJbmRleCA9ICRzY29wZS5icm93c2VyLmxpc3RpbmcuY2hpbGRyZW4uaW5kZXhPZihsYXN0RmlsZSk7XG4gICAgICB2YXIgZmlsZUluZGV4ID0gJHNjb3BlLmJyb3dzZXIubGlzdGluZy5jaGlsZHJlbi5pbmRleE9mKGZpbGUpO1xuICAgICAgdmFyIG1pbiA9IE1hdGgubWluKGxhc3RJbmRleCwgZmlsZUluZGV4KTtcbiAgICAgIHZhciBtYXggPSBNYXRoLm1heChsYXN0SW5kZXgsIGZpbGVJbmRleCk7XG4gICAgICBEYXRhQnJvd3NlclNlcnZpY2Uuc2VsZWN0KCRzY29wZS5icm93c2VyLmxpc3RpbmcuY2hpbGRyZW4uc2xpY2UobWluLCBtYXggKyAxKSk7XG4gICAgfSBlbHNlIGlmKCB0eXBlb2YgZmlsZS5fdWkgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgICBmaWxlLl91aS5zZWxlY3RlZCl7XG4gICAgICBEYXRhQnJvd3NlclNlcnZpY2UuZGVzZWxlY3QoW2ZpbGVdKTtcbiAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgIERhdGFCcm93c2VyU2VydmljZS5zZWxlY3QoW2ZpbGVdLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm9uRGV0YWlsID0gZnVuY3Rpb24oJGV2ZW50LCBmaWxlKSB7XG4gICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIERhdGFCcm93c2VyU2VydmljZS5wcmV2aWV3KGZpbGUsICRzY29wZS5icm93c2VyLmxpc3RpbmcpO1xuICB9O1xuXG4gICRzY29wZS5vcGVuUHJldmlld1RyZWUgPSBmdW5jdGlvbigkZXZlbnQsIGVudGl0eVV1aWQpe1xuICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBEYXRhQnJvd3NlclNlcnZpY2Uub3BlblByZXZpZXdUcmVlKGVudGl0eVV1aWQpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF9hZGRUb0xpc3RzKGVudCwgZXZ0KXtcbiAgICBpZiAoZW50Lm5hbWUgPT09ICdkZXNpZ25zYWZlLnByb2plY3QuZXhwZXJpbWVudCcpe1xuICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24uZXhwZXJpbWVudHNMaXN0LnB1c2goZW50KTtcbiAgICAgICRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmV4cGVyaW1lbnRzTGlzdCA9IF8udW5pcSgkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5leHBlcmltZW50c0xpc3QsIGZ1bmN0aW9uKGUpe3JldHVybiBlLnV1aWQ7fSk7XG4gICAgICAkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5ldmVudHNMaXN0LnB1c2goZXZ0KTtcbiAgICAgICRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmV2ZW50c0xpc3QgPSBfLnVuaXEoJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24uZXZlbnRzTGlzdCwgZnVuY3Rpb24oZSl7cmV0dXJuIGUudXVpZDt9KTtcbiAgICB9IGVsc2UgaWYgKGVudC5uYW1lID09PSAnZGVzaWduc2FmZS5wcm9qZWN0LmFuYWx5c2lzJyl7XG4gICAgICAkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5hbmFseXNpc0xpc3QucHVzaChlbnQpO1xuICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24uYW5hbHlzaXNMaXN0ID0gXy51bmlxKCRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmFuYWx5c2lzTGlzdCwgZnVuY3Rpb24oZSl7cmV0dXJuIGUudXVpZDt9KTtcbiAgICB9IGVsc2UgaWYgKGVudC5uYW1lID09PSAnZGVzaWduc2FmZS5wcm9qZWN0LnJlcG9ydCcpe1xuICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24ucmVwb3J0c0xpc3QucHVzaChlbnQpO1xuICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24ucmVwb3J0c0xpc3QgPSBfLnVuaXEoJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24ucmVwb3J0c0xpc3QsIGZ1bmN0aW9uKGUpe3JldHVybiBlLnV1aWQ7fSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX3JlbW92ZUZyb21MaXN0cyhlbnQsIGV2dCl7XG4gICAgaWYgKGVudCAmJiBlbnQubmFtZSA9PSAnZGVzaWduc2FmZS5wcm9qZWN0LmV4cGVyaW1lbnQnKXtcbiAgICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24uZXhwZXJpbWVudHNMaXN0ID0gXy5maWx0ZXIoJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24uZXhwZXJpbWVudHNMaXN0LCBmdW5jdGlvbihlKXsgcmV0dXJuIGUudXVpZCAhPT0gZW50LnV1aWQ7fSk7XG4gICAgfWVsc2UgaWYgKGVudCAmJiBlbnQubmFtZSA9PSAnZGVzaWduc2FmZS5wcm9qZWN0LmFuYWx5c2lzJyl7XG4gICAgICAgICRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmFuYWx5c2lzTGlzdCA9IF8uZmlsdGVyKCRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmFuYWx5c2lzTGlzdCwgZnVuY3Rpb24oZSl7IHJldHVybiBlLnV1aWQgIT09IGVudC51dWlkO30pO1xuICAgIH1lbHNlIGlmIChlbnQgJiYgZW50Lm5hbWUgPT0gJ2Rlc2lnbnNhZmUucHJvamVjdC5yZXBvcnQnKXtcbiAgICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24ucmVwb3J0c0xpc3QgPSBfLmZpbHRlcigkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5yZXBvcnRzTGlzdCwgZnVuY3Rpb24oZSl7IHJldHVybiBlLnV1aWQgIT09IGVudC51dWlkO30pO1xuICAgIH1cblxuICAgIGlmIChldnQpe1xuICAgICAgICAkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5ldmVudHNMaXN0ID0gXy5maWx0ZXIoJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24uZXZlbnRzTGlzdCwgZnVuY3Rpb24oZSl7IHJldHVybiBldnQudXVpZCAhPT0gZS51dWlkO30pO1xuICAgIH1cbiAgfVxuXG4gICRzY29wZS5lZGl0UHJvamVjdCA9IGZ1bmN0aW9uKCkge1xuICAgIFByb2plY3RTZXJ2aWNlLmVkaXRQcm9qZWN0KCRzY29wZS5icm93c2VyLnByb2plY3QpXG4gICAgICAudGhlbihmdW5jdGlvbiAocHJvamVjdCkge1xuICAgICAgICAkc2NvcGUuYnJvd3Nlci5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5tYW5hZ2VDb2xsYWJzID0gZnVuY3Rpb24oKSB7XG4gICAgUHJvamVjdFNlcnZpY2UubWFuYWdlQ29sbGFib3JhdG9ycygkc2NvcGUuYnJvd3Nlci5wcm9qZWN0KS50aGVuKGZ1bmN0aW9uIChwcm9qZWN0KSB7XG4gICAgICAkc2NvcGUuYnJvd3NlcnByb2plY3QgPSBwcm9qZWN0O1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5tYW5hZ2VFeHBlcmltZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBleHBlcmltZW50c0F0dHIgPSAkc2NvcGUuYnJvd3Nlci5wcm9qZWN0LmdldFJlbGF0ZWRBdHRyTmFtZSgnZGVzaWduc2FmZS5wcm9qZWN0LmV4cGVyaW1lbnQnKTtcbiAgICB2YXIgZXhwZXJpbWVudHMgPSAkc2NvcGUuYnJvd3Nlci5wcm9qZWN0W2V4cGVyaW1lbnRzQXR0cl07XG4gICAgaWYgKHR5cGVvZiBleHBlcmltZW50cyA9PT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgJHNjb3BlLmJyb3dzZXIucHJvamVjdFtleHBlcmltZW50c0F0dHJdID0gW107XG4gICAgICBleHBlcmltZW50cyA9ICRzY29wZS5icm93c2VyLnByb2plY3RbZXhwZXJpbWVudHNBdHRyXTtcbiAgICB9XG4gICAgUHJvamVjdFNlcnZpY2UubWFuYWdlRXhwZXJpbWVudHMoeydleHBlcmltZW50cyc6IGV4cGVyaW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvamVjdCc6ICRzY29wZS5icm93c2VyLnByb2plY3R9KS50aGVuKGZ1bmN0aW9uIChleHBlcmltZW50cykge1xuICAgICAgJHNjb3BlLmJyb3dzZXIuZXhwZXJpbWVudHMgPSBleHBlcmltZW50cztcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgX2VkaXRGaWVsZE1vZGFsID0gZnVuY3Rpb24ob2JqQXJyLCB0aXRsZSwgZmllbGRzLCBjbGFzc2VzKXtcbiAgICAgIG1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICB0ZW1wbGF0ZSA6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAnPGgzPnt7dWkudGl0bGV9fTwvaDM+JyArXG4gICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCIgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnbmctcmVwZWF0PVwib2JqIGluIGRhdGEub2JqQXJyXCIgc3R5bGU9XCJvdmVyZmxvdzphdXRvO1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBuZy1yZXBlYXQ9XCJmaWVsZCBpbiB1aS5maWVsZHNcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInt7dWkuY2xhc3Nlc1tmaWVsZC5uYW1lXX19XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJzxsYWJlbCBmb3I9XCJ7e2ZpZWxkLmlkfX0te3tvYmpbZmllbGQudW5pcV19fVwiPnt7ZmllbGQubGFiZWx9fTwvbGFiZWw+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJzxpbnB1dCB0eXBlPVwie3tmaWVsZC50eXBlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJ7e2ZpZWxkLm5hbWV9fS17e29ialtmaWVsZC51bmlxXX19XCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZD1cInt7ZmllbGQuaWR9fS17e29ialtmaWVsZC51bmlxXX19XCIgbmctbW9kZWw9XCJvYmpbZmllbGQubmFtZV1cIi8+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdFwiIG5nLWNsaWNrPVwiY2xvc2UoKVwiPkNsb3NlPC9idXR0b24+JyArXG4gICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4taW5mb1wiIG5nLWNsaWNrPVwic2F2ZSgpXCI+U2F2ZTwvYnV0dG9uPicgK1xuICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24oJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSl7XG4gICAgICAgICAgJHNjb3BlLnVpID0ge2ZpZWxkczogZmllbGRzLFxuICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiBjbGFzc2VzLFxuICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgIGZvcm06IHt9fTtcbiAgICAgICAgICAkc2NvcGUuZGF0YSA9IHtvYmpBcnI6IGFuZ3VsYXIuY29weShvYmpBcnIpfTtcblxuICAgICAgICAgICRzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ0NhbmNlbCcpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCRzY29wZS5kYXRhLm9iakFycik7XG4gICAgICAgICAgfTtcbiAgICAgICB9XVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbW9kYWw7XG4gIH07XG5cbiAgdmFyIF9wdWJsaWNhdGlvbkN0cmwgPSB7XG5cbiAgICBmaWx0ZXJVc2VyczogZnVuY3Rpb24odXNlcm5hbWVzLCB1c2Vycyl7XG4gICAgICByZXR1cm4gXy5maWx0ZXIodXNlcnMsIGZ1bmN0aW9uKHVzcil7XG4gICAgICAgICAgcmV0dXJuIF8uY29udGFpbnModXNlcm5hbWVzLCB1c3IudXNlcm5hbWUpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIHNob3dUZXh0IDogZnVuY3Rpb24odGV4dCl7XG4gICAgICAgICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxoMz4gRGVzY3JpcHRpb24gPC9oMz4nICtcbiAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1wiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcInBhZGRpbmc6NXB4O1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAne3t0ZXh0fX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCIgbmctY2xpY2s9XCJjbG9zZSgpXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdDbG9zZScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzwvYnV0dG9uPicgK1xuICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbigkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKXtcbiAgICAgICAgICAgICAgICAkc2NvcGUudGV4dCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnQ2xvc2UnKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfV1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIG1vdmVPcmRlclVwOiBmdW5jdGlvbigkaW5kZXgsIGVudCwgbGlzdCl7XG4gICAgICBpZiAodHlwZW9mIGVudC5fdWkub3JkZXIgPT09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgZW50Ll91aS5vcmRlciA9IDA7XG4gICAgICB9IGVsc2UgaWYgKGVudC5fdWkub3JkZXIgPiAwKXtcbiAgICAgICAgdmFyIG9yZGVyID0gZW50Ll91aS5vcmRlcjtcbiAgICAgICAgdmFyIF9lbnQgPSBfLmZpbmQobGlzdCwgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLl91aS5vcmRlciA9PT0gb3JkZXIgLSAxOyB9KTtcbiAgICAgICAgZW50Ll91aS5vcmRlciAtPSAxO1xuICAgICAgICBfZW50Ll91aS5vcmRlciArPSAxO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBtb3ZlT3JkZXJEb3duOiBmdW5jdGlvbigkaW5kZXgsIGVudCwgbGlzdCl7XG4gICAgICBpZiAodHlwZW9mIGVudC5fdWkub3JkZXIgPT09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgZW50Ll91aS5vcmRlciA9IDA7XG4gICAgICB9IGVsc2UgaWYgKGVudC5fdWkub3JkZXIgPCBsaXN0Lmxlbmd0aCAtIDEpe1xuICAgICAgICB2YXIgX2VudCA9IF8uZmluZChsaXN0LCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuX3VpLm9yZGVyID09PSBlbnQuX3VpLm9yZGVyICsgMTsgfSk7XG4gICAgICAgIGVudC5fdWkub3JkZXIgKz0gMTtcbiAgICAgICAgX2VudC5fdWkub3JkZXIgLT0gMTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgb3BlbkVkaXRQcm9qZWN0IDogZnVuY3Rpb24oKXtcbiAgICAgICAgJHNjb3BlLmVkaXRQcm9qZWN0KCk7XG4gICAgfSxcblxuICAgIG9wZW5FZGl0RXhwZXJpbWVudHM6IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUubWFuYWdlRXhwZXJpbWVudHMoKTtcbiAgICB9LFxuXG4gICAgb3BlbkVkaXRUZWFtTWVtYmVyczogZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5tYW5hZ2VDb2xsYWJzKCk7XG4gICAgfSxcblxuICAgIG9wZW5FZGl0Q2F0ZWdvcmllczogZnVuY3Rpb24oKXtcbiAgICAgIERhdGFCcm93c2VyU2VydmljZS52aWV3Q2F0ZWdvcmllcygpO1xuICAgIH0sXG5cbiAgICBzZWxlY3RBbGxGaWxlcyA6IGZ1bmN0aW9uKGVudCwgZXZ0KXtcbiAgICAgIHZhciBsaXN0aW5nID0gW107XG4gICAgICBpZiAoZW50Lm5hbWUgPT09ICdkZXNpZ25zYWZlLnByb2plY3QuZXhwZXJpbWVudCcpe1xuICAgICAgICBsaXN0aW5nID0gJHNjb3BlLmJyb3dzZXIubGlzdGluZ3NbZXZ0LnV1aWRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdGluZyA9ICRzY29wZS5icm93c2VyLmxpc3RpbmdzW2VudC51dWlkXTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24uZmlsZXNTZWxlY3RlZFtlbnQudXVpZF0gPT09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24uZmlsZXNTZWxlY3RlZFtlbnQudXVpZF0gPSB7fTtcbiAgICAgIH1cbiAgICAgIGlmIChlbnQubmFtZSA9PT0gJ2Rlc2lnbnNhZmUucHJvamVjdC5leHBlcmltZW50Jyl7XG4gICAgICAgIHZhciBmaWxlcyA9IGxpc3Rpbmc7XG4gICAgICAgICRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmZpbGVzU2VsZWN0ZWRbZW50LnV1aWRdW2V2dC51dWlkXSA9IGZpbGVzO1xuICAgICAgICBfYWRkVG9MaXN0cyhlbnQsIGV2dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5maWxlc1NlbGVjdGVkW2VudC51dWlkXSA9IGxpc3Rpbmc7XG4gICAgICAgIF9hZGRUb0xpc3RzKGVudCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGRlc2VsZWN0QWxsRmlsZXMgOiBmdW5jdGlvbihlbnQsIGV2dCl7XG4gICAgICBpZiAoZW50Lm5hbWUgPT09ICdkZXNpZ25zYWZlLnByb2plY3QuZXhwZXJpbWVudCcpe1xuICAgICAgICAkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5maWxlc1NlbGVjdGVkW2VudC51dWlkXVtldnQudXVpZF0gPSBbXTtcbiAgICAgICAgZGVsZXRlICRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmZpbGVzU2VsZWN0ZWRbZW50LnV1aWRdW2V2dC51dWlkXTtcbiAgICAgICAgaWYgKF8uaXNFbXB0eSgkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5maWxlc1NlbGVjdGVkW2VudC51dWlkXSkpe1xuICAgICAgICAgIGRlbGV0ZSAkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5maWxlc1NlbGVjdGVkW2VudC51dWlkXTtcbiAgICAgICAgICBfcmVtb3ZlRnJvbUxpc3RzKGVudCwgZXZ0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfcmVtb3ZlRnJvbUxpc3RzKGVudCwgZXZ0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24uZmlsZXNTZWxlY3RlZFtlbnQudXVpZF0gPSBbXTtcbiAgICAgICAgZGVsZXRlICRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmZpbGVzU2VsZWN0ZWRbZW50LnV1aWRdO1xuICAgICAgICBfcmVtb3ZlRnJvbUxpc3RzKGVudCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGlzRmlsZVNlbGVjdGVkRm9yUHVibGljYXRpb24gOiBmdW5jdGlvbihlbnQsIGV2dCwgZmlsZSl7XG4gICAgICBpZiAodHlwZW9mICRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmZpbGVzU2VsZWN0ZWRbZW50LnV1aWRdID09PSAndW5kZWZpbmVkJyl7XG4gICAgICAgICRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmZpbGVzU2VsZWN0ZWRbZW50LnV1aWRdID0ge307XG4gICAgICB9XG4gICAgICB2YXIgZmlsZXMgPSBbXTtcbiAgICAgIGlmKGVudC5uYW1lID09PSAnZGVzaWduc2FmZS5wcm9qZWN0LmV4cGVyaW1lbnQnKXtcbiAgICAgICAgZmlsZXMgPSAkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5maWxlc1NlbGVjdGVkW2VudC51dWlkXVtldnQudXVpZF0gfHwgW107XG4gICAgICAgIHJldHVybiBfLmZpbmQoZmlsZXMsIGZ1bmN0aW9uKGYpeyByZXR1cm4gZi51dWlkKCkgPT09IGZpbGUudXVpZCgpOyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbGVzID0gJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24uZmlsZXNTZWxlY3RlZFtlbnQudXVpZF0gfHwgW107XG4gICAgICAgIHJldHVybiBfLmZpbmQoZmlsZXMsIGZ1bmN0aW9uKGYpeyByZXR1cm4gZi51dWlkKCkgPT09IGZpbGUudXVpZCgpOyB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZGVzZWxlY3RGaWxlRm9yUHVibGljYXRpb24gOiBmdW5jdGlvbihlbnQsIGV2dCwgZmlsZSl7XG4gICAgICB2YXIgZmlsZXMgPSBbXTtcbiAgICAgIGlmIChlbnQubmFtZSA9PT0gJ2Rlc2lnbnNhZmUucHJvamVjdC5leHBlcmltZW50Jyl7XG4gICAgICAgIGZpbGVzID0gJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24uZmlsZXNTZWxlY3RlZFtlbnQudXVpZF1bZXZ0LnV1aWRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsZXMgPSAkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5maWxlc1NlbGVjdGVkW2VudC51dWlkXTtcbiAgICAgIH1cbiAgICAgIGZpbGVzID0gXy5yZWplY3QoZmlsZXMsIGZ1bmN0aW9uKGYpeyByZXR1cm4gZi51dWlkKCkgPT09IGZpbGUudXVpZCgpOyB9KTtcbiAgICAgIGlmIChlbnQubmFtZSA9PT0gJ2Rlc2lnbnNhZmUucHJvamVjdC5leHBlcmltZW50Jyl7XG4gICAgICAgICRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmZpbGVzU2VsZWN0ZWRbZW50LnV1aWRdW2V2dC51dWlkXSA9IGZpbGVzO1xuICAgICAgICBpZiAoISRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmZpbGVzU2VsZWN0ZWRbZW50LnV1aWRdW2V2dC51dWlkXS5sZW5ndGgpe1xuICAgICAgICAgIGRlbGV0ZSAkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5maWxlc1NlbGVjdGVkW2VudC51dWlkXVtldnQudXVpZF07XG4gICAgICAgICAgaWYgKF8uaXNFbXB0eSgkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5maWxlc1NlbGVjdGVkW2VudC51dWlkXSkpe1xuICAgICAgICAgICAgICBfcmVtb3ZlRnJvbUxpc3RzKGVudCwgZXZ0KTtcbiAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgIF9yZW1vdmVGcm9tTGlzdHMoZW50LCBldnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24uZmlsZXNTZWxlY3RlZFtlbnQudXVpZF0gPSBmaWxlcztcbiAgICAgICAgaWYgKCEkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5maWxlc1NlbGVjdGVkW2VudC51dWlkXS5sZW5ndGgpe1xuICAgICAgICAgIGRlbGV0ZSAkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5maWxlc1NlbGVjdGVkW2VudC51dWlkXTtcbiAgICAgICAgICBpZiAoXy5pc0VtcHR5KCRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmZpbGVzU2VsZWN0ZWRbZW50LnV1aWRdKSl7XG4gICAgICAgICAgICAgIF9yZW1vdmVGcm9tTGlzdHMoZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2VsZWN0RmlsZUZvclB1YmxpY2F0aW9uIDogZnVuY3Rpb24oZW50LCBldnQsIGZpbGUpe1xuICAgICAgaWYgKHR5cGVvZiAkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbltlbnQudXVpZF0gPT09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb25bZW50LnV1aWRdID0ge307XG4gICAgICB9XG4gICAgICB2YXIgZmlsZXMgPSBbXTtcbiAgICAgIGlmIChlbnQubmFtZSA9PT0gJ2Rlc2lnbnNhZmUucHJvamVjdC5leHBlcmltZW50Jyl7XG4gICAgICAgIGZpbGVzID0gJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb25bZW50LnV1aWRdW2V2dC51dWlkXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbGVzID0gJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb25bZW50LnV1aWRdO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBmaWxlcyA9PSAndW5kZWZpbmVkJyl7XG4gICAgICAgIGZpbGVzID0gW107XG4gICAgICB9XG4gICAgICBmaWxlcy5wdXNoKGZpbGUpO1xuICAgICAgaWYgKGVudC5uYW1lID09PSAnZGVzaWduc2FmZS5wcm9qZWN0LmV4cGVyaW1lbnQnKXtcbiAgICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb25bZW50LnV1aWRdW2V2dC51dWlkXSA9IGZpbGVzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb25bZW50LnV1aWRdID0gZmlsZXM7XG4gICAgICB9XG4gICAgICBfYWRkVG9MaXN0cyhlbnQsIGV2dCk7XG4gICAgfSxcblxuICAgIGZpbHRlckV4cGVyaW1lbnRzIDogZnVuY3Rpb24oZXhwZXJpbWVudHMpe1xuICAgICAgaWYoISRzY29wZS5icm93c2VyLnB1Ymxpc2hQaXBlbGluZSB8fCAkc2NvcGUuYnJvd3Nlci5wdWJsaXNoUGlwZWxpbmUgPT09ICdzZWxlY3QnKXtcbiAgICAgICAgICByZXR1cm4gZXhwZXJpbWVudHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi5leHBlcmltZW50c0xpc3Q7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGZpbHRlckV2ZW50cyA6IGZ1bmN0aW9uKGV2ZW50cywgZXhwKXtcbiAgICAgIGlmKCEkc2NvcGUuYnJvd3Nlci5wdWJsaXNoUGlwZWxpbmUgfHwgJHNjb3BlLmJyb3dzZXIucHVibGlzaFBpcGVsaW5lID09PSAnc2VsZWN0Jyl7XG4gICAgICAgICAgcmV0dXJuIGV2ZW50cztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIF8uZmlsdGVyKCRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmV2ZW50c0xpc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGV2dCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF8uY29udGFpbnMoZXZ0LmFzc29jaWF0aW9uSWRzLCBleHAudXVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBmaWx0ZXJGaWxlcyA6IGZ1bmN0aW9uKGVudCwgZXZ0LCBsaXN0aW5nKXtcbiAgICAgIGlmKCEkc2NvcGUuYnJvd3Nlci5wdWJsaXNoUGlwZWxpbmUgfHwgJHNjb3BlLmJyb3dzZXIucHVibGlzaFBpcGVsaW5lID09PSAnc2VsZWN0Jyl7XG4gICAgICAgICAgcmV0dXJuIGxpc3Rpbmc7XG4gICAgICB9IGVsc2UgaWYgKGVudC5uYW1lID09PSAnZGVzaWduc2FmZS5wcm9qZWN0LmV4cGVyaW1lbnQnKSB7XG4gICAgICAgICAgcmV0dXJuICRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmZpbGVzU2VsZWN0ZWRbZW50LnV1aWRdW2V2dC51dWlkXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuICRzY29wZS5icm93c2VyLnB1YmxpY2F0aW9uLmZpbGVzU2VsZWN0ZWRbZW50LnV1aWRdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBlZGl0VXNlcnMgOiBmdW5jdGlvbigpe1xuICAgICAgZmllbGRzID0gW1xuICAgICAgICB7aWQ6ICdsYXN0X25hbWUnLCBuYW1lOiAnbGFzdF9uYW1lJywgbGFiZWw6ICdMYXN0IE5hbWUnLCB1bmlxOiAndXNlcm5hbWUnLCB0eXBlOiAndGV4dCd9LFxuICAgICAgICB7aWQ6ICdmaXJzdF9uYW1lJywgbmFtZTogJ2ZpcnN0X25hbWUnLCBsYWJlbDogJ0ZpcnN0IE5hbWUnLCB1bmlxOiAndXNlcm5hbWUnLCB0eXBlOiAndGV4dCd9XG4gICAgICBdO1xuICAgICAgY2xhc3NlcyA9IHtcbiAgICAgICAgICAnZmlyc3RfbmFtZSc6ICdjb2wtbWQtNicsXG4gICAgICAgICAgJ2xhc3RfbmFtZSc6ICdjb2wtbWQtNidcbiAgICAgIH07XG4gICAgICBtb2RhbCA9IF9lZGl0RmllbGRNb2RhbCgkc2NvcGUuYnJvd3Nlci5wdWJsaWNhdGlvbi51c2VycywgJ0VkaXQgVXNlcnMnLCBmaWVsZHMsIGNsYXNzZXMpO1xuXG4gICAgICBtb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbihyZXNwQXJyKXtcbiAgICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24udXNlcnMgPSByZXNwQXJyO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIGVkaXRJbnN0cyA6IGZ1bmN0aW9uKCl7XG4gICAgICBmaWVsZHMgPSBbe2lkOidsYWJlbCcsIG5hbWU6J2xhYmVsJywgbGFiZWw6J0luc3RpdHV0aW9uJywgdW5pcTogJ25hbWUnLCB0eXBlOid0ZXh0J31dO1xuICAgICAgbW9kYWwgPSBfZWRpdEZpZWxkTW9kYWwoJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24uaW5zdGl0dXRpb25zLCAnRWRpdCBJbnN0aXR1dGlvbnMnLCBmaWVsZHMpO1xuXG4gICAgICBtb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbihyZXNwQXJyKXtcbiAgICAgICAgJHNjb3BlLmJyb3dzZXIucHVibGljYXRpb24uaW5zdGl0dXRpb25zID0gcmVzcEFycjtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICB0b2dnbGVQdWJBZ3JlZW1lbnQgOiBmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5zdGF0ZS5wdWJsaXNoQWdyZWVtZW50ID0gISRzY29wZS5zdGF0ZS5wdWJsaXNoQWdyZWVtZW50O1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUucHVibGljYXRpb25DdHJsID0gX3B1YmxpY2F0aW9uQ3RybDtcblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL2RhdGFfZGVwb3QvY29udHJvbGxlcnMvcHJvamVjdC1kYXRhLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ProjectListCtrl;\nfunction ProjectListCtrl($scope, $state, Django, ProjectService) {\n  'ngInject';\n\n  $scope.ui = {};\n  $scope.data = {\n    customRoot: {\n      name: 'My Projects',\n      href: $state.href('db.projects.list')\n    }\n  };\n  $scope.ui.busy = true;\n  $scope.data.projects = [];\n  ProjectService.list().then(function (projects) {\n    $scope.ui.busy = false;\n    $scope.data.projects = projects;\n  });\n\n  $scope.onBrowse = function onBrowse($event, project) {\n    $event.preventDefault();\n    $state.go('db.projects.listing', { systemId: project.id,\n      filePath: '/',\n      projectTitle: project.name });\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9wcm9qZWN0LWxpc3QuanM/ZjM0MSJdLCJuYW1lcyI6WyJQcm9qZWN0TGlzdEN0cmwiLCIkc2NvcGUiLCIkc3RhdGUiLCJEamFuZ28iLCJQcm9qZWN0U2VydmljZSIsInVpIiwiZGF0YSIsImN1c3RvbVJvb3QiLCJuYW1lIiwiaHJlZiIsImJ1c3kiLCJwcm9qZWN0cyIsImxpc3QiLCJ0aGVuIiwib25Ccm93c2UiLCIkZXZlbnQiLCJwcm9qZWN0IiwicHJldmVudERlZmF1bHQiLCJnbyIsInN5c3RlbUlkIiwiaWQiLCJmaWxlUGF0aCIsInByb2plY3RUaXRsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBQ3dCQSxlO0FBQVQsU0FBU0EsZUFBVCxDQUF5QkMsTUFBekIsRUFBaUNDLE1BQWpDLEVBQXlDQyxNQUF6QyxFQUFpREMsY0FBakQsRUFBaUU7QUFDOUU7O0FBQ0FILFNBQU9JLEVBQVAsR0FBWSxFQUFaO0FBQ0FKLFNBQU9LLElBQVAsR0FBYztBQUNaQyxnQkFBWTtBQUNWQyxZQUFNLGFBREk7QUFFVkMsWUFBTVAsT0FBT08sSUFBUCxDQUFZLGtCQUFaO0FBRkk7QUFEQSxHQUFkO0FBTUFSLFNBQU9JLEVBQVAsQ0FBVUssSUFBVixHQUFpQixJQUFqQjtBQUNBVCxTQUFPSyxJQUFQLENBQVlLLFFBQVosR0FBdUIsRUFBdkI7QUFDQVAsaUJBQWVRLElBQWYsR0FBc0JDLElBQXRCLENBQTJCLFVBQVNGLFFBQVQsRUFBbUI7QUFDNUNWLFdBQU9JLEVBQVAsQ0FBVUssSUFBVixHQUFpQixLQUFqQjtBQUNBVCxXQUFPSyxJQUFQLENBQVlLLFFBQVosR0FBdUJBLFFBQXZCO0FBQ0QsR0FIRDs7QUFLQVYsU0FBT2EsUUFBUCxHQUFrQixTQUFTQSxRQUFULENBQWtCQyxNQUFsQixFQUEwQkMsT0FBMUIsRUFBbUM7QUFDbkRELFdBQU9FLGNBQVA7QUFDQWYsV0FBT2dCLEVBQVAsQ0FBVSxxQkFBVixFQUFpQyxFQUFDQyxVQUFVSCxRQUFRSSxFQUFuQjtBQUNBQyxnQkFBVSxHQURWO0FBRUFDLG9CQUFjTixRQUFRUixJQUZ0QixFQUFqQztBQUdELEdBTEQ7QUFPRCIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUHJvamVjdExpc3RDdHJsKCRzY29wZSwgJHN0YXRlLCBEamFuZ28sIFByb2plY3RTZXJ2aWNlKSB7XG4gICduZ0luamVjdCc7XG4gICRzY29wZS51aSA9IHt9O1xuICAkc2NvcGUuZGF0YSA9IHtcbiAgICBjdXN0b21Sb290OiB7XG4gICAgICBuYW1lOiAnTXkgUHJvamVjdHMnLFxuICAgICAgaHJlZjogJHN0YXRlLmhyZWYoJ2RiLnByb2plY3RzLmxpc3QnKVxuICAgIH1cbiAgfTtcbiAgJHNjb3BlLnVpLmJ1c3kgPSB0cnVlO1xuICAkc2NvcGUuZGF0YS5wcm9qZWN0cyA9IFtdO1xuICBQcm9qZWN0U2VydmljZS5saXN0KCkudGhlbihmdW5jdGlvbihwcm9qZWN0cykge1xuICAgICRzY29wZS51aS5idXN5ID0gZmFsc2U7XG4gICAgJHNjb3BlLmRhdGEucHJvamVjdHMgPSBwcm9qZWN0cztcbiAgfSk7XG5cbiAgJHNjb3BlLm9uQnJvd3NlID0gZnVuY3Rpb24gb25Ccm93c2UoJGV2ZW50LCBwcm9qZWN0KSB7XG4gICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgJHN0YXRlLmdvKCdkYi5wcm9qZWN0cy5saXN0aW5nJywge3N5c3RlbUlkOiBwcm9qZWN0LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVQYXRoOiAnLycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdFRpdGxlOiBwcm9qZWN0Lm5hbWV9KTtcbiAgfTtcblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL2RhdGFfZGVwb3QvY29udHJvbGxlcnMvcHJvamVjdC1saXN0LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ProjectListingCtrl;\nfunction ProjectListingCtrl($scope, $state, $stateParams, Django, ProjectService, DataBrowserService) {\n  $scope.data = {\n    customRoot: {\n      name: 'My Projects',\n      href: $state.href('db.projects.list')\n    }\n  };\n  $scope.systemId = $stateParams.systemId;\n  var options = {\n    system: $scope.systemId,\n    path: $stateParams.filePath\n  };\n  DataBrowserService.apiParams.fileMgr = 'shared';\n  DataBrowserService.apiParams.baseUrl = '/api/data-depot/files';\n  DataBrowserService.apiParams.searchState = 'dataSearch';\n  $scope.browser = DataBrowserService.state();\n  DataBrowserService.browse(options).then(function (resp) {\n    $scope.browser = DataBrowserService.state();\n  });\n\n  //This adds the project to the breadcrumbs\n  $scope.searchState = DataBrowserService.apiParams.searchState;\n  ProjectService.list().then(function (resp) {\n    var prj = _.find(resp, { id: $scope.systemId });\n    prj.href = $state.href('db.projects.listing', {\n      systemId: prj.id,\n      filePath: '/'\n    });\n    $scope.data.project = prj;\n  });\n\n  $scope.onSelect = function ($event, file) {\n    $event.stopPropagation();\n    if ($event.ctrlKey || $event.metaKey) {\n      var selectedIndex = $scope.browser.selected.indexOf(file);\n      if (selectedIndex > -1) {\n        DataBrowserService.deselect([file]);\n      } else {\n        DataBrowserService.select([file]);\n      }\n    } else if ($event.shiftKey && $scope.browser.selected.length > 0) {\n      var lastFile = $scope.browser.selected[$scope.browser.selected.length - 1];\n      var lastIndex = $scope.browser.listing.children.indexOf(lastFile);\n      var fileIndex = $scope.browser.listing.children.indexOf(file);\n      var min = Math.min(lastIndex, fileIndex);\n      var max = Math.max(lastIndex, fileIndex);\n      DataBrowserService.select($scope.browser.listing.children.slice(min, max + 1));\n    } else if (typeof file._ui !== 'undefined' && file._ui.selected) {\n      DataBrowserService.deselect([file]);\n    } else {\n      DataBrowserService.select([file], true);\n    }\n  };\n\n  $scope.onBrowse = function ($event, file) {\n    $event.preventDefault();\n    $event.stopPropagation();\n    if (file.type === 'file') {\n      DataBrowserService.preview(file, $scope.browser.listing);\n    } else {\n      $state.go('db.projects.listing', { systemId: file.system, filePath: file.path });\n    }\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9wcm9qZWN0LWxpc3RpbmcuanM/OTFiNCJdLCJuYW1lcyI6WyJQcm9qZWN0TGlzdGluZ0N0cmwiLCIkc2NvcGUiLCIkc3RhdGUiLCIkc3RhdGVQYXJhbXMiLCJEamFuZ28iLCJQcm9qZWN0U2VydmljZSIsIkRhdGFCcm93c2VyU2VydmljZSIsImRhdGEiLCJjdXN0b21Sb290IiwibmFtZSIsImhyZWYiLCJzeXN0ZW1JZCIsIm9wdGlvbnMiLCJzeXN0ZW0iLCJwYXRoIiwiZmlsZVBhdGgiLCJhcGlQYXJhbXMiLCJmaWxlTWdyIiwiYmFzZVVybCIsInNlYXJjaFN0YXRlIiwiYnJvd3NlciIsInN0YXRlIiwiYnJvd3NlIiwidGhlbiIsInJlc3AiLCJsaXN0IiwicHJqIiwiXyIsImZpbmQiLCJpZCIsInByb2plY3QiLCJvblNlbGVjdCIsIiRldmVudCIsImZpbGUiLCJzdG9wUHJvcGFnYXRpb24iLCJjdHJsS2V5IiwibWV0YUtleSIsInNlbGVjdGVkSW5kZXgiLCJzZWxlY3RlZCIsImluZGV4T2YiLCJkZXNlbGVjdCIsInNlbGVjdCIsInNoaWZ0S2V5IiwibGVuZ3RoIiwibGFzdEZpbGUiLCJsYXN0SW5kZXgiLCJsaXN0aW5nIiwiY2hpbGRyZW4iLCJmaWxlSW5kZXgiLCJtaW4iLCJNYXRoIiwibWF4Iiwic2xpY2UiLCJfdWkiLCJvbkJyb3dzZSIsInByZXZlbnREZWZhdWx0IiwidHlwZSIsInByZXZpZXciLCJnbyJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBQXdCQSxrQjtBQUFULFNBQVNBLGtCQUFULENBQTRCQyxNQUE1QixFQUFvQ0MsTUFBcEMsRUFBNENDLFlBQTVDLEVBQTBEQyxNQUExRCxFQUFrRUMsY0FBbEUsRUFBa0ZDLGtCQUFsRixFQUFxRztBQUNsSEwsU0FBT00sSUFBUCxHQUFjO0FBQ1pDLGdCQUFZO0FBQ1ZDLFlBQU0s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b0IsR0FBWixLQUFvQixXQUFwQixJQUNBcEIsS0FBS29CLEdBQUwsQ0FBU2YsUUFEYixFQUNzQjtBQUMzQmhDLHlCQUFtQmtDLFFBQW5CLENBQTRCLENBQUNQLElBQUQsQ0FBNUI7QUFDRCxLQUhNLE1BR0E7QUFDTDNCLHlCQUFtQm1DLE1BQW5CLENBQTBCLENBQUNSLElBQUQsQ0FBMUIsRUFBa0MsSUFBbEM7QUFDRDtBQUNGLEdBdEJEOztBQXdCQWhDLFNBQU9xRCxRQUFQLEdBQWtCLFVBQVV0QixNQUFWLEVBQWtCQyxJQUFsQixFQUF3QjtBQUN4Q0QsV0FBT3VCLGNBQVA7QUFDQXZCLFdBQU9FLGVBQVA7QUFDQSxRQUFJRCxLQUFLdUIsSUFBTCxLQUFjLE1BQWxCLEVBQTBCO0FBQ3hCbEQseUJBQW1CbUQsT0FBbkIsQ0FBMkJ4QixJQUEzQixFQUFpQ2hDLE9BQU9tQixPQUFQLENBQWUwQixPQUFoRDtBQUNELEtBRkQsTUFFTztBQUNMNUMsYUFBT3dELEVBQVAsQ0FBVSxxQkFBVixFQUFpQyxFQUFDL0MsVUFBVXNCLEtBQUtwQixNQUFoQixFQUF3QkUsVUFBVWtCLEtBQUtuQixJQUF2QyxFQUFqQztBQUNEO0FBQ0YsR0FSRDtBQVNEIiwiZmlsZSI6IjEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUHJvamVjdExpc3RpbmdDdHJsKCRzY29wZSwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsIERqYW5nbywgUHJvamVjdFNlcnZpY2UsIERhdGFCcm93c2VyU2VydmljZSl7XG4gICRzY29wZS5kYXRhID0ge1xuICAgIGN1c3RvbVJvb3Q6IHtcbiAgICAgIG5hbWU6ICdNeSBQcm9qZWN0cycsXG4gICAgICBocmVmOiAkc3RhdGUuaHJlZignZGIucHJvamVjdHMubGlzdCcpXG4gICAgfVxuICB9O1xuICAkc2NvcGUuc3lzdGVtSWQgPSAkc3RhdGVQYXJhbXMuc3lzdGVtSWQ7XG4gIHZhciBvcHRpb25zID0ge1xuICAgIHN5c3RlbTogJHNjb3BlLnN5c3RlbUlkLFxuICAgIHBhdGg6ICgkc3RhdGVQYXJhbXMuZmlsZVBhdGgpXG4gIH07XG4gIERhdGFCcm93c2VyU2VydmljZS5hcGlQYXJhbXMuZmlsZU1nciA9ICdzaGFyZWQnO1xuICBEYXRhQnJvd3NlclNlcnZpY2UuYXBpUGFyYW1zLmJhc2VVcmwgPSAnL2FwaS9kYXRhLWRlcG90L2ZpbGVzJztcbiAgRGF0YUJyb3dzZXJTZXJ2aWNlLmFwaVBhcmFtcy5zZWFyY2hTdGF0ZSA9ICdkYXRhU2VhcmNoJztcbiAgJHNjb3BlLmJyb3dzZXIgPSBEYXRhQnJvd3NlclNlcnZpY2Uuc3RhdGUoKTtcbiAgRGF0YUJyb3dzZXJTZXJ2aWNlLmJyb3dzZShvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgJHNjb3BlLmJyb3dzZXIgPSBEYXRhQnJvd3NlclNlcnZpY2Uuc3RhdGUoKTtcbiAgfSk7XG5cblxuXG4gIC8vVGhpcyBhZGRzIHRoZSBwcm9qZWN0IHRvIHRoZSBicmVhZGNydW1ic1xuICAkc2NvcGUuc2VhcmNoU3RhdGUgPSBEYXRhQnJvd3NlclNlcnZpY2UuYXBpUGFyYW1zLnNlYXJjaFN0YXRlO1xuICBQcm9qZWN0U2VydmljZS5saXN0KCkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgIHZhciBwcmogPSBfLmZpbmQocmVzcCwge2lkOiAkc2NvcGUuc3lzdGVtSWR9KTtcbiAgICBwcmouaHJlZiA9ICRzdGF0ZS5ocmVmKCdkYi5wcm9qZWN0cy5saXN0aW5nJywge1xuICAgICAgc3lzdGVtSWQ6IHByai5pZCxcbiAgICAgIGZpbGVQYXRoOiAnLycsXG4gICAgfSk7XG4gICAgJHNjb3BlLmRhdGEucHJvamVjdCA9IHByajtcbiAgfSk7XG5cbiAgJHNjb3BlLm9uU2VsZWN0ID0gZnVuY3Rpb24oJGV2ZW50LCBmaWxlKSB7XG4gICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICgkZXZlbnQuY3RybEtleSB8fCAkZXZlbnQubWV0YUtleSkge1xuICAgICAgdmFyIHNlbGVjdGVkSW5kZXggPSAkc2NvcGUuYnJvd3Nlci5zZWxlY3RlZC5pbmRleE9mKGZpbGUpO1xuICAgICAgaWYgKHNlbGVjdGVkSW5kZXggPiAtMSkge1xuICAgICAgICBEYXRhQnJvd3NlclNlcnZpY2UuZGVzZWxlY3QoW2ZpbGVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIERhdGFCcm93c2VyU2VydmljZS5zZWxlY3QoW2ZpbGVdKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCRldmVudC5zaGlmdEtleSAmJiAkc2NvcGUuYnJvd3Nlci5zZWxlY3RlZC5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgbGFzdEZpbGUgPSAkc2NvcGUuYnJvd3Nlci5zZWxlY3RlZFskc2NvcGUuYnJvd3Nlci5zZWxlY3RlZC5sZW5ndGggLSAxXTtcbiAgICAgIHZhciBsYXN0SW5kZXggPSAkc2NvcGUuYnJvd3Nlci5saXN0aW5nLmNoaWxkcmVuLmluZGV4T2YobGFzdEZpbGUpO1xuICAgICAgdmFyIGZpbGVJbmRleCA9ICRzY29wZS5icm93c2VyLmxpc3RpbmcuY2hpbGRyZW4uaW5kZXhPZihmaWxlKTtcbiAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihsYXN0SW5kZXgsIGZpbGVJbmRleCk7XG4gICAgICB2YXIgbWF4ID0gTWF0aC5tYXgobGFzdEluZGV4LCBmaWxlSW5kZXgpO1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnNlbGVjdCgkc2NvcGUuYnJvd3Nlci5saXN0aW5nLmNoaWxkcmVuLnNsaWNlKG1pbiwgbWF4ICsgMSkpO1xuICAgIH0gZWxzZSBpZiggdHlwZW9mIGZpbGUuX3VpICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgICAgZmlsZS5fdWkuc2VsZWN0ZWQpe1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmRlc2VsZWN0KFtmaWxlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIERhdGFCcm93c2VyU2VydmljZS5zZWxlY3QoW2ZpbGVdLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm9uQnJvd3NlID0gZnVuY3Rpb24gKCRldmVudCwgZmlsZSkge1xuICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoZmlsZS50eXBlID09PSAnZmlsZScpIHtcbiAgICAgIERhdGFCcm93c2VyU2VydmljZS5wcmV2aWV3KGZpbGUsICRzY29wZS5icm93c2VyLmxpc3RpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc3RhdGUuZ28oJ2RiLnByb2plY3RzLmxpc3RpbmcnLCB7c3lzdGVtSWQ6IGZpbGUuc3lzdGVtLCBmaWxlUGF0aDogZmlsZS5wYXRofSk7XG4gICAgfVxuICB9O1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL2RhdGFfZGVwb3QvY29udHJvbGxlcnMvcHJvamVjdC1saXN0aW5nLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ProjectViewCtrl;\nfunction ProjectViewCtrl($scope, $state, Django, ProjectService, ProjectEntitiesService, DataBrowserService, projectId, FileListing, $uibModal, $q, $http) {\n  'ngInject';\n\n  $scope.data = {};\n  $scope.state = DataBrowserService.state();\n  $scope.ui = {};\n\n  function setEntitiesRel(resp) {\n    $scope.data.project.setEntitiesRel(resp);\n    return resp;\n  }\n\n  ProjectService.get({ uuid: projectId }).then(function (project) {\n    $scope.data.project = project;\n    DataBrowserService.state().project = project;\n    DataBrowserService.state().loadingEntities = true;\n    $scope.data.loadingEntities = true;\n    var _related = project._related;\n    var tasks = [];\n    for (var attrname in _related) {\n      var name = _related[attrname];\n      if (name != 'designsafe.file') {\n        tasks.push(ProjectEntitiesService.listEntities({ uuid: projectId, name: name }).then(setEntitiesRel));\n      }\n    }\n    $q.all(tasks).then(function (resp) {\n      //$scope.data.project.setupAllRels();\n      return resp;\n    }).then(function (resp) {\n      DataBrowserService.state().loadingEntities = false;\n      $scope.data.loadingEntities = false;\n    }, function (err) {\n      DataBrowserService.state().loadingEntities = false;\n      $scope.data.loadingEntities = false;\n    }).then(function () {\n      ProjectService.getCollaborators({ uuid: DataBrowserService.state().project.uuid }).then(function (resp) {\n        DataBrowserService.state().project.value.teamMembers = _.without(resp.data.teamMembers, 'ds_admin');\n      });\n    });\n  });\n\n  $scope.showText = function (text) {\n    $uibModal.open({\n      template: '<div class=\"modal-header\">' + '<h3>Description</h3>' + '</div>' + '<div class=\"modal-body\">' + '<div style=\"border: 1px solid black;\"' + '\"padding:5px;\">' + '{{text}}' + '</div>' + '</div>' + '<div class=\"modal-footer\">' + '<button class=\"btn btn-default\" ng-click=\"close()\">' + 'Close' + '</button>' + '</div>',\n      controller: ['$scope', '$uibModalInstance', function ($scope, $uibModalInstance) {\n        $scope.text = text;\n        $scope.close = function () {\n          $uibModalInstance.dismiss('Close');\n        };\n      }]\n    });\n  };\n\n  $scope.editProject = function ($event) {\n    if ($event) {\n      $event.preventDefault();\n    }\n    ProjectService.editProject($scope.data.project).then(function (project) {\n      $scope.data.project = project;\n    });\n  };\n\n  $scope.manageCollabs = function ($event) {\n    if ($event) {\n      $event.preventDefault();\n    }\n    ProjectService.manageCollaborators($scope.data.project).then(function (res) {\n\n      // $scope.data.project.pi = res.data.pi;\n      // $scope.data.project.coPis = res.data.coPis;\n      // $scope.data.project.teamMembers = res.data.teamMembers;\n    });\n  };\n\n  $scope.manageExperiments = function ($event) {\n    if ($event) {\n      $event.preventDefault();\n    }\n    var experimentsAttr = $scope.data.project.getRelatedAttrName('designsafe.project.experiment');\n    var experiments = $scope.data.project[experimentsAttr];\n    if (typeof experiments === 'undefined') {\n      $scope.data.project[experimentsAttr] = [];\n      experiments = $scope.data.project[experimentsAttr];\n    }\n    ProjectService.manageExperiments({ 'experiments': experiments,\n      'project': $scope.data.project }).then(function (experiments) {\n      $scope.data.experiments = experiments;\n    });\n  };\n\n  $scope.dateString = function (s) {\n    var d = Date(s);\n    return d;\n  };\n\n  $scope.showListing = function () {\n    //DataBrowserService.state().showMainListing = true;\n    //DataBrowserService.state().showPreviewListing = false;\n    DataBrowserService.showListing();\n  };\n\n  $scope.showPreview = function () {\n    //DataBrowserService.state().showMainListing = false;\n    //DataBrowserService.state().showPreviewListing = true;\n    $scope.previewHref = undefined;\n    DataBrowserService.showPreview();\n    FileListing.get({ 'system': $scope.browser.listing.system,\n      'name': 'projectimage.jpg',\n      'path': '/projectimage.jpg' }).then(function (list) {\n      list.preview().then(function (data) {\n        $scope.previewHref = data.postit;\n      });\n    });\n  };\n\n  $scope.publishPipeline_start = function () {\n    $scope.state.publishPipeline = 'select';\n  };\n\n  $scope.publishPipeline_review = function () {\n    $scope.state.publishPipeline = 'review';\n  };\n\n  $scope.publishPipeline_meta = function () {\n    $scope.state.publishPipeline = 'meta';\n  };\n\n  $scope.publishPipeline_exit = function () {\n    $scope.state.publishPipeline = undefined;\n    $scope.ui.publicationMessages = [];\n  };\n\n  $scope.publishPipeline_prev = function (st) {\n    if (st == 'agreement') {\n      $scope.state.publishPipeline = 'meta';\n    } else if (st == 'meta') {\n      $scope.state.publishPipeline = 'review';\n    } else if (st == 'review') {\n      $scope.state.publishPipeline = 'select';\n    } else {\n      $scope.state.publishPipeline = 'select';\n    }\n  };\n\n  $scope.publishPipeline_next = function (st) {\n    if (st == 'select') {\n      $scope.state.publishPipeline = 'review';\n    } else if (st == 'review') {\n      var institutions = [];\n      _.each($scope.state.publication.experimentsList, function (exp) {\n        var o = {\n          label: exp.getEF($scope.state.project.value.projectType, exp.value.experimentalFacility).institution,\n          name: exp.value.experimentalFacility\n        };\n        institutions.push(o);\n      });\n      _.each($scope.state.publication.users, function (user) {\n        institutions.push({ label: user.profile.institution,\n          name: user.username });\n      });\n      $scope.state.publication.institutions = _.uniq(institutions, function (inst) {\n        return inst.label;\n      });\n      $scope.state.publishPipeline = 'meta';\n    } else if (st == 'meta') {\n      $scope.state.publishPipeline = 'agreement';\n    } else {\n      $scope.state.publishPipeline = 'agreement';\n    }\n  };\n\n  $scope.publishPipeline_publish = function () {\n    var publication = angular.copy($scope.state.publication);\n    var experimentsList = [];\n    var eventsList = [];\n    var analysisList = [];\n    var reportsList = [];\n    var modelConfigs = [];\n    var sensorLists = [];\n    var publicationMessages = [];\n    if (publication.experimentsList) {\n      experimentsList = _.map(publication.experimentsList, function (exp) {\n        exp.value.equipmentType = exp.getET(exp.value.experimentalFacility, exp.value.equipmentType).label;\n        exp.value.experimentalFacility = exp.getEF($scope.state.project.value.projectType, exp.value.experimentalFacility).label;\n        exp.events = $scope.state.publication;\n        delete exp._ui;\n        delete exp.events;\n        if (!exp.value.authors.length) {\n          publicationMessages.push({ title: 'Experiment ' + exp.value.title,\n            message: 'Missing authors' });\n        }\n        return exp;\n      });\n      delete publication.experimentsList;\n    }\n    if (publication.eventsList) {\n      var _eventsList = angular.copy(publication.eventsList);\n      delete publication.eventsList;\n      var expsUuids = _.map(experimentsList, function (exp) {\n        return exp.uuid;\n      });\n      eventsList = _.filter(_eventsList, function (evt) {\n        return _.intersection(evt.associationIds, expsUuids);\n      });\n      var mcfsUuids = [];\n      var slsUuids = [];\n      _.each(eventsList, function (evt) {\n        mcfsUuids = mcfsUuids.concat(evt.value.modelConfigs);\n        slsUuids = slsUuids.concat(evt.value.sensorLists);\n        delete evt.tagsAsOptions;\n        evt.fileObjs = _.map($scope.state.listings[evt.uuid], function (f) {\n          return {\n            'path': f.path,\n            'type': f.type,\n            'length': f.length,\n            'name': f.name\n          };\n        });\n        if (!evt.fileObjs.length) {\n          publicationMessages.push({ title: 'Event ' + evt.value.title,\n            message: 'Missing files' });\n        }\n      });\n      _.each(mcfsUuids, function (mcf) {\n        var _mcf = angular.copy($scope.state.project.getRelatedByUuid(mcf));\n        delete _mcf.tagsAsOptions;\n        _mcf.fileObjs = _.map($scope.state.listings[_mcf.uuid], function (f) {\n          return {\n            'path': f.path,\n            'type': f.type,\n            'length': f.length,\n            'name': f.name\n          };\n        });\n        if (!_mcf.fileObjs.length) {\n          publicationMessages.push({ title: 'Model Config ' + _mcf.value.title,\n            message: 'Missing files.' });\n        }\n        modelConfigs.push(_mcf);\n      });\n      _.each(slsUuids, function (slt) {\n        var _slt = angular.copy($scope.state.project.getRelatedByUuid(slt));\n        delete _slt.tagsAsOptions;\n        _slt.fileObjs = _.map($scope.state.listings[_slt.uuid], function (f) {\n          return {\n            'path': f.path,\n            'type': f.type,\n            'length': f.length,\n            'name': f.name\n          };\n        });\n        if (!_slt.fileObjs.length) {\n          publicationMessages.push({ title: 'Sensor Info ' + _slt.value.title,\n            message: 'Missing files.' });\n        }\n        sensorLists.push(_slt);\n      });\n    }\n    if (publication.analysisList) {\n      analysisList = _.map(publication.analysisList, function (ana) {\n        delete ana.tagsAsOptions;\n        ana.fileObjs = _.map($scope.state.listings[ana.uuid], function (f) {\n          return {\n            'path': f.path,\n            'type': f.type,\n            'length': f.length,\n            'name': f.name\n          };\n        });\n        if (!ana.fileObjs.length) {\n          publicationMessages.push({ title: 'Analysis ' + ana.value.title,\n            message: 'Missing Files' });\n        }\n        return ana;\n      });\n      delete publication.analysisList;\n    }\n    if (publication.reportsList) {\n      reportsList = _.map(publication.reportsList, function (rep) {\n        rep.fileObjs = _.map($scope.state.listings[rep.uuid], function (f) {\n          return {\n            'path': f.path,\n            'type': f.type,\n            'length': f.length,\n            'name': f.name\n          };\n        });\n        return rep;\n      });\n      delete publication.reportsList;\n    }\n    var project = angular.copy($scope.state.project);\n    delete project._allRelatedObjects;\n    _.each(project._related, function (val, key) {\n      delete project[key];\n    });\n    delete publication.filesSelected;\n    publication.project = project;\n    publication.eventsList = eventsList;\n    publication.modelConfigs = modelConfigs;\n    publication.sensorLists = sensorLists;\n    publication.analysisList = analysisList;\n    publication.reportsList = reportsList;\n    publication.experimentsList = experimentsList;\n    if (publicationMessages.length) {\n      $scope.ui.publicationMessages = publicationMessages;\n      return;\n    }\n    $http.post('/api/projects/publication/', { publication: publication }).then(function (resp) {\n      $scope.state.publicationMsg = resp.data.message;\n      $scope.state.project.publicationStatus = 'publishing';\n      DataBrowserService.state().publicationMsg = resp.data.message;\n      DataBrowserService.state().project.publicationStatus = 'publishing';\n    });\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9wcm9qZWN0LXZpZXcuanM/NjgzYSJdLCJuYW1lcyI6WyJQcm9qZWN0Vmlld0N0cmwiLCIkc2NvcGUiLCIkc3RhdGUiLCJEamFuZ28iLCJQcm9qZWN0U2VydmljZSIsIlByb2plY3RFbnRpdGllc1NlcnZpY2UiLCJEYXRhQnJvd3NlclNlcnZpY2UiLCJwcm9qZWN0SWQiLCJGaWxlTGlzdGluZyIsIiR1aWJNb2RhbCIsIiRxIiwiJGh0dHAiLCJkYXRhIiwic3RhdGUiLCJ1aSIsInNldEVudGl0aWVzUmVsIiwicmVzcCIsInByb2plY3QiLCJnZXQiLCJ1dWlkIiwidGhlbiIsImxvYWRpbmdFbnRpdGllcyIsIl9yZWxhdGVkIiwidGFza3MiLCJhdHRybmFtZSIsIm5hbWUiLCJwdXNoIiwibGlzdEVudGl0aWVzIiwiYWxsIiwiZXJyIiwiZ2V0Q29sbGFib3JhdG9ycyIsInZhbHVlIiwidGVhbU1lbWJlcnMiLCJfIiwid2l0aG91dCIsInNob3dUZXh0IiwidGV4dCIsIm9wZW4iLCJ0ZW1wbGF0ZSIsImNvbnRyb2xsZXIiLCIkdWliTW9kYWxJbnN0YW5jZSIsImNsb3NlIiwiZGlzbWlzcyIsImVkaXRQcm9qZWN0IiwiJGV2ZW50IiwicHJldmVudERlZmF1bHQiLCJtYW5hZ2VDb2xsYWJzIiwibWFuYWdlQ29sbGFib3JhdG9ycyIsInJlcyIsIm1hbmFnZUV4cGVyaW1lbnRzIiwiZXhwZXJpbWVudHNBdHRyIiwiZ2V0UmVsYXRlZEF0dHJOYW1lIiwiZXhwZXJpbWVudHMiLCJkYXRlU3RyaW5nIiwicyIsImQiLCJEYXRlIiwic2hvd0xpc3RpbmciLCJzaG93UHJldmlldyIsInByZXZpZXdIcmVmIiwidW5kZWZpbmVkIiwiYnJvd3NlciIsImxpc3RpbmciLCJzeXN0ZW0iLCJsaXN0IiwicHJldmlldyIsInBvc3RpdCIsInB1Ymxpc2hQaXBlbGluZV9zdGFydCIsInB1Ymxpc2hQaXBlbGluZSIsInB1Ymxpc2hQaXBlbGluZV9yZXZpZXciLCJwdWJsaXNoUGlwZWxpbmVfbWV0YSIsInB1Ymxpc2hQaXBlbGluZV9leGl0IiwicHVibGljYXRpb25NZXNzYWdlcyIsInB1Ymxpc2hQaXBlbGluZV9wcmV2Iiwic3QiLCJwdWJsaXNoUGlwZWxpbmVfbmV4dCIsImluc3RpdHV0aW9ucyIsImVhY2giLCJwdWJsaWNhdGlvbiIsImV4cGVyaW1lbnRzTGlzdCIsImV4cCIsIm8iLCJsYWJlbCIsImdldEVGIiwicHJvamVjdFR5cGUiLCJleHBlcmltZW50YWxGYWNpbGl0eSIsImluc3RpdHV0aW9uIiwidXNlcnMiLCJ1c2VyIiwicHJvZmlsZSIsInVzZXJuYW1lIiwidW5pcSIsImluc3QiLCJwdWJsaXNoUGlwZWxpbmVfcHVibGlzaCIsImFuZ3VsYXIiLCJjb3B5IiwiZXZlbnRzTGlzdCIsImFuYWx5c2lzTGlzdCIsInJlcG9ydHNMaXN0IiwibW9kZWxDb25maWdzIiwic2Vuc29yTGlzdHMiLCJtYXAiLCJlcXVpcG1lbnRUeXBlIiwiZ2V0RVQiLCJldmVudHMiLCJfdWkiLCJhdXRob3JzIiwibGVuZ3RoIiwidGl0bGUiLCJtZXNzYWdlIiwiX2V2ZW50c0xpc3QiLCJleHBzVXVpZHMiLCJmaWx0ZXIiLCJldnQiLCJpbnRlcnNlY3Rpb24iLCJhc3NvY2lhdGlvbklkcyIsIm1jZnNVdWlkcyIsInNsc1V1aWRzIiwiY29uY2F0IiwidGFnc0FzT3B0aW9ucyIsImZpbGVPYmpzIiwibGlzdGluZ3MiLCJmIiwicGF0aCIsInR5cGUiLCJtY2YiLCJfbWNmIiwiZ2V0UmVsYXRlZEJ5VXVpZCIsInNsdCIsIl9zbHQiLCJhbmEiLCJyZXAiLCJfYWxsUmVsYXRlZE9iamVjdHMiLCJ2YWwiLCJrZXkiLCJmaWxlc1NlbGVjdGVkIiwicG9zdCIsInB1YmxpY2F0aW9uTXNnIiwicHVibGljYXRpb25TdGF0dXMiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUF3QkEsZTtBQUFULFNBQVNBLGVBQVQsQ0FBeUJDLE1BQXpCLEVBQWlDQyxNQUFqQyxFQUF5Q0MsTUFBekMsRUFBaURDLGNBQWpELEVBQWlFQyxzQkFBakUsRUFBeUZDLGtCQUF6RixFQUE2R0MsU0FBN0csRUFBd0hDLFdBQXhILEVBQXFJQyxTQUFySSxFQUFnSkMsRUFBaEosRUFBb0pDLEtBQXBKLEVBQTJKO0FBQ3hLOztBQUNBVixTQUFPVyxJQUFQLEdBQWMsRUFBZDtBQUNBWCxTQUFPWSxLQUFQLEdBQWVQLG1CQUFtQk8sS0FBbkIsRUFBZjtBQUNBWixTQUFPYSxFQUFQLEdBQVksRUFBWjs7QUFFQSxXQUFTQyxjQUFULENBQXdCQyxJQUF4QixFQUE2QjtBQUMzQmYsV0FBT1csSUFBUCxDQUFZSyxPQUFaLENBQW9CRixjQUFwQixDQUFtQ0MsSUFBbkM7QUFDQSxXQUFPQSxJQUFQO0FBQ0Q7O0FBRURaLGlCQUFlYyxHQUFmLENBQW1CLEVBQUNDLE1BQU1aLFNBQVAsRUFBbkIsRUFBc0NhLElBQXRDLENBQTJDLFVBQVVILE9BQVYsRUFBbUI7QUFDNURoQixXQUFPVyxJQUFQLENBQVlLLE9BQVosR0FBc0JBLE9BQXRCO0FBQ0FYLHVCQUFtQk8sS0FBbkIsR0FBMkJJLE9BQTNCLEdBQXFDQSxPQUFyQztBQUNBWCx1QkFBbUJPLEtBQW5CLEdBQTJCUSxlQUEzQixHQUE2QyxJQUE3QztBQUNBcEIsV0FBT1csSUFBUCxDQUFZUyxlQUFaLEdBQThCLElBQTlCO0FBQ0EsUUFBSUMsV0FBV0wsUUFBUUssUUFBdkI7QUFDQSxRQUFJQyxRQUFRLEVBQVo7QUFDQSxTQUFLLElBQUlDLFFBQVQsSUFBcUJGLFFBQXJCLEVBQThCO0FBQzVCLFVBQUlHLE9BQU9ILFNBQVNFLFFBQVQsQ0FBWDtBQUNBLFVBQUlDLFFBQVEsaUJBQVosRUFBOEI7QUFDNUJGLGNBQU1HLElBQU4sQ0FBV3JCLHVCQUF1QnNCLFlBQXZCLENBQ1QsRUFBQ1IsTUFBTVosU0FBUCxFQUFrQmtCLE1BQU1BLElBQXhCLEVBRFMsRUFFUkwsSUFGUSxDQUVITCxjQUZHLENBQVg7QUFJRDtBQUNGO0FBQ0RMLE9BQUdrQixHQUFILENBQU9MLEtBQVAsRUFBY0gsSUFBZCxDQUNFLFVBQVNKLElBQVQsRUFBYztBQUNaO0FBQ0EsYUFBT0EsSUFBUDtBQUNELEtBSkgsRUFJS0ksSUFKTCxDQUtFLFVBQVNKLElBQVQsRUFBYztBQUNWVix5QkFBbUJPLEtBQW5CLEdBQTJCUSxlQUEzQixHQUE2QyxLQUE3QztBQUNBcEIsYUFBT1csSUFBUCxDQUFZUyxlQUFaLEdBQThCLEtBQTlCO0FBQ0gsS0FSSCxFQVFLLFVBQVNRLEdBQVQsRUFBYTtBQUNadkIseUJBQW1CTyxLQUFuQixHQUEyQlEsZUFBM0IsR0FBNkMsS0FBN0M7QUFDQXBCLGFBQU9XLElBQVAsQ0FBWVMsZUFBWixHQUE4QixLQUE5QjtBQUNILEtBWEgsRUFXS0QsSUFYTCxDQVdVLFlBQVU7QUFDZGhCLHFCQUFlMEIsZ0JBQWYsQ0FBZ0MsRUFBQ1gsTUFBS2IsbUJBQW1CTyxLQUFuQixHQUEyQkksT0FBM0IsQ0FBbUNFLElBQXpDLEVBQWhDLEVBQWdGQyxJQUFoRixDQUFxRixVQUFTSixJQUFULEVBQWM7QUFDL0ZWLDJCQUFtQk8sS0FBbkIsR0FBMkJJLE9BQTNCLENBQW1DYyxLQUFuQyxDQUF5Q0MsV0FBekMsR0FBdURDLEVBQUVDLE9BQUYsQ0FBVWxCLEtBQUtKLElBQUwsQ0FBVW9CLFdBQXBCLEVBQWlDLFVBQWpDLENBQXZEO0FBQ0gsT0FGRDtBQUdILEtBZkg7QUFpQkQsR0FqQ0Q7O0FBbUNBL0IsU0FBT2tDLFFBQVAsR0FBa0IsVUFBU0MsSUFBVCxFQUFjO0FBQzVCM0IsY0FBVTRCLElBQVYsQ0FBZTtBQUNYQyxnQkFBVSwrQkFDRSxzQkFERixHQUVBLFFBRkEsR0FHQSwwQkFIQSxHQUlFLHVDQUpGLEdBS2EsaUJBTGIsR0FNSSxVQU5KLEdBT0UsUUFQRixHQVFBLFFBUkEsR0FTQSw0QkFUQSxHQVVFLHFEQVZGLEdBV0ksT0FYSixHQVlFLFdBWkYsR0FhQSxRQWRDO0FBZVhDLGtCQUFZLENBQUMsUUFBRCxFQUFXLG1CQUFYLEVBQWdDLFVBQVN0QyxNQUFULEVBQWlCdUMsaUJBQWpCLEVBQW1DO0FBQzNFdkMsZUFBT21DLElBQVAsR0FBY0EsSUFBZDtBQUNBbkMsZUFBT3dDLEtBQVAsR0FBZSxZQUFVO0FBQ3JCRCw0QkFBa0JFLE9BQWxCLENBQTBCLE9BQTFCO0FBQ0gsU0FGRDtBQUdILE9BTFc7QUFmRCxLQUFmO0FBc0JILEdBdkJEOztBQXlCQXpDLFNBQU8wQyxXQUFQLEdBQXFCLFVBQVNDLE1BQVQsRUFBaUI7QUFDcEMsUUFBSUEsTUFBSixFQUFXO0FBQ1RBLGFBQU9DLGNBQVA7QUFDRDtBQUNEekMsbUJBQWV1QyxXQUFmLENBQTJCMUMsT0FBT1csSUFBUCxDQUFZSyxPQUF2QyxFQUNHRyxJQURILENBQ1EsVUFBVUgsT0FBVixFQUFtQjtBQUN2QmhCLGFBQU9XLElBQVAsQ0FBWUssT0FBWixHQUFzQkEsT0FBdEI7QUFDRCxLQUhIO0FBSUQsR0FSRDs7QUFVQWhCLFNBQU82QyxhQUFQLEdBQXVCLFVBQVNGLE1BQVQsRUFBaUI7QUFDdEMsUUFBSUEsTUFBSixFQUFXO0FBQ1RBLGFBQU9DLGNBQVA7QUFDRDtBQUNEekMsbUJBQWUyQyxtQkFBZixDQUFtQzlDLE9BQU9XLElBQVAsQ0FBWUssT0FBL0MsRUFBd0RHLElBQXhELENBQTZELFVBQVU0QixHQUFWLEVBQWU7O0FBRTFFO0FBQ0E7QUFDQTtBQUNELEtBTEQ7QUFNRCxHQVZEOztBQVlBL0MsU0FBT2dELGlCQUFQLEdBQTJCLFVBQVNMLE1BQVQsRUFBaUI7QUFDMUMsUUFBSUEsTUFBSixFQUFXO0FBQ1RBLGFBQU9DLGNBQVA7QUFDRDtBQUNELFFBQUlLLGtCQUFrQmpELE9BQU9XLElBQVAsQ0FBWUssT0FBWixDQUFvQmtDLGtCQUFwQixDQUF1QywrQkFBdkMsQ0FBdEI7QUFDQSxRQUFJQyxjQUFjbkQsT0FBT1csSUFBUCxDQUFZSyxPQUFaLENBQW9CaUMsZUFBcEIsQ0FBbEI7QUFDQSxRQUFJLE9BQU9FLFdBQVAsS0FBdUIsV0FBM0IsRUFBdUM7QUFDckNuRCxhQUFPVyxJQUFQLENBQVlLLE9BQVosQ0FBb0JpQyxlQUFwQixJQUF1QyxFQUF2QztBQUNBRSxvQkFBY25ELE9BQU9XLElBQVAsQ0FBWUssT0FBWixDQUFvQmlDLGVBQXBCLENBQWQ7QUFDRDtBQUNEOUMsbUJBQWU2QyxpQkFBZixDQUFpQyxFQUFDLGVBQWVHLFdBQWhCO0FBQ0MsaUJBQVduRCxPQUFPVyxJQUFQLENBQVlLLE9BRHhCLEVBQWpDLEVBQ21FRyxJQURuRSxDQUN3RSxVQUFVZ0MsV0FBVixFQUF1QjtBQUM3Rm5ELGFBQU9XLElBQVAsQ0FBWXdDLFdBQVosR0FBMEJBLFdBQTFCO0FBQ0QsS0FIRDtBQUlELEdBZEQ7O0FBZ0JBbkQsU0FBT29ELFVBQVAsR0FBb0IsVUFBU0MsQ0FBVCxFQUFXO0FBQzdCLFFBQUlDLElBQUlDLEtBQUtGLENBQUwsQ0FBUjtBQUNBLFdBQU9DLENBQVA7QUFDRCxHQUhEOztBQUtBdEQsU0FBT3dELFdBQVAsR0FBcUIsWUFBVTtBQUM3QjtBQUNBO0FBQ0FuRCx1QkFBbUJtRCxXQUFuQjtBQUNELEdBSkQ7O0FBTUF4RCxTQUFPeUQsV0FBUCxHQUFxQixZQUFVO0FBQzdCO0FBQ0E7QUFDQXpELFdBQU8wRCxXQUFQLEdBQXFCQyxTQUFyQjtBQUNBdEQsdUJBQW1Cb0QsV0FBbkI7QUFDQWxELGdCQUFZVSxHQUFaLENBQWdCLEVBQUMsVUFBVWpCLE9BQU80RCxPQUFQLENBQWVDLE9BQWYsQ0FBdUJDLE1BQWxDO0FBQ0MsY0FBUSxrQkFEVDtBQUVDLGNBQVEsbUJBRlQsRUFBaEIsRUFFK0MzQyxJQUYvQyxDQUVvRCxVQUFTNEMsSUFBVCxFQUFjO0FBQ2hEQSxXQUFLQyxPQUFMLEdBQWU3QyxJQUFmLENBQW9CLFVBQVNSLElBQVQsRUFBYztBQUM5QlgsZUFBTzBELFdBQVAsR0FBcUIvQyxLQUFLc0QsTUFBMUI7QUFDSCxPQUZEO0FBR0QsS0FOakI7QUFPRCxHQVpEOztBQWNBakUsU0FBT2tFLHFCQUFQLEdBQStCLFlBQVU7QUFDdkNsRSxXQUFPWSxLQUFQLENBQWF1RCxlQUFiLEdBQStCLFFBQS9CO0FBQ0QsR0FGRDs7QUFJQW5FLFNBQU9vRSxzQkFBUCxHQUFnQyxZQUFVO0FBQ3hDcEUsV0FBT1ksS0FBUCxDQUFhdUQsZUFBYixHQUErQixRQUEvQjtBQUNELEdBRkQ7O0FBSUFuRSxTQUFPcUUsb0JBQVAsR0FBOEIsWUFBVTtBQUN0Q3JFLFdBQU9ZLEtBQVAsQ0FBYXVELGVBQWIsR0FBK0IsTUFBL0I7QUFDRCxHQUZEOztBQUlBbkUsU0FBT3NFLG9CQUFQLEdBQThCLFlBQVU7QUFDdEN0RSxXQUFPWSxLQUFQLENBQWF1RCxlQUFiLEdBQStCUixTQUEvQjtBQUNBM0QsV0FBT2EsRUFBUCxDQUFVMEQsbUJBQVYsR0FBZ0MsRUFBaEM7QUFDRCxHQUhEOztBQUtBdkUsU0FBT3dFLG9CQUFQLEdBQThCLFVBQVNDLEVBQVQsRUFBWTtBQUN4QyxRQUFJQSxNQUFNLFdBQVYsRUFBc0I7QUFDcEJ6RSxhQUFPWSxLQUFQLENBQWF1RCxlQUFiLEdBQStCLE1BQS9CO0FBQ0QsS0FGRCxNQUVPLElBQUlNLE1BQU0sTUFBVixFQUFpQjtBQUN0QnpFLGFBQU9ZLEtBQVAsQ0FBYXVELGVBQWIsR0FBK0IsUUFBL0I7QUFDRCxLQUZNLE1BR0YsSUFBSU0sTUFBTSxRQUFWLEVBQW1CO0FBQ3RCekUsYUFBT1ksS0FBUCxDQUFhdUQsZUFBYixHQUErQixRQUEvQjtBQUNELEtBRkksTUFHQTtBQUNIbkUsYUFBT1ksS0FBUCxDQUFhdUQsZUFBYixHQUErQixRQUEvQjtBQUNEO0FBQ0YsR0FaRDs7QUFjQW5FLFNBQU8wRSxvQkFBUCxHQUE4QixVQUFTRCxFQUFULEVBQVk7QUFDeEMsUUFBSUEsTUFBTSxRQUFWLEVBQW1CO0FBQ2pCekUsYUFBT1ksS0FBUCxDQUFhdUQsZUFBYixHQUErQixRQUEvQjtBQUNELEtBRkQsTUFHSyxJQUFJTSxNQUFNLFFBQVYsRUFBbUI7QUFDdEIsVUFBSUUsZUFBZSxFQUFuQjtBQUNBM0MsUUFBRTRDLElBQUYsQ0FBTzVFLE9BQU9ZLEtBQVAsQ0FBYWlFLFdBQWIsQ0FBeUJDLGVBQWhDLEVBQWlELFVBQVNDLEdBQVQsRUFBYTtBQUMxRCxZQUFJQyxJQUFJO0FBQ0pDLGlCQUFPRixJQUFJRyxLQUFKLENBQVVsRixPQUFPWSxLQUFQLENBQWFJLE9BQWIsQ0FBcUJjLEtBQXJCLENBQTJCcUQsV0FBckMsRUFDUEosSUFBSWpELEtBQUosQ0FBVXNELG9CQURILEVBQ3lCQyxXQUY1QjtBQUdKN0QsZ0JBQU11RCxJQUFJakQsS0FBSixDQUFVc0Q7QUFIWixTQUFSO0FBS0FULHFCQUFhbEQsSUFBYixDQUFrQnVELENBQWxCO0FBQ0gsT0FQRDtBQVFBaEQsUUFBRTRDLElBQUYsQ0FBTzVFLE9BQU9ZLEtBQVAsQ0FBYWlFLFdBQWIsQ0FBeUJTLEtBQWhDLEVBQXVDLFVBQVNDLElBQVQsRUFBYztBQUNqRFoscUJBQWFsRCxJQUFiLENBQWtCLEVBQUV3RCxPQUFPTSxLQUFLQyxPQUFMLENBQWFILFdBQXRCO0FBQ0U3RCxnQkFBTStELEtBQUtFLFFBRGIsRUFBbEI7QUFFSCxPQUhEO0FBSUF6RixhQUFPWSxLQUFQLENBQWFpRSxXQUFiLENBQXlCRixZQUF6QixHQUF3QzNDLEVBQUUwRCxJQUFGLENBQU9mLFlBQVAsRUFBcUIsVUFBU2dCLElBQVQsRUFBYztBQUFFLGVBQU9BLEtBQUtWLEtBQVo7QUFBbUIsT0FBeEQsQ0FBeEM7QUFDQWpGLGFBQU9ZLEtBQVAsQ0FBYXVELGVBQWIsR0FBK0IsTUFBL0I7QUFDRCxLQWhCSSxNQWlCQSxJQUFJTSxNQUFNLE1BQVYsRUFBaUI7QUFDcEJ6RSxhQUFPWSxLQUFQLENBQWF1RCxlQUFiLEdBQStCLFdBQS9CO0FBQ0QsS0FGSSxNQUVDO0FBQ0puRSxhQUFPWSxLQUFQLENBQWF1RCxlQUFiLEdBQStCLFdBQS9CO0FBQ0Q7QUFDRixHQTFCRDs7QUE0QkFuRSxTQUFPNEYsdUJBQVAsR0FBaUMsWUFBVTtBQUN6QyxRQUFJZixjQUFjZ0IsUUFBUUMsSUFBUixDQUFhOUYsT0FBT1ksS0FBUCxDQUFhaUUsV0FBMUIsQ0FBbEI7QUFDQSxRQUFJQyxrQkFBa0IsRUFBdEI7QUFDQSxRQUFJaUIsYUFBYSxFQUFqQjtBQUNBLFFBQUlDLGVBQWUsRUFBbkI7QUFDQSxRQUFJQyxjQUFjLEVBQWxCO0FBQ0EsUUFBSUMsZUFBZSxFQUFuQjtBQUNBLFFBQUlDLGNBQWMsRUFBbEI7QUFDQSxRQUFJNUIsc0JBQXNCLEVBQTFCO0FBQ0EsUUFBSU0sWUFBWUMsZUFBaEIsRUFBZ0M7QUFDOUJBLHdCQUFrQjlDLEVBQUVvRSxHQUFGLENBQU12QixZQUFZQyxlQUFsQixFQUFtQyxVQUFTQyxHQUFULEVBQWE7QUFDaEVBLFlBQUlqRCxLQUFKLENBQVV1RSxhQUFWLEdBQTBCdEIsSUFBSXVCLEtBQUosQ0FBVXZCLElBQUlqRCxLQUFKLENBQVVzRCxvQkFBcEIsRUFDVUwsSUFBSWpELEtBQUosQ0FBVXVFLGFBRHBCLEVBQ21DcEIsS0FEN0Q7QUFFQUYsWUFBSWpELEtBQUosQ0FBVXNELG9CQUFWLEdBQWlDTCxJQUFJRyxLQUFKLENBQVVsRixPQUFPWSxLQUFQLENBQWFJLE9BQWIsQ0FDcENjLEtBRG9DLENBQzlCcUQsV0FEb0IsRUFFM0JKLElBQUlqRCxLQUFKLENBQVVzRCxvQkFGaUIsRUFFS0gsS0FGdEM7QUFHQUYsWUFBSXdCLE1BQUosR0FBYXZHLE9BQU9ZLEtBQVAsQ0FBYWlFLFdBQTFCO0FBQ0EsZUFBT0UsSUFBSXlCLEdBQVg7QUFDQSxlQUFPekIsSUFBSXdCLE1BQVg7QUFDQSxZQUFJLENBQUN4QixJQUFJakQsS0FBSixDQUFVMkUsT0FBVixDQUFrQkMsTUFBdkIsRUFBOEI7QUFDNUJuQyw4QkFBb0I5QyxJQUFwQixDQUF5QixFQUFDa0YsT0FBTyxnQkFBZ0I1QixJQUFJakQsS0FBSixDQUFVNkUsS0FBbEM7QUFDQ0MscUJBQVMsaUJBRFYsRUFBekI7QUFFRDtBQUNELGVBQU83QixHQUFQO0FBQ0QsT0FkaUIsQ0FBbEI7QUFlQSxhQUFPRixZQUFZQyxlQUFuQjtBQUVEO0FBQ0QsUUFBSUQsWUFBWWtCLFVBQWhCLEVBQTJCO0FBQ3pCLFVBQUljLGNBQWNoQixRQUFRQyxJQUFSLENBQWFqQixZQUFZa0IsVUFBekIsQ0FBbEI7QUFDQSxhQUFPbEIsWUFBWWtCLFVBQW5CO0FBQ0EsVUFBSWUsWUFBWTlFLEVBQUVvRSxHQUFGLENBQU10QixlQUFOLEVBQXVCLFVBQVNDLEdBQVQsRUFBYTtBQUM5QixlQUFPQSxJQUFJN0QsSUFBWDtBQUFrQixPQUR4QixDQUFoQjtBQUVBNkUsbUJBQWEvRCxFQUFFK0UsTUFBRixDQUFTRixXQUFULEVBQ0YsVUFBU0csR0FBVCxFQUFhO0FBQ1gsZUFBT2hGLEVBQUVpRixZQUFGLENBQWVELElBQUlFLGNBQW5CLEVBQW1DSixTQUFuQyxDQUFQO0FBQ0QsT0FIQyxDQUFiO0FBSUEsVUFBSUssWUFBWSxFQUFoQjtBQUNBLFVBQUlDLFdBQVcsRUFBZjtBQUNBcEYsUUFBRTRDLElBQUYsQ0FBT21CLFVBQVAsRUFBbUIsVUFBU2lCLEdBQVQsRUFBYTtBQUM1Qkcsb0JBQVlBLFVBQVVFLE1BQVYsQ0FBaUJMLElBQUlsRixLQUFKLENBQVVvRSxZQUEzQixDQUFaO0FBQ0FrQixtQkFBV0EsU0FBU0MsTUFBVCxDQUFnQkwsSUFBSWxGLEtBQUosQ0FBVXFFLFdBQTFCLENBQVg7QUFDQSxlQUFPYSxJQUFJTSxhQUFYO0FBQ0FOLFlBQUlPLFFBQUosR0FBZXZGLEVBQUVvRSxHQUFGLENBQU1wRyxPQUFPWSxLQUFQLENBQWE0RyxRQUFiLENBQXNCUixJQUFJOUYsSUFBMUIsQ0FBTixFQUF1QyxVQUFTdUcsQ0FBVCxFQUFXO0FBQzNELGlCQUFPO0FBQ0gsb0JBQVFBLEVBQUVDLElBRFA7QUFFSCxvQkFBUUQsRUFBRUUsSUFGUDtBQUdILHNCQUFVRixFQUFFZixNQUhUO0FBSUgsb0JBQVFlLEVBQUVqRztBQUpQLFdBQVA7QUFNTCxTQVBjLENBQWY7QUFRQSxZQUFJLENBQUN3RixJQUFJTyxRQUFKLENBQWFiLE1BQWxCLEVBQXlCO0FBQ3JCbkMsOEJBQW9COUMsSUFBcEIsQ0FBeUIsRUFBQ2tGLE9BQU8sV0FBV0ssSUFBSWxGLEtBQUosQ0FBVTZFLEtBQTdCO0FBQ0NDLHFCQUFTLGVBRFYsRUFBekI7QUFFSDtBQUNKLE9BaEJEO0FBaUJBNUUsUUFBRTRDLElBQUYsQ0FBT3VDLFNBQVAsRUFBa0IsVUFBU1MsR0FBVCxFQUFhO0FBQzdCLFlBQUlDLE9BQU9oQyxRQUFRQyxJQUFSLENBQWE5RixPQUFPWSxLQUFQLENBQWFJLE9BQWIsQ0FBcUI4RyxnQkFBckIsQ0FBc0NGLEdBQXRDLENBQWIsQ0FBWDtBQUNBLGVBQU9DLEtBQUtQLGFBQVo7QUFDQU8sYUFBS04sUUFBTCxHQUFnQnZGLEVBQUVvRSxHQUFGLENBQU1wRyxPQUFPWSxLQUFQLENBQWE0RyxRQUFiLENBQXNCSyxLQUFLM0csSUFBM0IsQ0FBTixFQUF3QyxVQUFTdUcsQ0FBVCxFQUFXO0FBQy9ELGlCQUFPO0FBQ0gsb0JBQVFBLEVBQUVDLElBRFA7QUFFSCxvQkFBUUQsRUFBRUUsSUFGUDtBQUdILHNCQUFVRixFQUFFZixNQUhUO0FBSUgsb0JBQVFlLEVBQUVqRztBQUpQLFdBQVA7QUFNSCxTQVBlLENBQWhCO0FBUUEsWUFBSSxDQUFDcUcsS0FBS04sUUFBTCxDQUFjYixNQUFuQixFQUEwQjtBQUN0Qm5DLDhCQUFvQjlDLElBQXBCLENBQXlCLEVBQUNrRixPQUFPLGtCQUFpQmtCLEtBQUsvRixLQUFMLENBQVc2RSxLQUFwQztBQUNDQyxxQkFBUyxnQkFEVixFQUF6QjtBQUVIO0FBQ0RWLHFCQUFhekUsSUFBYixDQUFrQm9HLElBQWxCO0FBQ0QsT0FoQkQ7QUFpQkE3RixRQUFFNEMsSUFBRixDQUFPd0MsUUFBUCxFQUFpQixVQUFTVyxHQUFULEVBQWE7QUFDNUIsWUFBSUMsT0FBT25DLFFBQVFDLElBQVIsQ0FBYTlGLE9BQU9ZLEtBQVAsQ0FBYUksT0FBYixDQUFxQjhHLGdCQUFyQixDQUFzQ0MsR0FBdEMsQ0FBYixDQUFYO0FBQ0EsZUFBT0MsS0FBS1YsYUFBWjtBQUNBVSxhQUFLVCxRQUFMLEdBQWdCdkYsRUFBRW9FLEdBQUYsQ0FBTXBHLE9BQU9ZLEtBQVAsQ0FBYTRHLFFBQWIsQ0FBc0JRLEtBQUs5RyxJQUEzQixDQUFOLEVBQXdDLFVBQVN1RyxDQUFULEVBQVc7QUFDakUsaUJBQU87QUFDSCxvQkFBUUEsRUFBRUMsSUFEUDtBQUVILG9CQUFRRCxFQUFFRSxJQUZQO0FBR0gsc0JBQVVGLEVBQUVmLE1BSFQ7QUFJSCxvQkFBUWUsRUFBRWpHO0FBSlAsV0FBUDtBQU1ELFNBUGUsQ0FBaEI7QUFRQSxZQUFJLENBQUN3RyxLQUFLVCxRQUFMLENBQWNiLE1BQW5CLEVBQTBCO0FBQ3RCbkMsOEJBQW9COUMsSUFBcEIsQ0FBeUIsRUFBQ2tGLE9BQU8saUJBQWlCcUIsS0FBS2xHLEtBQUwsQ0FBVzZFLEtBQXBDO0FBQ0NDLHFCQUFTLGdCQURWLEVBQXpCO0FBRUg7QUFDRFQsb0JBQVkxRSxJQUFaLENBQWlCdUcsSUFBakI7QUFDRCxPQWhCRDtBQWlCRDtBQUNELFFBQUluRCxZQUFZbUIsWUFBaEIsRUFBNkI7QUFDM0JBLHFCQUFlaEUsRUFBRW9FLEdBQUYsQ0FBTXZCLFlBQVltQixZQUFsQixFQUFnQyxVQUFTaUMsR0FBVCxFQUFhO0FBQzFELGVBQU9BLElBQUlYLGFBQVg7QUFDQVcsWUFBSVYsUUFBSixHQUFldkYsRUFBRW9FLEdBQUYsQ0FBTXBHLE9BQU9ZLEtBQVAsQ0FBYTRHLFFBQWIsQ0FBc0JTLElBQUkvRyxJQUExQixDQUFOLEVBQXVDLFVBQVN1RyxDQUFULEVBQVc7QUFDN0QsaUJBQU87QUFDSCxvQkFBUUEsRUFBRUMsSUFEUDtBQUVILG9CQUFRRCxFQUFFRSxJQUZQO0FBR0gsc0JBQVVGLEVBQUVmLE1BSFQ7QUFJSCxvQkFBUWUsRUFBRWpHO0FBSlAsV0FBUDtBQU1ILFNBUGMsQ0FBZjtBQVFBLFlBQUksQ0FBQ3lHLElBQUlWLFFBQUosQ0FBYWIsTUFBbEIsRUFBeUI7QUFDckJuQyw4QkFBb0I5QyxJQUFwQixDQUF5QixFQUFDa0YsT0FBTyxjQUFjc0IsSUFBSW5HLEtBQUosQ0FBVTZFLEtBQWhDO0FBQ0NDLHFCQUFTLGVBRFYsRUFBekI7QUFFSDtBQUNELGVBQU9xQixHQUFQO0FBQ0QsT0FmYyxDQUFmO0FBZ0JBLGFBQU9wRCxZQUFZbUIsWUFBbkI7QUFDRDtBQUNELFFBQUluQixZQUFZb0IsV0FBaEIsRUFBNkI7QUFDM0JBLG9CQUFjakUsRUFBRW9FLEdBQUYsQ0FBTXZCLFlBQVlvQixXQUFsQixFQUErQixVQUFTaUMsR0FBVCxFQUFhO0FBQ3REQSxZQUFJWCxRQUFKLEdBQWV2RixFQUFFb0UsR0FBRixDQUFNcEcsT0FBT1ksS0FBUCxDQUFhNEcsUUFBYixDQUFzQlUsSUFBSWhILElBQTFCLENBQU4sRUFBdUMsVUFBU3VHLENBQVQsRUFBVztBQUM3RCxpQkFBTztBQUNILG9CQUFRQSxFQUFFQyxJQURQO0FBRUgsb0JBQVFELEVBQUVFLElBRlA7QUFHSCxzQkFBVUYsRUFBRWYsTUFIVDtBQUlILG9CQUFRZSxFQUFFakc7QUFKUCxXQUFQO0FBTUgsU0FQYyxDQUFmO0FBUUEsZUFBTzBHLEdBQVA7QUFDSCxPQVZhLENBQWQ7QUFXQSxhQUFPckQsWUFBWW9CLFdBQW5CO0FBQ0Q7QUFDRCxRQUFJakYsVUFBVTZFLFFBQVFDLElBQVIsQ0FBYTlGLE9BQU9ZLEtBQVAsQ0FBYUksT0FBMUIsQ0FBZDtBQUNBLFdBQU9BLFFBQVFtSCxrQkFBZjtBQUNBbkcsTUFBRTRDLElBQUYsQ0FBTzVELFFBQVFLLFFBQWYsRUFBeUIsVUFBUytHLEdBQVQsRUFBY0MsR0FBZCxFQUFrQjtBQUN6QyxhQUFPckgsUUFBUXFILEdBQVIsQ0FBUDtBQUNELEtBRkQ7QUFHQSxXQUFPeEQsWUFBWXlELGFBQW5CO0FBQ0F6RCxnQkFBWTdELE9BQVosR0FBc0JBLE9BQXRCO0FBQ0E2RCxnQkFBWWtCLFVBQVosR0FBeUJBLFVBQXpCO0FBQ0FsQixnQkFBWXFCLFlBQVosR0FBMkJBLFlBQTNCO0FBQ0FyQixnQkFBWXNCLFdBQVosR0FBMEJBLFdBQTFCO0FBQ0F0QixnQkFBWW1CLFlBQVosR0FBMkJBLFlBQTNCO0FBQ0FuQixnQkFBWW9CLFdBQVosR0FBMEJBLFdBQTFCO0FBQ0FwQixnQkFBWUMsZUFBWixHQUE4QkEsZUFBOUI7QUFDQSxRQUFJUCxvQkFBb0JtQyxNQUF4QixFQUErQjtBQUMzQjFHLGFBQU9hLEVBQVAsQ0FBVTBELG1CQUFWLEdBQWdDQSxtQkFBaEM7QUFDQTtBQUNIO0FBQ0Q3RCxVQUFNNkgsSUFBTixDQUFXLDRCQUFYLEVBQXlDLEVBQUMxRCxhQUFhQSxXQUFkLEVBQXpDLEVBQ0cxRCxJQURILENBQ1EsVUFBU0osSUFBVCxFQUFjO0FBQ2xCZixhQUFPWSxLQUFQLENBQWE0SCxjQUFiLEdBQThCekgsS0FBS0osSUFBTCxDQUFVaUcsT0FBeEM7QUFDQTVHLGFBQU9ZLEtBQVAsQ0FBYUksT0FBYixDQUFxQnlILGlCQUFyQixHQUF5QyxZQUF6QztBQUNBcEkseUJBQW1CTyxLQUFuQixHQUEyQjRILGNBQTNCLEdBQTRDekgsS0FBS0osSUFBTCxDQUFVaUcsT0FBdEQ7QUFDQXZHLHlCQUFtQk8sS0FBbkIsR0FBMkJJLE9BQTNCLENBQW1DeUgsaUJBQW5DLEdBQXVELFlBQXZEO0FBQ0QsS0FOSDtBQU9ELEdBcEpEO0FBc0pEIiwiZmlsZSI6IjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUHJvamVjdFZpZXdDdHJsKCRzY29wZSwgJHN0YXRlLCBEamFuZ28sIFByb2plY3RTZXJ2aWNlLCBQcm9qZWN0RW50aXRpZXNTZXJ2aWNlLCBEYXRhQnJvd3NlclNlcnZpY2UsIHByb2plY3RJZCwgRmlsZUxpc3RpbmcsICR1aWJNb2RhbCwgJHEsICRodHRwKSB7XG4gICduZ0luamVjdCc7XG4gICRzY29wZS5kYXRhID0ge307XG4gICRzY29wZS5zdGF0ZSA9IERhdGFCcm93c2VyU2VydmljZS5zdGF0ZSgpO1xuICAkc2NvcGUudWkgPSB7fTtcblxuICBmdW5jdGlvbiBzZXRFbnRpdGllc1JlbChyZXNwKXtcbiAgICAkc2NvcGUuZGF0YS5wcm9qZWN0LnNldEVudGl0aWVzUmVsKHJlc3ApO1xuICAgIHJldHVybiByZXNwO1xuICB9XG5cbiAgUHJvamVjdFNlcnZpY2UuZ2V0KHt1dWlkOiBwcm9qZWN0SWR9KS50aGVuKGZ1bmN0aW9uIChwcm9qZWN0KSB7XG4gICAgJHNjb3BlLmRhdGEucHJvamVjdCA9IHByb2plY3Q7XG4gICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnN0YXRlKCkucHJvamVjdCA9IHByb2plY3Q7XG4gICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnN0YXRlKCkubG9hZGluZ0VudGl0aWVzID0gdHJ1ZTtcbiAgICAkc2NvcGUuZGF0YS5sb2FkaW5nRW50aXRpZXMgPSB0cnVlO1xuICAgIHZhciBfcmVsYXRlZCA9IHByb2plY3QuX3JlbGF0ZWQ7XG4gICAgdmFyIHRhc2tzID0gW107XG4gICAgZm9yICh2YXIgYXR0cm5hbWUgaW4gX3JlbGF0ZWQpe1xuICAgICAgdmFyIG5hbWUgPSBfcmVsYXRlZFthdHRybmFtZV07XG4gICAgICBpZiAobmFtZSAhPSAnZGVzaWduc2FmZS5maWxlJyl7XG4gICAgICAgIHRhc2tzLnB1c2goUHJvamVjdEVudGl0aWVzU2VydmljZS5saXN0RW50aXRpZXMoXG4gICAgICAgICAge3V1aWQ6IHByb2plY3RJZCwgbmFtZTogbmFtZX0pXG4gICAgICAgICAgLnRoZW4oc2V0RW50aXRpZXNSZWwpXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgJHEuYWxsKHRhc2tzKS50aGVuKFxuICAgICAgZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgIC8vJHNjb3BlLmRhdGEucHJvamVjdC5zZXR1cEFsbFJlbHMoKTtcbiAgICAgICAgcmV0dXJuIHJlc3A7XG4gICAgICB9KS50aGVuKFxuICAgICAgZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnN0YXRlKCkubG9hZGluZ0VudGl0aWVzID0gZmFsc2U7XG4gICAgICAgICAgJHNjb3BlLmRhdGEubG9hZGluZ0VudGl0aWVzID0gZmFsc2U7XG4gICAgICB9LCBmdW5jdGlvbihlcnIpe1xuICAgICAgICAgIERhdGFCcm93c2VyU2VydmljZS5zdGF0ZSgpLmxvYWRpbmdFbnRpdGllcyA9IGZhbHNlO1xuICAgICAgICAgICRzY29wZS5kYXRhLmxvYWRpbmdFbnRpdGllcyA9IGZhbHNlO1xuICAgICAgfSkudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgIFByb2plY3RTZXJ2aWNlLmdldENvbGxhYm9yYXRvcnMoe3V1aWQ6RGF0YUJyb3dzZXJTZXJ2aWNlLnN0YXRlKCkucHJvamVjdC51dWlkfSkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnN0YXRlKCkucHJvamVjdC52YWx1ZS50ZWFtTWVtYmVycyA9IF8ud2l0aG91dChyZXNwLmRhdGEudGVhbU1lbWJlcnMsICdkc19hZG1pbicpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgKTtcbiAgfSk7XG5cbiAgJHNjb3BlLnNob3dUZXh0ID0gZnVuY3Rpb24odGV4dCl7XG4gICAgICAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxoMz5EZXNjcmlwdGlvbjwvaDM+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxkaXYgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCBibGFjaztcIicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1wicGFkZGluZzo1cHg7XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAne3t0ZXh0fX0nICtcbiAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdFwiIG5nLWNsaWNrPVwiY2xvc2UoKVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0Nsb3NlJyArXG4gICAgICAgICAgICAgICAgICAgICAgJzwvYnV0dG9uPicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2Upe1xuICAgICAgICAgICAgICAkc2NvcGUudGV4dCA9IHRleHQ7XG4gICAgICAgICAgICAgICRzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdDbG9zZScpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgIH1dXG4gICAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuZWRpdFByb2plY3QgPSBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICBpZiAoJGV2ZW50KXtcbiAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBQcm9qZWN0U2VydmljZS5lZGl0UHJvamVjdCgkc2NvcGUuZGF0YS5wcm9qZWN0KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHByb2plY3QpIHtcbiAgICAgICAgJHNjb3BlLmRhdGEucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUubWFuYWdlQ29sbGFicyA9IGZ1bmN0aW9uKCRldmVudCkge1xuICAgIGlmICgkZXZlbnQpe1xuICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIFByb2plY3RTZXJ2aWNlLm1hbmFnZUNvbGxhYm9yYXRvcnMoJHNjb3BlLmRhdGEucHJvamVjdCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cbiAgICAgIC8vICRzY29wZS5kYXRhLnByb2plY3QucGkgPSByZXMuZGF0YS5waTtcbiAgICAgIC8vICRzY29wZS5kYXRhLnByb2plY3QuY29QaXMgPSByZXMuZGF0YS5jb1BpcztcbiAgICAgIC8vICRzY29wZS5kYXRhLnByb2plY3QudGVhbU1lbWJlcnMgPSByZXMuZGF0YS50ZWFtTWVtYmVycztcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUubWFuYWdlRXhwZXJpbWVudHMgPSBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICBpZiAoJGV2ZW50KXtcbiAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICB2YXIgZXhwZXJpbWVudHNBdHRyID0gJHNjb3BlLmRhdGEucHJvamVjdC5nZXRSZWxhdGVkQXR0ck5hbWUoJ2Rlc2lnbnNhZmUucHJvamVjdC5leHBlcmltZW50Jyk7XG4gICAgdmFyIGV4cGVyaW1lbnRzID0gJHNjb3BlLmRhdGEucHJvamVjdFtleHBlcmltZW50c0F0dHJdO1xuICAgIGlmICh0eXBlb2YgZXhwZXJpbWVudHMgPT09ICd1bmRlZmluZWQnKXtcbiAgICAgICRzY29wZS5kYXRhLnByb2plY3RbZXhwZXJpbWVudHNBdHRyXSA9IFtdO1xuICAgICAgZXhwZXJpbWVudHMgPSAkc2NvcGUuZGF0YS5wcm9qZWN0W2V4cGVyaW1lbnRzQXR0cl07XG4gICAgfVxuICAgIFByb2plY3RTZXJ2aWNlLm1hbmFnZUV4cGVyaW1lbnRzKHsnZXhwZXJpbWVudHMnOiBleHBlcmltZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2plY3QnOiAkc2NvcGUuZGF0YS5wcm9qZWN0fSkudGhlbihmdW5jdGlvbiAoZXhwZXJpbWVudHMpIHtcbiAgICAgICRzY29wZS5kYXRhLmV4cGVyaW1lbnRzID0gZXhwZXJpbWVudHM7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLmRhdGVTdHJpbmcgPSBmdW5jdGlvbihzKXtcbiAgICB2YXIgZCA9IERhdGUocyk7XG4gICAgcmV0dXJuIGQ7XG4gIH07XG5cbiAgJHNjb3BlLnNob3dMaXN0aW5nID0gZnVuY3Rpb24oKXtcbiAgICAvL0RhdGFCcm93c2VyU2VydmljZS5zdGF0ZSgpLnNob3dNYWluTGlzdGluZyA9IHRydWU7XG4gICAgLy9EYXRhQnJvd3NlclNlcnZpY2Uuc3RhdGUoKS5zaG93UHJldmlld0xpc3RpbmcgPSBmYWxzZTtcbiAgICBEYXRhQnJvd3NlclNlcnZpY2Uuc2hvd0xpc3RpbmcoKTtcbiAgfTtcblxuICAkc2NvcGUuc2hvd1ByZXZpZXcgPSBmdW5jdGlvbigpe1xuICAgIC8vRGF0YUJyb3dzZXJTZXJ2aWNlLnN0YXRlKCkuc2hvd01haW5MaXN0aW5nID0gZmFsc2U7XG4gICAgLy9EYXRhQnJvd3NlclNlcnZpY2Uuc3RhdGUoKS5zaG93UHJldmlld0xpc3RpbmcgPSB0cnVlO1xuICAgICRzY29wZS5wcmV2aWV3SHJlZiA9IHVuZGVmaW5lZDtcbiAgICBEYXRhQnJvd3NlclNlcnZpY2Uuc2hvd1ByZXZpZXcoKTtcbiAgICBGaWxlTGlzdGluZy5nZXQoeydzeXN0ZW0nOiAkc2NvcGUuYnJvd3Nlci5saXN0aW5nLnN5c3RlbSxcbiAgICAgICAgICAgICAgICAgICAgICduYW1lJzogJ3Byb2plY3RpbWFnZS5qcGcnLFxuICAgICAgICAgICAgICAgICAgICAgJ3BhdGgnOiAnL3Byb2plY3RpbWFnZS5qcGcnfSkudGhlbihmdW5jdGlvbihsaXN0KXtcbiAgICAgICAgICAgICAgICAgICAgICBsaXN0LnByZXZpZXcoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJldmlld0hyZWYgPSBkYXRhLnBvc3RpdDtcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnB1Ymxpc2hQaXBlbGluZV9zdGFydCA9IGZ1bmN0aW9uKCl7XG4gICAgJHNjb3BlLnN0YXRlLnB1Ymxpc2hQaXBlbGluZSA9ICdzZWxlY3QnO1xuICB9O1xuXG4gICRzY29wZS5wdWJsaXNoUGlwZWxpbmVfcmV2aWV3ID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuc3RhdGUucHVibGlzaFBpcGVsaW5lID0gJ3Jldmlldyc7XG4gIH07XG5cbiAgJHNjb3BlLnB1Ymxpc2hQaXBlbGluZV9tZXRhID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuc3RhdGUucHVibGlzaFBpcGVsaW5lID0gJ21ldGEnO1xuICB9O1xuXG4gICRzY29wZS5wdWJsaXNoUGlwZWxpbmVfZXhpdCA9IGZ1bmN0aW9uKCl7XG4gICAgJHNjb3BlLnN0YXRlLnB1Ymxpc2hQaXBlbGluZSA9IHVuZGVmaW5lZDtcbiAgICAkc2NvcGUudWkucHVibGljYXRpb25NZXNzYWdlcyA9IFtdO1xuICB9O1xuXG4gICRzY29wZS5wdWJsaXNoUGlwZWxpbmVfcHJldiA9IGZ1bmN0aW9uKHN0KXtcbiAgICBpZiAoc3QgPT0gJ2FncmVlbWVudCcpe1xuICAgICAgJHNjb3BlLnN0YXRlLnB1Ymxpc2hQaXBlbGluZSA9ICdtZXRhJztcbiAgICB9IGVsc2UgaWYgKHN0ID09ICdtZXRhJyl7XG4gICAgICAkc2NvcGUuc3RhdGUucHVibGlzaFBpcGVsaW5lID0gJ3Jldmlldyc7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0ID09ICdyZXZpZXcnKXtcbiAgICAgICRzY29wZS5zdGF0ZS5wdWJsaXNoUGlwZWxpbmUgPSAnc2VsZWN0JztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAkc2NvcGUuc3RhdGUucHVibGlzaFBpcGVsaW5lID0gJ3NlbGVjdCc7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5wdWJsaXNoUGlwZWxpbmVfbmV4dCA9IGZ1bmN0aW9uKHN0KXtcbiAgICBpZiAoc3QgPT0gJ3NlbGVjdCcpe1xuICAgICAgJHNjb3BlLnN0YXRlLnB1Ymxpc2hQaXBlbGluZSA9ICdyZXZpZXcnO1xuICAgIH1cbiAgICBlbHNlIGlmIChzdCA9PSAncmV2aWV3Jyl7XG4gICAgICB2YXIgaW5zdGl0dXRpb25zID0gW107XG4gICAgICBfLmVhY2goJHNjb3BlLnN0YXRlLnB1YmxpY2F0aW9uLmV4cGVyaW1lbnRzTGlzdCwgZnVuY3Rpb24oZXhwKXtcbiAgICAgICAgICB2YXIgbyA9IHtcbiAgICAgICAgICAgICAgbGFiZWw6IGV4cC5nZXRFRigkc2NvcGUuc3RhdGUucHJvamVjdC52YWx1ZS5wcm9qZWN0VHlwZSxcbiAgICAgICAgICAgICAgZXhwLnZhbHVlLmV4cGVyaW1lbnRhbEZhY2lsaXR5KS5pbnN0aXR1dGlvbixcbiAgICAgICAgICAgICAgbmFtZTogZXhwLnZhbHVlLmV4cGVyaW1lbnRhbEZhY2lsaXR5XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgaW5zdGl0dXRpb25zLnB1c2gobyk7XG4gICAgICB9KTtcbiAgICAgIF8uZWFjaCgkc2NvcGUuc3RhdGUucHVibGljYXRpb24udXNlcnMsIGZ1bmN0aW9uKHVzZXIpe1xuICAgICAgICAgIGluc3RpdHV0aW9ucy5wdXNoKHsgbGFiZWw6IHVzZXIucHJvZmlsZS5pbnN0aXR1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIudXNlcm5hbWV9KTtcbiAgICAgIH0pO1xuICAgICAgJHNjb3BlLnN0YXRlLnB1YmxpY2F0aW9uLmluc3RpdHV0aW9ucyA9IF8udW5pcShpbnN0aXR1dGlvbnMsIGZ1bmN0aW9uKGluc3QpeyByZXR1cm4gaW5zdC5sYWJlbDt9KTtcbiAgICAgICRzY29wZS5zdGF0ZS5wdWJsaXNoUGlwZWxpbmUgPSAnbWV0YSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0ID09ICdtZXRhJyl7XG4gICAgICAkc2NvcGUuc3RhdGUucHVibGlzaFBpcGVsaW5lID0gJ2FncmVlbWVudCc7XG4gICAgfWVsc2Uge1xuICAgICAgJHNjb3BlLnN0YXRlLnB1Ymxpc2hQaXBlbGluZSA9ICdhZ3JlZW1lbnQnO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUucHVibGlzaFBpcGVsaW5lX3B1Ymxpc2ggPSBmdW5jdGlvbigpe1xuICAgIHZhciBwdWJsaWNhdGlvbiA9IGFuZ3VsYXIuY29weSgkc2NvcGUuc3RhdGUucHVibGljYXRpb24pO1xuICAgIHZhciBleHBlcmltZW50c0xpc3QgPSBbXTtcbiAgICB2YXIgZXZlbnRzTGlzdCA9IFtdO1xuICAgIHZhciBhbmFseXNpc0xpc3QgPSBbXTtcbiAgICB2YXIgcmVwb3J0c0xpc3QgPSBbXTtcbiAgICB2YXIgbW9kZWxDb25maWdzID0gW107XG4gICAgdmFyIHNlbnNvckxpc3RzID0gW107XG4gICAgdmFyIHB1YmxpY2F0aW9uTWVzc2FnZXMgPSBbXTtcbiAgICBpZiAocHVibGljYXRpb24uZXhwZXJpbWVudHNMaXN0KXtcbiAgICAgIGV4cGVyaW1lbnRzTGlzdCA9IF8ubWFwKHB1YmxpY2F0aW9uLmV4cGVyaW1lbnRzTGlzdCwgZnVuY3Rpb24oZXhwKXtcbiAgICAgICAgZXhwLnZhbHVlLmVxdWlwbWVudFR5cGUgPSBleHAuZ2V0RVQoZXhwLnZhbHVlLmV4cGVyaW1lbnRhbEZhY2lsaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHAudmFsdWUuZXF1aXBtZW50VHlwZSkubGFiZWw7XG4gICAgICAgIGV4cC52YWx1ZS5leHBlcmltZW50YWxGYWNpbGl0eSA9IGV4cC5nZXRFRigkc2NvcGUuc3RhdGUucHJvamVjdFxuICAgICAgICAgICAgICAudmFsdWUucHJvamVjdFR5cGUsXG4gICAgICAgICAgICAgIGV4cC52YWx1ZS5leHBlcmltZW50YWxGYWNpbGl0eSkubGFiZWw7XG4gICAgICAgIGV4cC5ldmVudHMgPSAkc2NvcGUuc3RhdGUucHVibGljYXRpb247XG4gICAgICAgIGRlbGV0ZSBleHAuX3VpO1xuICAgICAgICBkZWxldGUgZXhwLmV2ZW50cztcbiAgICAgICAgaWYgKCFleHAudmFsdWUuYXV0aG9ycy5sZW5ndGgpe1xuICAgICAgICAgIHB1YmxpY2F0aW9uTWVzc2FnZXMucHVzaCh7dGl0bGU6ICdFeHBlcmltZW50ICcgKyBleHAudmFsdWUudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTWlzc2luZyBhdXRob3JzJ30pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleHA7XG4gICAgICB9KTtcbiAgICAgIGRlbGV0ZSBwdWJsaWNhdGlvbi5leHBlcmltZW50c0xpc3Q7XG5cbiAgICB9XG4gICAgaWYgKHB1YmxpY2F0aW9uLmV2ZW50c0xpc3Qpe1xuICAgICAgdmFyIF9ldmVudHNMaXN0ID0gYW5ndWxhci5jb3B5KHB1YmxpY2F0aW9uLmV2ZW50c0xpc3QpO1xuICAgICAgZGVsZXRlIHB1YmxpY2F0aW9uLmV2ZW50c0xpc3Q7XG4gICAgICB2YXIgZXhwc1V1aWRzID0gXy5tYXAoZXhwZXJpbWVudHNMaXN0LCBmdW5jdGlvbihleHApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleHAudXVpZDsgfSk7XG4gICAgICBldmVudHNMaXN0ID0gXy5maWx0ZXIoX2V2ZW50c0xpc3QsXG4gICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGV2dCl7XG4gICAgICAgICAgICAgICAgICAgcmV0dXJuIF8uaW50ZXJzZWN0aW9uKGV2dC5hc3NvY2lhdGlvbklkcywgZXhwc1V1aWRzKTtcbiAgICAgICAgICAgICAgICAgfSk7XG4gICAgICB2YXIgbWNmc1V1aWRzID0gW107XG4gICAgICB2YXIgc2xzVXVpZHMgPSBbXTtcbiAgICAgIF8uZWFjaChldmVudHNMaXN0LCBmdW5jdGlvbihldnQpe1xuICAgICAgICAgIG1jZnNVdWlkcyA9IG1jZnNVdWlkcy5jb25jYXQoZXZ0LnZhbHVlLm1vZGVsQ29uZmlncyk7XG4gICAgICAgICAgc2xzVXVpZHMgPSBzbHNVdWlkcy5jb25jYXQoZXZ0LnZhbHVlLnNlbnNvckxpc3RzKTtcbiAgICAgICAgICBkZWxldGUgZXZ0LnRhZ3NBc09wdGlvbnM7XG4gICAgICAgICAgZXZ0LmZpbGVPYmpzID0gXy5tYXAoJHNjb3BlLnN0YXRlLmxpc3RpbmdzW2V2dC51dWlkXSwgZnVuY3Rpb24oZil7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgJ3BhdGgnOiBmLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogZi50eXBlLFxuICAgICAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZi5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICduYW1lJzogZi5uYW1lXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoIWV2dC5maWxlT2Jqcy5sZW5ndGgpe1xuICAgICAgICAgICAgICBwdWJsaWNhdGlvbk1lc3NhZ2VzLnB1c2goe3RpdGxlOiAnRXZlbnQgJyArIGV2dC52YWx1ZS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTWlzc2luZyBmaWxlcyd9KTtcbiAgICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIF8uZWFjaChtY2ZzVXVpZHMsIGZ1bmN0aW9uKG1jZil7XG4gICAgICAgIHZhciBfbWNmID0gYW5ndWxhci5jb3B5KCRzY29wZS5zdGF0ZS5wcm9qZWN0LmdldFJlbGF0ZWRCeVV1aWQobWNmKSk7XG4gICAgICAgIGRlbGV0ZSBfbWNmLnRhZ3NBc09wdGlvbnM7XG4gICAgICAgIF9tY2YuZmlsZU9ianMgPSBfLm1hcCgkc2NvcGUuc3RhdGUubGlzdGluZ3NbX21jZi51dWlkXSwgZnVuY3Rpb24oZil7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICdwYXRoJzogZi5wYXRoLFxuICAgICAgICAgICAgICAgICd0eXBlJzogZi50eXBlLFxuICAgICAgICAgICAgICAgICdsZW5ndGgnOiBmLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAnbmFtZSc6IGYubmFtZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghX21jZi5maWxlT2Jqcy5sZW5ndGgpe1xuICAgICAgICAgICAgcHVibGljYXRpb25NZXNzYWdlcy5wdXNoKHt0aXRsZTogJ01vZGVsIENvbmZpZyAnKyBfbWNmLnZhbHVlLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTWlzc2luZyBmaWxlcy4nfSk7XG4gICAgICAgIH1cbiAgICAgICAgbW9kZWxDb25maWdzLnB1c2goX21jZik7XG4gICAgICB9KTtcbiAgICAgIF8uZWFjaChzbHNVdWlkcywgZnVuY3Rpb24oc2x0KXtcbiAgICAgICAgdmFyIF9zbHQgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLnN0YXRlLnByb2plY3QuZ2V0UmVsYXRlZEJ5VXVpZChzbHQpKTtcbiAgICAgICAgZGVsZXRlIF9zbHQudGFnc0FzT3B0aW9ucztcbiAgICAgICAgX3NsdC5maWxlT2JqcyA9IF8ubWFwKCRzY29wZS5zdGF0ZS5saXN0aW5nc1tfc2x0LnV1aWRdLCBmdW5jdGlvbihmKXtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAncGF0aCc6IGYucGF0aCxcbiAgICAgICAgICAgICAgJ3R5cGUnOiBmLnR5cGUsXG4gICAgICAgICAgICAgICdsZW5ndGgnOiBmLmxlbmd0aCxcbiAgICAgICAgICAgICAgJ25hbWUnOiBmLm5hbWVcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFfc2x0LmZpbGVPYmpzLmxlbmd0aCl7XG4gICAgICAgICAgICBwdWJsaWNhdGlvbk1lc3NhZ2VzLnB1c2goe3RpdGxlOiAnU2Vuc29yIEluZm8gJyArIF9zbHQudmFsdWUudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNaXNzaW5nIGZpbGVzLid9KTtcbiAgICAgICAgfVxuICAgICAgICBzZW5zb3JMaXN0cy5wdXNoKF9zbHQpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChwdWJsaWNhdGlvbi5hbmFseXNpc0xpc3Qpe1xuICAgICAgYW5hbHlzaXNMaXN0ID0gXy5tYXAocHVibGljYXRpb24uYW5hbHlzaXNMaXN0LCBmdW5jdGlvbihhbmEpe1xuICAgICAgICBkZWxldGUgYW5hLnRhZ3NBc09wdGlvbnM7XG4gICAgICAgIGFuYS5maWxlT2JqcyA9IF8ubWFwKCRzY29wZS5zdGF0ZS5saXN0aW5nc1thbmEudXVpZF0sIGZ1bmN0aW9uKGYpe1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAncGF0aCc6IGYucGF0aCxcbiAgICAgICAgICAgICAgICAndHlwZSc6IGYudHlwZSxcbiAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZi5sZW5ndGgsXG4gICAgICAgICAgICAgICAgJ25hbWUnOiBmLm5hbWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWFuYS5maWxlT2Jqcy5sZW5ndGgpe1xuICAgICAgICAgICAgcHVibGljYXRpb25NZXNzYWdlcy5wdXNoKHt0aXRsZTogJ0FuYWx5c2lzICcgKyBhbmEudmFsdWUudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNaXNzaW5nIEZpbGVzJ30pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbmE7XG4gICAgICB9KTtcbiAgICAgIGRlbGV0ZSBwdWJsaWNhdGlvbi5hbmFseXNpc0xpc3Q7XG4gICAgfVxuICAgIGlmIChwdWJsaWNhdGlvbi5yZXBvcnRzTGlzdCkge1xuICAgICAgcmVwb3J0c0xpc3QgPSBfLm1hcChwdWJsaWNhdGlvbi5yZXBvcnRzTGlzdCwgZnVuY3Rpb24ocmVwKXtcbiAgICAgICAgICByZXAuZmlsZU9ianMgPSBfLm1hcCgkc2NvcGUuc3RhdGUubGlzdGluZ3NbcmVwLnV1aWRdLCBmdW5jdGlvbihmKXtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICdwYXRoJzogZi5wYXRoLFxuICAgICAgICAgICAgICAgICAgJ3R5cGUnOiBmLnR5cGUsXG4gICAgICAgICAgICAgICAgICAnbGVuZ3RoJzogZi5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAnbmFtZSc6IGYubmFtZVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiByZXA7XG4gICAgICB9KTtcbiAgICAgIGRlbGV0ZSBwdWJsaWNhdGlvbi5yZXBvcnRzTGlzdDtcbiAgICB9XG4gICAgdmFyIHByb2plY3QgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLnN0YXRlLnByb2plY3QpO1xuICAgIGRlbGV0ZSBwcm9qZWN0Ll9hbGxSZWxhdGVkT2JqZWN0cztcbiAgICBfLmVhY2gocHJvamVjdC5fcmVsYXRlZCwgZnVuY3Rpb24odmFsLCBrZXkpe1xuICAgICAgZGVsZXRlIHByb2plY3Rba2V5XTtcbiAgICB9KTtcbiAgICBkZWxldGUgcHVibGljYXRpb24uZmlsZXNTZWxlY3RlZDtcbiAgICBwdWJsaWNhdGlvbi5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICBwdWJsaWNhdGlvbi5ldmVudHNMaXN0ID0gZXZlbnRzTGlzdDtcbiAgICBwdWJsaWNhdGlvbi5tb2RlbENvbmZpZ3MgPSBtb2RlbENvbmZpZ3M7XG4gICAgcHVibGljYXRpb24uc2Vuc29yTGlzdHMgPSBzZW5zb3JMaXN0cztcbiAgICBwdWJsaWNhdGlvbi5hbmFseXNpc0xpc3QgPSBhbmFseXNpc0xpc3Q7XG4gICAgcHVibGljYXRpb24ucmVwb3J0c0xpc3QgPSByZXBvcnRzTGlzdDtcbiAgICBwdWJsaWNhdGlvbi5leHBlcmltZW50c0xpc3QgPSBleHBlcmltZW50c0xpc3Q7XG4gICAgaWYgKHB1YmxpY2F0aW9uTWVzc2FnZXMubGVuZ3RoKXtcbiAgICAgICAgJHNjb3BlLnVpLnB1YmxpY2F0aW9uTWVzc2FnZXMgPSBwdWJsaWNhdGlvbk1lc3NhZ2VzO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgICRodHRwLnBvc3QoJy9hcGkvcHJvamVjdHMvcHVibGljYXRpb24vJywge3B1YmxpY2F0aW9uOiBwdWJsaWNhdGlvbn0pXG4gICAgICAudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgJHNjb3BlLnN0YXRlLnB1YmxpY2F0aW9uTXNnID0gcmVzcC5kYXRhLm1lc3NhZ2U7XG4gICAgICAgICRzY29wZS5zdGF0ZS5wcm9qZWN0LnB1YmxpY2F0aW9uU3RhdHVzID0gJ3B1Ymxpc2hpbmcnO1xuICAgICAgICBEYXRhQnJvd3NlclNlcnZpY2Uuc3RhdGUoKS5wdWJsaWNhdGlvbk1zZyA9IHJlc3AuZGF0YS5tZXNzYWdlO1xuICAgICAgICBEYXRhQnJvd3NlclNlcnZpY2Uuc3RhdGUoKS5wcm9qZWN0LnB1YmxpY2F0aW9uU3RhdHVzID0gJ3B1Ymxpc2hpbmcnO1xuICAgICAgfSk7XG4gIH07XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BvcnRhbC9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci9kYXRhX2RlcG90L2NvbnRyb2xsZXJzL3Byb2plY3Qtdmlldy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = SharedDataCtrl;\nfunction SharedDataCtrl($scope, $state, Django, DataBrowserService) {\n  'ngInject';\n\n  $scope.browser = DataBrowserService.state();\n\n  if (!$scope.browser.error) {\n    $scope.browser.listing.href = $state.href('publicData', {\n      system: $scope.browser.listing.system,\n      filePath: $scope.browser.listing.path\n    });\n    _.each($scope.browser.listing.children, function (child) {\n      child.href = $state.href('sharedData', { system: child.system, filePath: child.path });\n    });\n  }\n\n  $scope.data = {\n    user: Django.user,\n    customRoot: {\n      name: 'Shared with me',\n      href: $state.href('sharedData', { systemId: $scope.browser.listing.system, filePath: '$SHARE/' }) }\n  };\n\n  $scope.resolveBreadcrumbHref = function (trailItem) {\n    return $state.href('sharedData', { systemId: $scope.browser.listing.system, filePath: trailItem.path });\n  };\n\n  $scope.onBrowse = function ($event, file) {\n    $event.preventDefault();\n    $event.stopPropagation();\n\n    var systemId = file.system || file.systemId;\n    var filePath;\n    if (file.path == '/') {\n      filePath = file.path + file.name;\n    } else {\n      filePath = file.path;\n    }\n    if (file.type === 'file') {\n      DataBrowserService.preview(file, $scope.browser.listing);\n    } else {\n      $state.go('sharedData', { systemId: file.system, filePath: file.path });\n    }\n  };\n\n  $scope.onSelect = function ($event, file) {\n    $event.preventDefault();\n    $event.stopPropagation();\n\n    if ($event.ctrlKey || $event.metaKey) {\n      var selectedIndex = $scope.browser.selected.indexOf(file);\n      if (selectedIndex > -1) {\n        DataBrowserService.deselect([file]);\n      } else {\n        DataBrowserService.select([file]);\n      }\n    } else if ($event.shiftKey && $scope.browser.selected.length > 0) {\n      var lastFile = $scope.browser.selected[$scope.browser.selected.length - 1];\n      var lastIndex = $scope.browser.listing.children.indexOf(lastFile);\n      var fileIndex = $scope.browser.listing.children.indexOf(file);\n      var min = Math.min(lastIndex, fileIndex);\n      var max = Math.max(lastIndex, fileIndex);\n      DataBrowserService.select($scope.browser.listing.children.slice(min, max + 1));\n    } else if (typeof file._ui !== 'undefined' && file._ui.selected) {\n      DataBrowserService.deselect([file]);\n    } else {\n      DataBrowserService.select([file], true);\n    }\n  };\n\n  $scope.showFullPath = function (item) {\n    if ($scope.browser.listing.path != '$SHARED' && item.parentPath() != $scope.browser.listing.path && item.parentPath() != '/') {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  $scope.onDetail = function ($event, file) {\n    $event.preventDefault();\n    $event.stopPropagation();\n    DataBrowserService.preview(file, $scope.browser.listing);\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9jb250cm9sbGVycy9zaGFyZWQtZGF0YS5qcz9lYWVjIl0sIm5hbWVzIjpbIlNoYXJlZERhdGFDdHJsIiwiJHNjb3BlIiwiJHN0YXRlIiwiRGphbmdvIiwiRGF0YUJyb3dzZXJTZXJ2aWNlIiwiYnJvd3NlciIsInN0YXRlIiwiZXJyb3IiLCJsaXN0aW5nIiwiaHJlZiIsInN5c3RlbSIsImZpbGVQYXRoIiwicGF0aCIsIl8iLCJlYWNoIiwiY2hpbGRyZW4iLCJjaGlsZCIsImRhdGEiLCJ1c2VyIiwiY3VzdG9tUm9vdCIsIm5hbWUiLCJzeXN0ZW1JZCIsInJlc29sdmVCcmVhZGNydW1iSHJlZiIsInRyYWlsSXRlbSIsIm9uQnJvd3NlIiwiJGV2ZW50IiwiZmlsZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwidHlwZSIsInByZXZpZXciLCJnbyIsIm9uU2VsZWN0IiwiY3RybEtleSIsIm1ldGFLZXkiLCJzZWxlY3RlZEluZGV4Iiwic2VsZWN0ZWQiLCJpbmRleE9mIiwiZGVzZWxlY3QiLCJzZWxlY3QiLCJzaGlmdEtleSIsImxlbmd0aCIsImxhc3RGaWxlIiwibGFzdEluZGV4IiwiZmlsZUluZGV4IiwibWluIiwiTWF0aCIsIm1heCIsInNsaWNlIiwiX3VpIiwic2hvd0Z1bGxQYXRoIiwiaXRlbSIsInBhcmVudFBhdGgiLCJvbkRldGFpbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBQXdCQSxjO0FBQVQsU0FBU0EsY0FBVCxDQUF5QkMsTUFBekIsRUFBaUNDLE1BQWpDLEVBQXlDQyxNQUF6QyxFQUFpREMsa0JBQWpELEVBQXFFO0FBQ2xGOztBQUNBSCxTQUFPSSxPQUFQLEdBQWlCRCxtQkFBbUJFLEtBQW5CLEVBQWpCOztBQUVBLE1BQUksQ0FBRUwsT0FBT0ksT0FBUCxDQUFlRSxLQUFyQixFQUEyQjtBQUN6Qk4sV0FBT0ksT0FBUCxDQUFlRyxPQUFmLENBQXVCQyxJQUF2QixHQUE4QlAsT0FBT08sSUFBUCxDQUFZLFlBQVosRUFBMEI7QUFDdERDLGNBQVFULE9BQU9JLE9BQVAsQ0FBZUcsT0FBZixDQUF1QkUsTUFEdUI7QUFFdERDLGdCQUFVVixPQUFPSSxPQUFQLENBQWVHLE9BQWYsQ0FBdUJJO0FBRnFCLEtBQTFCLENBQTlCO0FBSUFDLE1BQUVDLElBQUYsQ0FBT2IsT0FBT0ksT0FBUCxDQUFlRyxPQUFmLENBQXVCTyxRQUE5QixFQUF3QyxVQUFVQyxLQUFWLEVBQWlCO0FBQ3ZEQSxZQUFNUCxJQUFOLEdBQWFQLE9BQU9PLElBQVAsQ0FBWSxZQUFaLEVBQTBCLEVBQUNDLFFBQVFNLE1BQU1OLE1BQWYsRUFBdUJDLFVBQVVLLE1BQU1KLElBQXZDLEVBQTFCLENBQWI7QUFDRCxLQUZEO0FBR0Q7O0FBRURYLFNBQU9nQixJQUFQLEdBQWM7QUFDWkMsVUFBTWYsT0FBT2UsSUFERDtBQUVaQyxnQkFBWTtBQUNWQyxZQUFNLGdCQURJO0FBRVZYLFlBQU1QLE9BQU9PLElBQVAsQ0FBWSxZQUFaLEVBQTBCLEVBQUNZLFVBQVVwQixPQUFPSSxPQUFQLENBQWVHLE9BQWYsQ0FBdUJFLE1BQWxDLEVBQTBDQyxVQUFVLFNBQXBELEVBQTFCLENBRkk7QUFGQSxHQUFkOztBQU9BVixTQUFPcUIscUJBQVAsR0FBK0IsVUFBU0MsU0FBVCxFQUFvQjtBQUNqRCxXQUFPckIsT0FBT08sSUFBUCxDQUFZLFlBQVosRUFBMEIsRUFBQ1ksVUFBVXBCLE9BQU9JLE9BQVAsQ0FBZUcsT0FBZixDQUF1QkUsTUFBbEMsRUFBMENDLFVBQVVZLFVBQVVYLElBQTlELEVBQTFCLENBQVA7QUFDRCxHQUZEOztBQUlBWCxTQUFPdUIsUUFBUCxHQUFrQixVQUFTQyxNQUFULEVBQWlCQyxJQUFqQixFQUF1QjtBQUN2Q0QsV0FBT0UsY0FBUDtBQUNBRixXQUFPRyxlQUFQOztBQUVBLFFBQUlQLFdBQVdLLEtBQUtoQixNQUFMLElBQWVnQixLQUFLTCxRQUFuQztBQUNBLFFBQUlWLFFBQUo7QUFDQSxRQUFJZSxLQUFLZCxJQUFMLElBQWEsR0FBakIsRUFBcUI7QUFDbkJELGlCQUFXZSxLQUFLZCxJQUFMLEdBQVljLEtBQUtOLElBQTVCO0FBQ0QsS0FGRCxNQUVPO0FBQ0xULGlCQUFXZSxLQUFLZCxJQUFoQjtBQUNEO0FBQ0QsUUFBSWMsS0FBS0csSUFBTCxLQUFjLE1BQWxCLEVBQXlCO0FBQ3ZCekIseUJBQW1CMEIsT0FBbkIsQ0FBMkJKLElBQTNCLEVBQWlDekIsT0FBT0ksT0FBUCxDQUFlRyxPQUFoRDtBQUNELEtBRkQsTUFFTztBQUNMTixhQUFPNkIsRUFBUCxDQUFVLFlBQVYsRUFBd0IsRUFBQ1YsVUFBVUssS0FBS2hCLE1BQWhCLEVBQXdCQyxVQUFVZSxLQUFLZCxJQUF2QyxFQUF4QjtBQUNEO0FBQ0YsR0FoQkQ7O0FBa0JBWCxTQUFPK0IsUUFBUCxHQUFrQixVQUFTUCxNQUFULEVBQWlCQyxJQUFqQixFQUF1QjtBQUN2Q0QsV0FBT0UsY0FBUDtBQUNBRixXQUFPRyxlQUFQOztBQUVBLFFBQUlILE9BQU9RLE9BQVAsSUFBa0JSLE9BQU9TLE9BQTdCLEVBQXNDO0FBQ3BDLFVBQUlDLGdCQUFnQmxDLE9BQU9JLE9BQVAsQ0FBZStCLFFBQWYsQ0FBd0JDLE9BQXhCLENBQWdDWCxJQUFoQyxDQUFwQjtBQUNBLFVBQUlTLGdCQUFnQixDQUFDLENBQXJCLEVBQXdCO0FBQ3RCL0IsMkJBQW1Ca0MsUUFBbkIsQ0FBNEIsQ0FBQ1osSUFBRCxDQUE1QjtBQUNELE9BRkQsTUFFTztBQUNMdEIsMkJBQW1CbUMsTUFBbkIsQ0FBMEIsQ0FBQ2IsSUFBRCxDQUExQjtBQUNEO0FBQ0YsS0FQRCxNQU9PLElBQUlELE9BQU9lLFFBQVAsSUFBbUJ2QyxPQUFPSSxPQUFQLENBQWUrQixRQUFmLENBQXdCSyxNQUF4QixHQUFpQyxDQUF4RCxFQUEyRDtBQUNoRSxVQUFJQyxXQUFXekMsT0FBT0ksT0FBUCxDQUFlK0IsUUFBZixDQUF3Qm5DLE9BQU9JLE9BQVAsQ0FBZStCLFFBQWYsQ0FBd0JLLE1BQXhCLEdBQWlDLENBQXpELENBQWY7QUFDQSxVQUFJRSxZQUFZMUMsT0FBT0ksT0FBUCxDQUFlRyxPQUFmLENBQXVCTyxRQUF2QixDQUFnQ3NCLE9BQWhDLENBQXdDSyxRQUF4QyxDQUFoQjtBQUNBLFVBQUlFLFlBQVkzQyxPQUFPSSxPQUFQLENBQWVHLE9BQWYsQ0FBdUJPLFFBQXZCLENBQWdDc0IsT0FBaEMsQ0FBd0NYLElBQXhDLENBQWhCO0FBQ0EsVUFBSW1CLE1BQU1DLEtBQUtELEdBQUwsQ0FBU0YsU0FBVCxFQUFvQkMsU0FBcEIsQ0FBVjtBQUNBLFVBQUlHLE1BQU1ELEtBQUtDLEdBQUwsQ0FBU0osU0FBVCxFQUFvQkMsU0FBcEIsQ0FBVjtBQUNBeEMseUJBQW1CbUMsTUFBbkIsQ0FBMEJ0QyxPQUFPSSxPQUFQLENBQWVHLE9BQWYsQ0FBdUJPLFFBQXZCLENBQWdDaUMsS0FBaEMsQ0FBc0NILEdBQXRDLEVBQTJDRSxNQUFNLENBQWpELENBQTFCO0FBQ0QsS0FQTSxNQU9BLElBQUksT0FBT3JCLEtBQUt1QixHQUFaLEtBQW9CLFdBQXBCLElBQ0F2QixLQUFLdUIsR0FBTCxDQUFTYixRQURiLEVBQ3NCO0FBQzNCaEMseUJBQW1Ca0MsUUFBbkIsQ0FBNEIsQ0FBQ1osSUFBRCxDQUE1QjtBQUNELEtBSE0sTUFHRDtBQUNKdEIseUJBQW1CbUMsTUFBbkIsQ0FBMEIsQ0FBQ2IsSUFBRCxDQUExQixFQUFrQyxJQUFsQztBQUNEO0FBQ0YsR0F4QkQ7O0FBMEJBekIsU0FBT2lELFlBQVAsR0FBc0IsVUFBU0MsSUFBVCxFQUFjO0FBQ2xDLFFBQUlsRCxPQUFPSSxPQUFQLENBQWVHLE9BQWYsQ0FBdUJJLElBQXZCLElBQStCLFNBQS9CLElBQ0F1QyxLQUFLQyxVQUFMLE1BQXFCbkQsT0FBT0ksT0FBUCxDQUFlRyxPQUFmLENBQXVCSSxJQUQ1QyxJQUVBdUMsS0FBS0MsVUFBTCxNQUFxQixHQUZ6QixFQUU2QjtBQUMzQixhQUFPLElBQVA7QUFDRCxLQUpELE1BSU87QUFDTCxhQUFPLEtBQVA7QUFDRDtBQUNGLEdBUkQ7O0FBVUFuRCxTQUFPb0QsUUFBUCxHQUFrQixVQUFTNUIsTUFBVCxFQUFpQkMsSUFBakIsRUFBdUI7QUFDdkNELFdBQU9FLGNBQVA7QUFDQUYsV0FBT0csZUFBUDtBQUNBeEIsdUJBQW1CMEIsT0FBbkIsQ0FBMkJKLElBQTNCLEVBQWlDekIsT0FBT0ksT0FBUCxDQUFlRyxPQUFoRDtBQUNELEdBSkQ7QUFLRCIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNoYXJlZERhdGFDdHJsICgkc2NvcGUsICRzdGF0ZSwgRGphbmdvLCBEYXRhQnJvd3NlclNlcnZpY2UpIHtcbiAgJ25nSW5qZWN0JztcbiAgJHNjb3BlLmJyb3dzZXIgPSBEYXRhQnJvd3NlclNlcnZpY2Uuc3RhdGUoKTtcblxuICBpZiAoISAkc2NvcGUuYnJvd3Nlci5lcnJvcil7XG4gICAgJHNjb3BlLmJyb3dzZXIubGlzdGluZy5ocmVmID0gJHN0YXRlLmhyZWYoJ3B1YmxpY0RhdGEnLCB7XG4gICAgICBzeXN0ZW06ICRzY29wZS5icm93c2VyLmxpc3Rpbmcuc3lzdGVtLFxuICAgICAgZmlsZVBhdGg6ICRzY29wZS5icm93c2VyLmxpc3RpbmcucGF0aFxuICAgIH0pO1xuICAgIF8uZWFjaCgkc2NvcGUuYnJvd3Nlci5saXN0aW5nLmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIGNoaWxkLmhyZWYgPSAkc3RhdGUuaHJlZignc2hhcmVkRGF0YScsIHtzeXN0ZW06IGNoaWxkLnN5c3RlbSwgZmlsZVBhdGg6IGNoaWxkLnBhdGh9KTtcbiAgICB9KTtcbiAgfVxuXG4gICRzY29wZS5kYXRhID0ge1xuICAgIHVzZXI6IERqYW5nby51c2VyLFxuICAgIGN1c3RvbVJvb3Q6IHtcbiAgICAgIG5hbWU6ICdTaGFyZWQgd2l0aCBtZScsXG4gICAgICBocmVmOiAkc3RhdGUuaHJlZignc2hhcmVkRGF0YScsIHtzeXN0ZW1JZDogJHNjb3BlLmJyb3dzZXIubGlzdGluZy5zeXN0ZW0sIGZpbGVQYXRoOiAnJFNIQVJFLyd9KX1cbiAgfTtcblxuICAkc2NvcGUucmVzb2x2ZUJyZWFkY3J1bWJIcmVmID0gZnVuY3Rpb24odHJhaWxJdGVtKSB7XG4gICAgcmV0dXJuICRzdGF0ZS5ocmVmKCdzaGFyZWREYXRhJywge3N5c3RlbUlkOiAkc2NvcGUuYnJvd3Nlci5saXN0aW5nLnN5c3RlbSwgZmlsZVBhdGg6IHRyYWlsSXRlbS5wYXRofSk7XG4gIH07XG5cbiAgJHNjb3BlLm9uQnJvd3NlID0gZnVuY3Rpb24oJGV2ZW50LCBmaWxlKSB7XG4gICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgdmFyIHN5c3RlbUlkID0gZmlsZS5zeXN0ZW0gfHwgZmlsZS5zeXN0ZW1JZDtcbiAgICB2YXIgZmlsZVBhdGg7XG4gICAgaWYgKGZpbGUucGF0aCA9PSAnLycpe1xuICAgICAgZmlsZVBhdGggPSBmaWxlLnBhdGggKyBmaWxlLm5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbGVQYXRoID0gZmlsZS5wYXRoO1xuICAgIH1cbiAgICBpZiAoZmlsZS50eXBlID09PSAnZmlsZScpe1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnByZXZpZXcoZmlsZSwgJHNjb3BlLmJyb3dzZXIubGlzdGluZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzdGF0ZS5nbygnc2hhcmVkRGF0YScsIHtzeXN0ZW1JZDogZmlsZS5zeXN0ZW0sIGZpbGVQYXRoOiBmaWxlLnBhdGh9KTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm9uU2VsZWN0ID0gZnVuY3Rpb24oJGV2ZW50LCBmaWxlKSB7XG4gICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgaWYgKCRldmVudC5jdHJsS2V5IHx8ICRldmVudC5tZXRhS2V5KSB7XG4gICAgICB2YXIgc2VsZWN0ZWRJbmRleCA9ICRzY29wZS5icm93c2VyLnNlbGVjdGVkLmluZGV4T2YoZmlsZSk7XG4gICAgICBpZiAoc2VsZWN0ZWRJbmRleCA+IC0xKSB7XG4gICAgICAgIERhdGFCcm93c2VyU2VydmljZS5kZXNlbGVjdChbZmlsZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLnNlbGVjdChbZmlsZV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoJGV2ZW50LnNoaWZ0S2V5ICYmICRzY29wZS5icm93c2VyLnNlbGVjdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBsYXN0RmlsZSA9ICRzY29wZS5icm93c2VyLnNlbGVjdGVkWyRzY29wZS5icm93c2VyLnNlbGVjdGVkLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIGxhc3RJbmRleCA9ICRzY29wZS5icm93c2VyLmxpc3RpbmcuY2hpbGRyZW4uaW5kZXhPZihsYXN0RmlsZSk7XG4gICAgICB2YXIgZmlsZUluZGV4ID0gJHNjb3BlLmJyb3dzZXIubGlzdGluZy5jaGlsZHJlbi5pbmRleE9mKGZpbGUpO1xuICAgICAgdmFyIG1pbiA9IE1hdGgubWluKGxhc3RJbmRleCwgZmlsZUluZGV4KTtcbiAgICAgIHZhciBtYXggPSBNYXRoLm1heChsYXN0SW5kZXgsIGZpbGVJbmRleCk7XG4gICAgICBEYXRhQnJvd3NlclNlcnZpY2Uuc2VsZWN0KCRzY29wZS5icm93c2VyLmxpc3RpbmcuY2hpbGRyZW4uc2xpY2UobWluLCBtYXggKyAxKSk7XG4gICAgfSBlbHNlIGlmKCB0eXBlb2YgZmlsZS5fdWkgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgICBmaWxlLl91aS5zZWxlY3RlZCl7XG4gICAgICBEYXRhQnJvd3NlclNlcnZpY2UuZGVzZWxlY3QoW2ZpbGVdKTtcbiAgICB9IGVsc2V7XG4gICAgICBEYXRhQnJvd3NlclNlcnZpY2Uuc2VsZWN0KFtmaWxlXSwgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5zaG93RnVsbFBhdGggPSBmdW5jdGlvbihpdGVtKXtcbiAgICBpZiAoJHNjb3BlLmJyb3dzZXIubGlzdGluZy5wYXRoICE9ICckU0hBUkVEJyAmJlxuICAgICAgICBpdGVtLnBhcmVudFBhdGgoKSAhPSAkc2NvcGUuYnJvd3Nlci5saXN0aW5nLnBhdGggJiZcbiAgICAgICAgaXRlbS5wYXJlbnRQYXRoKCkgIT0gJy8nKXtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5vbkRldGFpbCA9IGZ1bmN0aW9uKCRldmVudCwgZmlsZSkge1xuICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBEYXRhQnJvd3NlclNlcnZpY2UucHJldmlldyhmaWxlLCAkc2NvcGUuYnJvd3Nlci5saXN0aW5nKTtcbiAgfTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BvcnRhbC9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci9kYXRhX2RlcG90L2NvbnRyb2xsZXJzL3NoYXJlZC1kYXRhLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ddBreadcrumb;\nfunction ddBreadcrumb() {\n  return {\n    restrict: 'E',\n    templateUrl: '/static/portal/scripts/angular/data_depot/templates/dd-breadcrumb.html',\n    scope: {\n      listing: '=',\n      skipRoot: '=',\n      customRoot: '=',\n      project: '=',\n      onBrowse: '&',\n      itemHref: '&'\n    },\n    link: function link(scope) {\n      scope.offset = 0;\n      if (scope.skipRoot || scope.customRoot) {\n        scope.offset = 1;\n      }\n    }\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9kaXJlY3RpdmVzL2RkLWJyZWFkY3J1bWIuanM/MjJjMyJdLCJuYW1lcyI6WyJkZEJyZWFkY3J1bWIiLCJyZXN0cmljdCIsInRlbXBsYXRlVXJsIiwic2NvcGUiLCJsaXN0aW5nIiwic2tpcFJvb3QiLCJjdXN0b21Sb290IiwicHJvamVjdCIsIm9uQnJvd3NlIiwiaXRlbUhyZWYiLCJsaW5rIiwib2Zmc2V0Il0sIm1hcHBpbmdzIjoiOzs7OztrQkFBd0JBLFk7QUFBVCxTQUFTQSxZQUFULEdBQXdCO0FBQ3JDLFNBQU87QUFDTEMsY0FBVSxHQURMO0FBRUxDLGlCQUFhLHdFQUZSO0FBR0xDLFdBQU87QUFDTEMsZUFBUyxHQURKO0FBRUxDLGdCQUFVLEdBRkw7QUFHTEMsa0JBQVksR0FIUDtBQUlMQyxlQUFTLEdBSko7QUFLTEMsZ0JBQVUsR0FMTDtBQU1MQyxnQkFBVTtBQU5MLEtBSEY7QUFXTEMsVUFBTSxjQUFTUCxLQUFULEVBQWdCO0FBQ3BCQSxZQUFNUSxNQUFOLEdBQWUsQ0FBZjtBQUNBLFVBQUlSLE1BQU1FLFFBQU4sSUFBa0JGLE1BQU1HLFVBQTVCLEVBQXdDO0FBQ3RDSCxjQUFNUSxNQUFOLEdBQWUsQ0FBZjtBQUNEO0FBQ0Y7QUFoQkksR0FBUDtBQWtCRCIsImZpbGUiOiIxNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRkQnJlYWRjcnVtYigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL2RhdGFfZGVwb3QvdGVtcGxhdGVzL2RkLWJyZWFkY3J1bWIuaHRtbCcsXG4gICAgc2NvcGU6IHtcbiAgICAgIGxpc3Rpbmc6ICc9JyxcbiAgICAgIHNraXBSb290OiAnPScsXG4gICAgICBjdXN0b21Sb290OiAnPScsXG4gICAgICBwcm9qZWN0OiAnPScsXG4gICAgICBvbkJyb3dzZTogJyYnLFxuICAgICAgaXRlbUhyZWY6ICcmJ1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgIHNjb3BlLm9mZnNldCA9IDA7XG4gICAgICBpZiAoc2NvcGUuc2tpcFJvb3QgfHwgc2NvcGUuY3VzdG9tUm9vdCkge1xuICAgICAgICBzY29wZS5vZmZzZXQgPSAxO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BvcnRhbC9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci9kYXRhX2RlcG90L2RpcmVjdGl2ZXMvZGQtYnJlYWRjcnVtYi5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _ddBreadcrumb = __webpack_require__(16);\n\nvar _ddBreadcrumb2 = _interopRequireDefault(_ddBreadcrumb);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mod = angular.module('portal.data_depot.directives', []);\n\nmod.directive('ddBreadcrumb', _ddBreadcrumb2.default);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9kaXJlY3RpdmVzL2luZGV4LmpzP2FmYzQiXSwibmFtZXMiOlsibW9kIiwiYW5ndWxhciIsIm1vZHVsZSIsImRpcmVjdGl2ZSJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7Ozs7O0FBRUEsSUFBSUEsTUFBTUMsUUFBUUMsTUFBUixDQUFlLDhCQUFmLEVBQStDLEVBQS9DLENBQVY7O0FBRUFGLElBQUlHLFNBQUosQ0FBYyxjQUFkIiwiZmlsZSI6IjE3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgZGRCcmVhZGNydW1iIGZyb20gJy4vZGQtYnJlYWRjcnVtYic7XG5cbmxldCBtb2QgPSBhbmd1bGFyLm1vZHVsZSgncG9ydGFsLmRhdGFfZGVwb3QuZGlyZWN0aXZlcycsIFtdKTtcblxubW9kLmRpcmVjdGl2ZSgnZGRCcmVhZGNydW1iJywgZGRCcmVhZGNydW1iKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BvcnRhbC9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci9kYXRhX2RlcG90L2RpcmVjdGl2ZXMvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _services = __webpack_require__(21);\n\nvar _controllers = __webpack_require__(5);\n\nvar _directives = __webpack_require__(17);\n\nvar mod = angular.module('portal.data_depot', ['portal.data_depot.services', 'portal.data_depot.controllers', 'portal.data_depot.directives']);\n\nfunction config($httpProvider, $locationProvider, $stateProvider, $qProvider, $urlRouterProvider, $urlMatcherFactoryProvider, Django) {\n  'ngInject';\n\n  $qProvider.errorOnUnhandledRejections(false);\n  $stateProvider\n  /* Private */\n  .state('db', {\n    url: '/data-depot',\n    abstract: true,\n    template: '<ui-view/>',\n    resolve: {\n      'systems': ['SystemsService', function (SystemsService) {\n        return SystemsService.listing();\n      }]\n    }\n  }).state('db.myData', {\n    url: '/agave/{systemId}/{filePath:any}/',\n    controller: 'MyDataCtrl',\n    templateUrl: '/static/portal/scripts/angular/data_depot/templates/agave-data-listing.html'\n  }).state('db.projects', {\n    url: '/projects/',\n    abstract: true\n  }).state('db.projects.list', {\n    url: '',\n    controller: 'ProjectListCtrl',\n    templateUrl: '/static/portal/scripts/angular/data_depot/templates/project-list.html'\n  }).state('db.projects.listing', {\n    url: '{systemId}/{filePath:any}',\n    controller: 'ProjectListingCtrl',\n    templateUrl: '/static/portal/scripts/angular/data_depot/templates/agave-data-listing.html'\n  }).state('db.communityData', {\n    url: '/public/{systemId}/{filePath:any}',\n    controller: 'CommunityDataCtrl',\n    templateUrl: '/static/portal/scripts/angular/data_depot/templates/agave-data-listing.html',\n    params: {\n      filePath: '/'\n    }\n  }).state('sharedData', {\n    url: '/shared/{systemId}/{filePath:any}/',\n    controller: 'SharedDataCtrl',\n    templateUrl: '/static/portal/scripts/angular/data-depot/templates/agave-shared-data-listing.html',\n    params: {\n      systemId: 'utportal.storage.default',\n      filePath: '$SHARE'\n    },\n    resolve: {\n      'listing': ['$stateParams', 'DataBrowserService', function ($stateParams, DataBrowserService) {\n        var systemId = $stateParams.systemId || 'utportal.storage.default';\n        var filePath = $stateParams.filePath || '$SHARE/';\n\n        DataBrowserService.apiParams.fileMgr = 'agave';\n        DataBrowserService.apiParams.baseUrl = '/api/agave/files';\n        DataBrowserService.apiParams.searchState = 'sharedDataSearch';\n        return DataBrowserService.browse({ system: systemId, path: filePath });\n      }],\n      'auth': function auth($q) {\n        if (Django.context.authenticated) {\n          return true;\n        } else {\n          return $q.reject({\n            type: 'authn',\n            context: Django.context\n          });\n        }\n      }\n    }\n  }).state('dropboxData', {\n    url: '/dropbox/{filePath:any}',\n    controller: 'ExternalDataCtrl',\n    templateUrl: '/static/scripts/data-depot/templates/dropbox-data-listing.html',\n    params: {\n      filePath: '',\n      name: 'Dropbox',\n      customRootFilePath: 'dropbox/'\n    },\n    resolve: {\n      'listing': ['$stateParams', 'DataBrowserService', function ($stateParams, DataBrowserService) {\n        var filePath = $stateParams.filePath || '/';\n        DataBrowserService.apiParams.fileMgr = 'dropbox';\n        DataBrowserService.apiParams.baseUrl = '/api/external-resources/files';\n        DataBrowserService.apiParams.searchState = undefined;\n        return DataBrowserService.browse({ path: filePath });\n      }],\n      'auth': function auth($q) {\n        if (Django.context.authenticated) {\n          return true;\n        } else {\n          return $q.reject({\n            type: 'authn',\n            context: Django.context\n          });\n        }\n      }\n    }\n  });\n}\n\nmod.config(config).run(['$rootScope', '$location', '$state', 'Django', '$trace', function ($rootScope, $location, $state, Django, $trace) {\n\n  // $rootScope.$on('$stateChangeStart', function(event, toState, toParams) {\n  //   if (toState.name === 'myData' || toState.name === 'sharedData') {\n  //     var ownerPath = new RegExp('^/?' + Django.user).test(toParams.filePath);\n  //     if (toState.name === 'myData' && !ownerPath) {\n  //       event.preventDefault();\n  //       $state.go('sharedData', toParams);\n  //     } else if (toState.name === 'sharedData' && ownerPath) {\n  //       event.preventDefault();\n  //       $state.go('myData', toParams);\n  //     }\n  //   }\n  // });\n\n  $rootScope.$on(\"$stateChangeError\", function (event, toState, toParams, fromState, fromParams, error) {\n    if (error.type === 'authn') {\n      var redirectUrl = $state.href(toState.name, toParams);\n      window.location = '/login/?next=' + redirectUrl;\n    }\n  });\n}]);\n\nexports.default = mod;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9pbmRleC5qcz8wYmZjIl0sIm5hbWVzIjpbIm1vZCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkaHR0cFByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkc3RhdGVQcm92aWRlciIsIiRxUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlciIsIkRqYW5nbyIsImVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zIiwic3RhdGUiLCJ1cmwiLCJhYnN0cmFjdCIsInRlbXBsYXRlIiwicmVzb2x2ZSIsIlN5c3RlbXNTZXJ2aWNlIiwibGlzdGluZyIsImNvbnRyb2xsZXIiLCJ0ZW1wbGF0ZVVybCIsInBhcmFtcyIsImZpbGVQYXRoIiwic3lzdGVtSWQiLCIkc3RhdGVQYXJhbXMiLCJEYXRhQnJvd3NlclNlcnZpY2UiLCJhcGlQYXJhbXMiLCJmaWxlTWdyIiwiYmFzZVVybCIsInNlYXJjaFN0YXRlIiwiYnJvd3NlIiwic3lzdGVtIiwicGF0aCIsIiRxIiwiY29udGV4dCIsImF1dGhlbnRpY2F0ZWQiLCJyZWplY3QiLCJ0eXBlIiwibmFtZSIsImN1c3RvbVJvb3RGaWxlUGF0aCIsInVuZGVmaW5lZCIsInJ1biIsIiRyb290U2NvcGUiLCIkbG9jYXRpb24iLCIkc3RhdGUiLCIkdHJhY2UiLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJlcnJvciIsInJlZGlyZWN0VXJsIiwiaHJlZiIsIndpbmRvdyIsImxvY2F0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFJQSxNQUFNQyxRQUFRQyxNQUFSLENBQWUsbUJBQWYsRUFBb0MsQ0FDNUMsNEJBRDRDLEVBRTVDLCtCQUY0QyxFQUc1Qyw4QkFI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RUFBNEI7QUFDMUIsVUFBSWdCLGNBQWNULE9BQU9VLElBQVAsQ0FBWU4sUUFBUVYsSUFBcEIsRUFBMEJXLFFBQTFCLENBQWxCO0FBQ0FNLGFBQU9DLFFBQVAsR0FBa0Isa0JBQWtCSCxXQUFwQztBQUNEO0FBQ0YsR0FMRDtBQU1ELENBckJJLENBRFA7O2tCQXdCZXJELEciLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge21vZCBhcyBzZXJ2aWNlc30gZnJvbSAnLi9zZXJ2aWNlcyc7XG5pbXBvcnQge21vZCBhcyBjb250cm9sbGVyc30gZnJvbSAnLi9jb250cm9sbGVycyc7XG5pbXBvcnQge21vZCBhcyBkaXJlY3RpdmVzfWZyb20gJy4vZGlyZWN0aXZlcyc7XG5cbmxldCBtb2QgPSBhbmd1bGFyLm1vZHVsZSgncG9ydGFsLmRhdGFfZGVwb3QnLCBbXG4gICdwb3J0YWwuZGF0YV9kZXBvdC5zZXJ2aWNlcycsXG4gICdwb3J0YWwuZGF0YV9kZXBvdC5jb250cm9sbGVycycsXG4gICdwb3J0YWwuZGF0YV9kZXBvdC5kaXJlY3RpdmVzJ1xuXSk7XG5cbmZ1bmN0aW9uIGNvbmZpZygkaHR0cFByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlciwgJHN0YXRlUHJvdmlkZXIsICRxUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXIsIERqYW5nbykge1xuICAnbmdJbmplY3QnO1xuICAkcVByb3ZpZGVyLmVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zKGZhbHNlKTtcbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAvKiBQcml2YXRlICovXG4gICAgLnN0YXRlKFxuICAgICAgJ2RiJywge1xuICAgICAgICB1cmw6ICcvZGF0YS1kZXBvdCcsXG4gICAgICAgIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICB0ZW1wbGF0ZTogJzx1aS12aWV3Lz4nLFxuICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgJ3N5c3RlbXMnOiBbJ1N5c3RlbXNTZXJ2aWNlJywgZnVuY3Rpb24oU3lzdGVtc1NlcnZpY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBTeXN0ZW1zU2VydmljZS5saXN0aW5nKCk7XG4gICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIClcbiAgICAuc3RhdGUoJ2RiLm15RGF0YScsIHtcbiAgICAgIHVybDogJy9hZ2F2ZS97c3lzdGVtSWR9L3tmaWxlUGF0aDphbnl9LycsXG4gICAgICBjb250cm9sbGVyOiAnTXlEYXRhQ3RybCcsXG4gICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci9kYXRhX2RlcG90L3RlbXBsYXRlcy9hZ2F2ZS1kYXRhLWxpc3RpbmcuaHRtbCcsXG4gICAgfSlcbiAgICAuc3RhdGUoJ2RiLnByb2plY3RzJywge1xuICAgICAgdXJsOiAnL3Byb2plY3RzLycsXG4gICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICB9KVxuICAgIC5zdGF0ZSgnZGIucHJvamVjdHMubGlzdCcsIHtcbiAgICAgIHVybDogJycsXG4gICAgICBjb250cm9sbGVyOiAnUHJvamVjdExpc3RDdHJsJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL2RhdGFfZGVwb3QvdGVtcGxhdGVzL3Byb2plY3QtbGlzdC5odG1sJyxcbiAgICB9KVxuICAgIC5zdGF0ZSgnZGIucHJvamVjdHMubGlzdGluZycsIHtcbiAgICAgIHVybDogJ3tzeXN0ZW1JZH0ve2ZpbGVQYXRoOmFueX0nLFxuICAgICAgY29udHJvbGxlcjogJ1Byb2plY3RMaXN0aW5nQ3RybCcsXG4gICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci9kYXRhX2RlcG90L3RlbXBsYXRlcy9hZ2F2ZS1kYXRhLWxpc3RpbmcuaHRtbCcsXG4gICAgfSlcbiAgICAuc3RhdGUoJ2RiLmNvbW11bml0eURhdGEnLCB7XG4gICAgICB1cmw6ICcvcHVibGljL3tzeXN0ZW1JZH0ve2ZpbGVQYXRoOmFueX0nLFxuICAgICAgY29udHJvbGxlcjogJ0NvbW11bml0eURhdGFDdHJsJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL2RhdGFfZGVwb3QvdGVtcGxhdGVzL2FnYXZlLWRhdGEtbGlzdGluZy5odG1sJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBmaWxlUGF0aDogJy8nXG4gICAgICB9LFxuICAgIH0pXG4gICAgLnN0YXRlKCdzaGFyZWREYXRhJywge1xuICAgICAgdXJsOiAnL3NoYXJlZC97c3lzdGVtSWR9L3tmaWxlUGF0aDphbnl9LycsXG4gICAgICBjb250cm9sbGVyOiAnU2hhcmVkRGF0YUN0cmwnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YS1kZXBvdC90ZW1wbGF0ZXMvYWdhdmUtc2hhcmVkLWRhdGEtbGlzdGluZy5odG1sJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBzeXN0ZW1JZDogJ3V0cG9ydGFsLnN0b3JhZ2UuZGVmYXVsdCcsXG4gICAgICAgIGZpbGVQYXRoOiAnJFNIQVJFJ1xuICAgICAgfSxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgJ2xpc3RpbmcnOiBbJyRzdGF0ZVBhcmFtcycsICdEYXRhQnJvd3NlclNlcnZpY2UnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIERhdGFCcm93c2VyU2VydmljZSkge1xuICAgICAgICAgIHZhciBzeXN0ZW1JZCA9ICRzdGF0ZVBhcmFtcy5zeXN0ZW1JZCB8fCAndXRwb3J0YWwuc3RvcmFnZS5kZWZhdWx0JztcbiAgICAgICAgICB2YXIgZmlsZVBhdGggPSAkc3RhdGVQYXJhbXMuZmlsZVBhdGggfHwgJyRTSEFSRS8nO1xuXG4gICAgICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmFwaVBhcmFtcy5maWxlTWdyID0gJ2FnYXZlJztcbiAgICAgICAgICBEYXRhQnJvd3NlclNlcnZpY2UuYXBpUGFyYW1zLmJhc2VVcmwgPSAnL2FwaS9hZ2F2ZS9maWxlcyc7XG4gICAgICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmFwaVBhcmFtcy5zZWFyY2hTdGF0ZSA9ICdzaGFyZWREYXRhU2VhcmNoJztcbiAgICAgICAgICByZXR1cm4gRGF0YUJyb3dzZXJTZXJ2aWNlLmJyb3dzZSh7c3lzdGVtOiBzeXN0ZW1JZCwgcGF0aDogZmlsZVBhdGh9KTtcbiAgICAgICAgfV0sXG4gICAgICAgICdhdXRoJzogZnVuY3Rpb24oJHEpIHtcbiAgICAgICAgICBpZiAoRGphbmdvLmNvbnRleHQuYXV0aGVudGljYXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3Qoe1xuICAgICAgICAgICAgICB0eXBlOiAnYXV0aG4nLFxuICAgICAgICAgICAgICBjb250ZXh0OiBEamFuZ28uY29udGV4dFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICAuc3RhdGUoJ2Ryb3Bib3hEYXRhJywge1xuICAgICAgdXJsOiAnL2Ryb3Bib3gve2ZpbGVQYXRoOmFueX0nLFxuICAgICAgY29udHJvbGxlcjogJ0V4dGVybmFsRGF0YUN0cmwnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3NjcmlwdHMvZGF0YS1kZXBvdC90ZW1wbGF0ZXMvZHJvcGJveC1kYXRhLWxpc3RpbmcuaHRtbCcsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgZmlsZVBhdGg6ICcnLFxuICAgICAgICBuYW1lOiAnRHJvcGJveCcsXG4gICAgICAgIGN1c3RvbVJvb3RGaWxlUGF0aDogJ2Ryb3Bib3gvJ1xuICAgICAgfSxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgJ2xpc3RpbmcnOiBbJyRzdGF0ZVBhcmFtcycsICdEYXRhQnJvd3NlclNlcnZpY2UnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIERhdGFCcm93c2VyU2VydmljZSkge1xuICAgICAgICAgIHZhciBmaWxlUGF0aCA9ICRzdGF0ZVBhcmFtcy5maWxlUGF0aCB8fCAnLyc7XG4gICAgICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmFwaVBhcmFtcy5maWxlTWdyID0gJ2Ryb3Bib3gnO1xuICAgICAgICAgIERhdGFCcm93c2VyU2VydmljZS5hcGlQYXJhbXMuYmFzZVVybCA9ICcvYXBpL2V4dGVybmFsLXJlc291cmNlcy9maWxlcyc7XG4gICAgICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmFwaVBhcmFtcy5zZWFyY2hTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICByZXR1cm4gRGF0YUJyb3dzZXJTZXJ2aWNlLmJyb3dzZSh7cGF0aDogZmlsZVBhdGh9KTtcbiAgICAgICAgfV0sXG4gICAgICAgICdhdXRoJzogZnVuY3Rpb24oJHEpIHtcbiAgICAgICAgICBpZiAoRGphbmdvLmNvbnRleHQuYXV0aGVudGljYXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3Qoe1xuICAgICAgICAgICAgICB0eXBlOiAnYXV0aG4nLFxuICAgICAgICAgICAgICBjb250ZXh0OiBEamFuZ28uY29udGV4dFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbn1cblxubW9kLmNvbmZpZyhjb25maWcpXG4gIC5ydW4oWyckcm9vdFNjb3BlJywgJyRsb2NhdGlvbicsICckc3RhdGUnLCAnRGphbmdvJywgJyR0cmFjZScsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRsb2NhdGlvbiwgJHN0YXRlLCBEamFuZ28sICR0cmFjZSkge1xuXG4gICAgLy8gJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zKSB7XG4gICAgLy8gICBpZiAodG9TdGF0ZS5uYW1lID09PSAnbXlEYXRhJyB8fCB0b1N0YXRlLm5hbWUgPT09ICdzaGFyZWREYXRhJykge1xuICAgIC8vICAgICB2YXIgb3duZXJQYXRoID0gbmV3IFJlZ0V4cCgnXi8/JyArIERqYW5nby51c2VyKS50ZXN0KHRvUGFyYW1zLmZpbGVQYXRoKTtcbiAgICAvLyAgICAgaWYgKHRvU3RhdGUubmFtZSA9PT0gJ215RGF0YScgJiYgIW93bmVyUGF0aCkge1xuICAgIC8vICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gICAgICAgJHN0YXRlLmdvKCdzaGFyZWREYXRhJywgdG9QYXJhbXMpO1xuICAgIC8vICAgICB9IGVsc2UgaWYgKHRvU3RhdGUubmFtZSA9PT0gJ3NoYXJlZERhdGEnICYmIG93bmVyUGF0aCkge1xuICAgIC8vICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gICAgICAgJHN0YXRlLmdvKCdteURhdGEnLCB0b1BhcmFtcyk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgIH1cbiAgICAvLyB9KTtcblxuICAgICRyb290U2NvcGUuJG9uKFwiJHN0YXRlQ2hhbmdlRXJyb3JcIiwgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IudHlwZSA9PT0gJ2F1dGhuJykge1xuICAgICAgICB2YXIgcmVkaXJlY3RVcmwgPSAkc3RhdGUuaHJlZih0b1N0YXRlLm5hbWUsIHRvUGFyYW1zKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJy9sb2dpbi8/bmV4dD0nICsgcmVkaXJlY3RVcmw7XG4gICAgICB9XG4gICAgfSk7XG4gIH1dKTtcblxuZXhwb3J0IGRlZmF1bHQgbW9kO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL2RhdGFfZGVwb3QvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction DataBrowserService($rootScope, $http, $q, $timeout, $uibModal, $state, Django, FileListing) {\n  'ngInject';\n\n  /**\n   * @type {{busy: boolean, listing: FileListing, selected: Array}}\n   */\n\n  var _currentState = {\n    busy: false,\n    busyListing: false,\n    error: null,\n    listing: null,\n    selected: [],\n    loadingMore: false,\n    reachedEnd: false,\n    page: 0,\n    showMainListing: true,\n    showPreviewListing: false,\n    ui: {}\n  };\n\n  var apiParams = {\n    fileMgr: 'agave',\n    baseUrl: '/api/files'\n  };\n\n  var toolbarOpts = {};\n  var currentBrowseRequest = null;\n  /**\n   * Enumeration of event `DataBrowserService::Event` types\n   *\n   * @readonly\n   * @enum {string}\n   */\n  var FileEvents = {\n    FILE_ADDED: 'FileAdded',\n    FILE_COPIED: 'FileCopied',\n    FILE_MOVED: 'FileMoved',\n    FILE_REMOVED: 'FileRemoved',\n    FILE_SELECTION: 'FileSelection',\n    FILE_META_UPDATED: 'MetadataUpdated'\n  };\n\n  /**\n   * Enumeration of event `DataBrowserService::EventMessage` strings\n   *\n   * @readonly\n   * @enum {string}\n   */\n  var FileEventsMsg = {\n    FILE_ADDED: 'Your file was added.',\n    FILE_COPIED: 'Your file was copied.',\n    FILE_MOVED: 'Your file was moved.',\n    FILE_REMOVED: 'Your file was remove.',\n    FILE_SELECTION: 'Your file has been selected.',\n    FILE_META_UPDATED: 'Metadata object updated.'\n  };\n\n  // TODO figure out how to make this more programmatic. Just hacking for now.\n  function toolbarOptions() {\n    $http.get('/api/data-depot/toolbar/params').then(function (resp) {\n      var toolbarOpts = {\n        trash_enabled: resp.data.response.trash_enabled,\n        share_enabled: resp.data.response.share_enabled,\n        preview_enabled: resp.data.response.preview_enabled,\n        preview_images_enabled: resp.data.response.preview_images_enabled,\n        copy_enabled: resp.data.response.copy_enabled,\n        move_enabled: resp.data.response.move_enabled,\n        rename_enabled: resp.data.response.rename_enabled,\n        tag_enabled: resp.data.response.tag_enabled\n      };\n      return toolbarOpts;\n    }, function (error) {\n      console.log('$http.get Error', error);\n    });\n  }\n\n  /**\n   * Gets the apiParams of the DataBrowserService.\n   */\n  function apiParameters() {\n    return apiParams;\n  }\n\n  /**\n   * Gets the state of the DataBrowserService.\n   *\n   * @return {{busy: boolean, listing: FileListing, selected: Array}}\n   */\n  function state() {\n    return _currentState;\n  }\n\n  /**\n   *\n   * @param {FileListing[]} files FileListing objects to select\n   * @param {boolean} [reset] If true, clears current selection before selecting the passed files.\n   */\n  function select(files, reset) {\n    if (reset) {\n      deselect(_currentState.selected);\n    }\n    _.each(files, function (f) {\n      f._ui = f._ui || {};\n      f._ui.selected = true;\n    });\n    _currentState.selected = _.union(_currentState.selected, files);\n    notify(FileEvents.FILE_SELECTION, FileEventsMsg.FILE_SELECTION, _currentState.selected);\n  }\n\n  /**\n   *\n   * @param {FileListing[]} files FileListing objects to de-select\n   */\n  function deselect(files) {\n    _.each(files, function (f) {\n      f._ui = f._ui || {};\n      f._ui.selected = false;\n    });\n    _currentState.selected = _.difference(_currentState.selected, files);\n    notify(FileEvents.FILE_SELECTION, FileEventsMsg.FILE_SELECTION, _currentState.selected);\n  }\n\n  /**\n   * Tests for the DataBrowser actions allowed on the given file(s) from the current listing.\n   *\n   * @param {FileListing|FileListing[]} files Files to test\n   * @return {{canDownload: {boolean}, canPreview: {boolean}, canViewMetadata: {boolean}, canShare: {boolean}, canCopy: {boolean}, canMove: {boolean}, canRename: {boolean}, canTrash: {boolean}, canDelete: {boolean}}}\n   */\n  function allowedActions(files) {\n    if (!Array.isArray(files)) {\n      files = [files];\n    }\n    var tests = {};\n    tests.canDownload = files.length >= 1 && hasPermission('READ', files) && !containsFolder(files);\n    tests.canPreview = files.length === 1 && hasPermission('READ', files);\n    tests.canPreviewImages = files.length >= 1 && hasPermission('READ', files);\n    tests.canViewMetadata = files.length >= 1 && hasPermission('READ', files);\n    tests.canShare = files.length === 1 && $state.current.name === 'myData';\n    tests.canCopy = files.length >= 1 && hasPermission('READ', files);\n    tests.canMove = files.length >= 1 && hasPermission('WRITE', [_currentState.listing].concat(files)) && $state.current.name !== 'dropboxData' && $state.current.name !== 'boxData';\n    tests.canRename = files.length === 1 && hasPermission('WRITE', [_currentState.listing].concat(files));\n    tests.canViewCategories = files.length >= 1 && hasPermission('WRITE', files);\n\n    var trashPath = _trashPath();\n    tests.canTrash = ($state.current.name === 'db.myData' || $state.current.name === 'db.projects.view.data') && files.length >= 1 && _currentState.listing.path !== trashPath && !_.some(files, function (sel) {\n      return isProtected(sel);\n    });\n    tests.canDelete = $state.current.name === 'db.myData' && files.length >= 1 && _currentState.listing.path === trashPath;\n\n    return tests;\n  }\n\n  function showListing() {\n    _currentState.showMainListing = true;\n    _currentState.showPreviewListing = false;\n  }\n\n  function showPreview() {\n    _currentState.showMainListing = false;\n    _currentState.showPreviewListing = true;\n  }\n\n  /**\n  *\n  * @param options\n  * @param options.system\n  * @param options.path\n  */\n  function browse(options) {\n    // debugger\n    if (currentBrowseRequest) {\n      currentBrowseRequest.stopper.resolve();\n      currentBrowseRequest = null;\n      // $timeout.cancel(currentBrowseRequest);\n    }\n    _currentState.busy = true;\n    _currentState.busyListing = true;\n    _currentState.error = null;\n    _currentState.loadingMore = true;\n    _currentState.reachedEnd = false;\n    _currentState.busyListingPage = false;\n    _currentState.page = 0;\n    currentBrowseRequest = FileListing.get(options, apiParams);\n\n    currentBrowseRequest.then(function (listing) {\n      select([], true);\n      _currentState.busy = false;\n      _currentState.busyListing = false;\n      _currentState.loadingMore = false;\n      _currentState.reachedEnd = false;\n      _currentState.listing = listing;\n      return listing;\n    }, function (err) {\n      // This is for a cancelled promise...\n      if (err.status == -1) {\n        _currentState.busyListing = true;\n        _currentState.busy = true;\n      } else {\n        _currentState.busy = false;\n        _currentState.busyListing = false;\n      }\n      _currentState.listing = null;\n      _currentState.error = err;\n      _currentState.loadingMore = false;\n      _currentState.reachedEnd = false;\n      return err;\n    });\n    return currentBrowseRequest;\n  }\n\n  /**\n   *\n   * @param options\n   * @param options.system\n   * @param options.path\n   * @param options.page\n   */\n  function browsePage(options) {\n    _currentState.busy = true;\n    _currentState.busyListingPage = true;\n    _currentState.error = null;\n    var limit = 100;\n    var offset = 0;\n    if (options.page) {\n      offset += limit * options.page;\n    }\n    var params = { limit: limit, offset: offset };\n    return FileListing.get(options, apiParams, params).then(function (listing) {\n      select([], true);\n      _currentState.busy = false;\n      _currentState.busyListingPage = false;\n      _currentState.listing.children = _currentState.listing.children.concat(listing.children);\n      return listing;\n    }, function (err) {\n      _currentState.busy = false;\n      _currentState.busyListingPage = false;\n    });\n  }\n\n  /**\n   *\n   * @param {FileListing|FileListing[]} files\n   * @return {*}\n   */\n  function copy(_files) {\n    if (!Array.isArray(_files)) {\n      _files = [_files];\n    }\n\n    var modal = $uibModal.open({\n      templateUrl: '/static/portal/scripts/angular/data_depot/modals/data-browser-service-copy.html',\n      controller: 'ModalMoveCopy',\n      resolve: {\n        data: {\n          files: function files() {\n            return _files;\n          }\n        }\n      }\n    });\n\n    return modal.result.then(function (result) {\n      _currentState.busy = true;\n      var copyPromises = _.map(_files, function (f) {\n        var system = result.system || f.system;\n        return f.copy({ system: result.system, path: result.path, resource: result.resource }).then(function (result) {\n          //notify(FileEvents.FILE_COPIED, FileEventsMsg.FILE_COPIED, f);\n          return result;\n        });\n      });\n      return $q.all(copyPromises).then(function (results) {\n        _currentState.busy = false;\n        return results;\n      });\n    });\n  }\n\n  // /**\n  //  *\n  //  */\n  // function details () {\n  //   throw new Error('not implemented')\n  // }\n\n\n  /**\n   * Download files. Returns a promise that is resolved when all downloads have been\n   * _started_. Resolved with the download URL for each file.\n   *\n   * @param {FileListing|FileListing[]} files\n   * @return {Promise}\n   */\n  function download(files) {\n    if (!Array.isArray(files)) {\n      files = [files];\n    }\n    var download_promises = _.map(files, function (file) {\n      return file.download().then(function (resp) {\n        var link = document.createElement('a');\n        link.style.display = 'none';\n        link.setAttribute('href', resp.response.href);\n        link.setAttribute('download', \"null\");\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n\n        return resp;\n      });\n    });\n    return $q.all(download_promises);\n  }\n\n  /**\n   * TODO\n   *\n   * @returns {*}\n   */\n  function getFileManagers() {\n    return $http.get('/api/files/file-managers/').then(function (resp) {\n      return resp.data;\n    });\n  }\n\n  /**\n   *\n   * @param {FileListing|FileListing[]} files\n   */\n  function containsFolder(files) {\n    if (!Array.isArray(files)) {\n      files = [files];\n    }\n\n    var folders = _.filter(files, { type: 'dir' });\n    return folders.length > 0;\n  }\n  /**\n   *\n   * @param {string} permission\n   * @param {FileListing|FileListing[]} files\n   */\n  function hasPermission(permission, files) {\n    if (!Array.isArray(files)) {\n      files = [files];\n    }\n    return _.reduce(files, function (memo, file) {\n      var pem = file.permissions === 'ALL' || file.permissions.indexOf(permission) > -1;\n      if (memo !== null) {\n        pem = memo && pem;\n      }\n      return pem;\n    }, null);\n  }\n\n  /**\n   * This is not a great implementation, need to be more extensible...\n   * @param {FileListing} file\n   */\n  function isProtected(file) {\n    if (file.system === 'designsafe.storage.default') {\n      if (file.trail.length === 3 && file.name === '.Trash') {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Create a directory in the current listing directory.\n   *\n   * @returns {Promise}\n   */\n  function mkdir() {\n    var modal = $uibModal.open({\n      templateUrl: '/static/portal/scripts/angular/data_depot/modals/data-browser-service-mkdir.html',\n      controller: ['$scope', '$uibModalInstance', function ($scope, $uibModalInstance) {\n        $scope.form = {\n          folderName: 'Untitled_folder'\n        };\n\n        $scope.doCreateFolder = function ($event) {\n          $event.preventDefault();\n          $uibModalInstance.close($scope.form.folderName);\n        };\n\n        $scope.cancel = function () {\n          $uibModalInstance.dismiss('cancel');\n        };\n      }]\n    });\n\n    return modal.result.then(function (folderName) {\n      _currentState.busy = true;\n      _currentState.listing.mkdir({\n        name: folderName\n      }).then(function (newDir) {\n        _currentState.busy = false;\n        //notify(FileEvents.FILE_ADDED, FileEventsMsg.FILE_ADDED, newDir);\n      }, function (err) {\n        // TODO better error handling\n        _currentState.busy = false;\n      });\n    });\n  }\n\n  /**\n   *\n   * @param {FileListing|FileListing[]} files\n   * @param {FileListing} initialDestination\n   * @returns {Promise}\n   */\n  function move(_files2, initialDestination) {\n    if (!Array.isArray(_files2)) {\n      _files2 = [_files2];\n    }\n\n    var modal = $uibModal.open({\n      templateUrl: '/static/portal/scripts/angular/data_depot/modals/data-browser-service-move.html',\n      controller: 'ModalMoveCopy',\n      resolve: {\n        data: {\n          files: function files() {\n            console.log(_files2);\n            return _files2;\n          }\n          // initialDestination: function () { return initialDestination; }\n        }\n      }\n    });\n\n    return modal.result.then(function (result) {\n      _currentState.busy = true;\n      //if (result.system !== files[0].system){\n      //  return $q.when(files);\n      //}\n      var movePromises = _.map(_files2, function (f) {\n        return f.move({ system: result.system, path: result.path }).then(function (result) {\n          deselect([f]);\n          //notify(FileEvents.FILE_MOVED, FileEventsMsg.FILE_MOVED, f);\n          return result;\n        });\n      });\n      return $q.all(movePromises).then(function (results) {\n        _currentState.busy = false;\n        return results;\n      });\n    });\n  }\n\n  /**\n   *\n   * @param {FileListing} file\n   * @return {Promise}\n   */\n  function preview(_file, listing) {\n    var modal = $uibModal.open({\n      templateUrl: '/static/portal/scripts/angular/data_depot/modals/data-browser-service-preview.html',\n      controller: 'ModalPreview',\n      size: 'lg',\n      resolve: {\n        file: function file() {\n          return _file;\n        }\n      }\n    });\n\n    return modal.result;\n  }\n\n  /**\n   *\n   * @param {FileListing} folder\n   * @return {Promise}\n   */\n  function previewImages(_folder) {\n    var modal = $uibModal.open({\n      windowClass: 'modal-full',\n      templateUrl: '/static/portal/scripts/angular/data_depot/modals/data-browser-service-preview-images.html',\n      controller: ['$scope', '$uibModalInstance', '$sce', 'folder', function ($scope, $uibModalInstance, $sce, folder) {\n        $scope.folder = folder;\n        var img_extensions = ['jpg', 'jpeg', 'png', 'tiff', 'gif'];\n        $scope.busy = true;\n        $scope.images = [];\n        $scope.hrefs = [];\n        $scope.carouselSettings = {\n          dots: true,\n          arrows: true,\n          lazyLoad: true,\n          event: {\n            beforeChange: function beforeChange(ev, slick, currentSlide, nextSlide) {\n              $scope.images[nextSlide].href = $scope.hrefs[nextSlide].href;\n            }\n          }\n\n        };\n        $scope.folder.children.forEach(function (file) {\n          var ext = file.path.split('.').pop().toLowerCase();\n          if (img_extensions.indexOf(ext) !== -1) {\n            $scope.hrefs.push({ href: file.agaveUrl(), file: file });\n            $scope.images.push({ file: file });\n          }\n        });\n        $scope.images[0] = $scope.hrefs[0];\n\n        if ($scope.images.length > 10) {\n          $scope.carouselSettings.dots = false;\n        }\n\n        $scope.close = function () {\n          $uibModalInstance.dismiss();\n        };\n      }],\n      size: 'lg',\n      resolve: {\n        folder: function folder() {\n          return _folder;\n        }\n      }\n    });\n\n    return modal.result;\n  }\n\n  /**\n   *\n   * @param {FileListing} file\n   * @return {Promise}\n   */\n  function rename(file) {\n    var modal = $uibModal.open({\n      templateUrl: '/static/portal/scripts/angular/data_depot/modals/data-browser-service-rename.html',\n      controller: ['$scope', '$uibModalInstance', 'file', function ($scope, $uibModalInstance, file) {\n        $scope.form = {\n          targetName: file.name\n        };\n\n        $scope.file = file;\n\n        $scope.doRenameFile = function ($event) {\n          $event.preventDefault();\n          $uibModalInstance.close({ file: file, renameTo: $scope.form.targetName });\n        };\n\n        $scope.cancel = function () {\n          $uibModalInstance.dismiss('cancel');\n        };\n      }],\n      resolve: {\n        file: file\n      }\n    });\n\n    return modal.result.then(function (result) {\n      _currentState.busy = true;\n      return result.file.rename({ name: result.renameTo }).then(function (result) {\n        _currentState.busy = false;\n        $rootScope.$broadcast('DataBrowserService::Refresh', {\n          type: 'rename',\n          context: result,\n          msg: result\n        });\n      }, function (err) {\n        _currentState.busy = false;\n      });\n    });\n  }\n\n  /**\n   *\n   * @param {FileListing|FileListing[]} files\n   * @return {Promise}\n   */\n  function rm(_files3) {\n    if (!Array.isArray(_files3)) {\n      _files3 = [_files3];\n    }\n\n    var modal = $uibModal.open({\n      templateUrl: '/static/portal/apps/data_depot/modals/data-browser-service-rm.html',\n      controller: ['$scope', '$uibModalInstance', 'files', function ($scope, $uibModalInstance, files) {\n        $scope.files = files;\n\n        $scope.confirm = function () {\n          $uibModalInstance.close(files);\n        };\n\n        $scope.cancel = function () {\n          $uibModalInstance.dismiss();\n        };\n      }],\n      resolve: {\n        files: function files() {\n          return _files3;\n        }\n      }\n    });\n\n    return modal.result.then(function (files) {\n      _currentState.busy = true;\n      var deletePromises = _.map(files, function (file) {\n        return file.rm().then(function (result) {\n          deselect([file]);\n          //notify(FileEvents.FILE_REMOVED, FileEventsMsg.FILE_REMOVED, file);\n          return result;\n        });\n      });\n      return $q.all(deletePromises).then(function (result) {\n        _currentState.busy = false;\n        return result;\n      }, function (err) {\n        _currentState.busy = false;\n      });\n    });\n  }\n\n  /**\n   * TODO\n   *\n   * @param options\n   */\n  function search(options) {\n    _currentState.busy = true;\n    _currentState.busyListing = true;\n    _currentState.error = null;\n    return FileListing.search(options, apiParams).then(function (listing) {\n      select([], true);\n      _currentState.busy = false;\n      _currentState.busyListing = false;\n      _currentState.listing = listing;\n      return listing;\n    }, function (err) {\n      _currentState.busy = false;\n      _currentState.busyListing = false;\n      _currentState.listing = null;\n      _currentState.error = err.data;\n    });\n  }\n\n  /**\n   * Update sharing permissions on a file.\n   *\n   * @param {FileListing} file\n   * @return {*}\n   */\n  function share(_file2) {\n    var modal = $uibModal.open({\n      templateUrl: '/static/portal/apps/data_depot/modals/data-browser-service-share.html',\n      controller: ['$scope', '$uibModalInstance', 'Django', 'file', function ($scope, $uibModalInstance, Django, file) {\n        $scope.data = {\n          busy: true,\n          file: file,\n          currentUser: Django.user,\n          permissionOptions: [{ permission: 'READ', label: 'Read Only' }, { permission: 'READ_WRITE', label: 'Read/Write' }, { permission: 'ALL', label: 'All' }, { permission: 'NONE', label: 'None (Revoke Permission)' }]\n        };\n\n        $scope.form = {\n          currentPermissions: [],\n          addPermissions: [{\n            username: null,\n            permission: $scope.data.permissionOptions[0]\n          }]\n        };\n\n        file.listPermissions().then(function (result) {\n          $scope.form.currentPermissions = _.chain(result).reject(function (pem) {\n            return pem.username === 'ds_admin' || pem.username === Django.user;\n          }).map(function (pem) {\n            if (pem.permission.read) {\n              if (pem.permission.write) {\n                if (pem.permission.execute) {\n                  pem.permission = $scope.data.permissionOptions[2];\n                } else {\n                  pem.permission = $scope.data.permissionOptions[1];\n                }\n              } else {\n                pem.permission = $scope.data.permissionOptions[0];\n              }\n            } else {\n              pem.permission = $scope.data.permissionOptions[3];\n            }\n            return pem;\n          }).value();\n          $scope.form.initialPermissions = angular.copy($scope.form.currentPermissions);\n          $scope.data.busy = false;\n        }, function (errResp) {\n          $scope.data.busy = false;\n          $scope.data.errorMessage = errResp.data;\n        });\n\n        $scope.formatSelection = function () {\n          if (this.pem.username) {\n            return this.pem.username.first_name + ' ' + this.pem.username.last_name + ' (' + this.pem.username.username + ')';\n          }\n        };\n\n        $scope.addNewPermission = function () {\n          $scope.form.addPermissions.push({ username: null, permission: $scope.data.permissionOptions[0] });\n        };\n\n        $scope.doShareFiles = function ($event) {\n          $event.preventDefault();\n\n          var pemsToSave = [];\n\n          // Only save existing permissions if the permission changed\n          _.each($scope.form.currentPermissions, function (pem) {\n            var prev = _.findWhere($scope.form.initialPermissions, { username: pem.username });\n            if (prev.permission.permission !== pem.permission.permission) {\n              pemsToSave.push({ username: pem.username, permission: pem.permission.permission });\n            }\n          });\n\n          // Format new permissions\n          var addPems = _.filter($scope.form.addPermissions, function (pem) {\n            return pem.username;\n          });\n          Array.prototype.push.apply(pemsToSave, _.map(addPems, function (pem) {\n            return {\n              username: pem.username.username,\n              permission: pem.permission.permission\n            };\n          }));\n\n          // Resolve modal with pems that need to be saved\n          $uibModalInstance.close(pemsToSave);\n        };\n\n        $scope.cancel = function () {\n          $uibModalInstance.dismiss('cancel');\n        };\n      }],\n      size: 'lg',\n      resolve: {\n        file: function file() {\n          return _file2;\n        }\n      }\n    });\n\n    return modal.result.then(function (pemsToSave) {\n      _currentState.busy = true;\n      var sharePromises = _.map(pemsToSave, function (pem) {\n        return _file2.share(pem);\n      });\n      return $q.all(sharePromises).then(function (results) {\n        _currentState.busy = false;\n        return results;\n      });\n    });\n  }\n\n  /**\n   *\n   * @param {FileListing|FileListing[]} files The files to move to Trash\n   * @return {Promise} A promise that is resolved with the trashed files when _all_ files have been\n   * successfully Trashed.\n   */\n  function trash(files) {\n    if (!Array.isArray(files)) {\n      files = [files];\n    }\n\n    _currentState.busy = true;\n    var trashPromises = _.map(files, function (file) {\n      return file.trash().then(function (trashed) {\n        //notify(FileEvents.FILE_MOVED, FileEventsMsg.FILE_MOVED, trashed);\n        return trashed;\n      });\n    });\n    return $q.all(trashPromises).then(function (val) {\n      _currentState.busy = false;\n      browse(_currentState.listing, apiParams);\n      return val;\n    }, function (err) {\n      _currentState.busy = false;\n    });\n  }\n\n  function _trashPath() {\n    if (_currentState.listing && _currentState.listing.system) {\n      switch (_currentState.listing.system) {\n        case 'designsafe.storage.default':\n          return ['', Django.user, '.Trash'].join('/');\n        case 'designsafe.storage.projects':\n          var projectDir = _currentState.listing.path.split('/')[1];\n          return ['', projectDir, '.Trash'].join('/');\n        default:\n          return undefined;\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * Upload files or folders to the currently listed destination\n   *\n   * @param {boolean} directoryUpload\n   * @param {FileList} [files] Initial selected file(s) to upload\n   */\n  function upload(_directoryUpload, _files4) {\n    var modal = $uibModal.open({\n      templateUrl: '/static/portal/apps/data_depot/modals/data-browser-service-upload.html',\n      controller: 'ModalUpload',\n      size: 'lg',\n      resolve: {\n        directoryUpload: function directoryUpload() {\n          return _directoryUpload;\n        },\n        destination: function destination() {\n          return _currentState.listing;\n        },\n        files: function files() {\n          return _files4;\n        },\n        currentState: function currentState() {\n          return _currentState;\n        }\n      }\n    });\n  }\n\n  /**\n   * Open Preview Tree\n   */\n  function openPreviewTree(entityUuid) {\n    var template = '/static/portal/apps/data_depot/modals/data-browser-preview-tree.html';\n    var modal = $uibModal.open({\n      templateUrl: template,\n      controller: ['$uibModalInstance', '$scope', function ($uibModalInstance, $scope) {\n        $scope.data = {};\n        $scope.data.entityUuid = entityUuid;\n        $scope.data.project = _currentState.project;\n\n        $scope.cancel = function () {\n          $uibModalInstance.dismiss('cancel');\n        };\n      }]\n    });\n  }\n\n  /**\n   * TODO\n   *\n   * @param {FileListing} file The file to view metadata for\n   * @return {HttpPromise}\n   */\n  function viewCategories(files, listing) {\n    var template = '/static/portal/apps/data_depot/modals/data-browser-service-categories.html';\n    var _file3 = null;\n    if (typeof files !== 'undefined') {\n      _file3 = files[0];\n    }\n    var modal = $uibModal.open({\n      templateUrl: template,\n      controller: 'ModalViewCategories',\n      size: 'lg',\n      resolve: {\n        'file': function file() {\n          return _file3;\n        },\n        'form': function form() {\n          return { metadataTags: '' };\n        }\n      }\n    });\n\n    return modal.result.then(function (data) {\n      var file = data.file;\n      var form = data.form;\n      var metaObj = {\n        keywords: file.keywords || []\n      };\n      if (form.metadataTags) {\n        metaObj.keywords = metaObj.keywords.concat(form.metadataTags.split(','));\n      }\n      if (form.tagsToDelete.length) {\n        metaObj.keywords = metaObj.keywords.filter(function (value) {\n          return form.tagsToDelete.indexOf(value) < 0;\n        });\n      }\n      _currentState.busy = true;\n      file.updateMeta({ 'metadata': metaObj }).then(function (file_resp) {\n        //notify(FileEvents.FILE_META_UPDATED, FileEventsMsg.FILE_META_UPDATED, file_resp);\n        _currentState.busy = false;\n      });\n    });\n  }\n\n  /**\n   * TODO\n   *\n   * @param {FileListing} file The file to view metadata for\n   * @return {HttpPromise}\n   */\n  function viewMetadata(files, listing) {\n    var template = '/static/portal/apps/data_depot/modals/data-browser-service-custom-tags.html';\n    var _file4 = null;\n    if (typeof files !== 'undefined') {\n      _file4 = files[0];\n    }\n    if (typeof _file4 !== 'undefined' && typeof _file4.metadata !== 'undefined' && _file4.metadata.project !== 'undefined') {\n      template = '/static/portal/apps/data_depot/modals/data-browser-service-published-metadata.html';\n    }\n    var modal = $uibModal.open({\n      templateUrl: template,\n      controller: 'ModalViewMetadata',\n      size: 'lg',\n      resolve: {\n        'file': function file() {\n          return _file4;\n        },\n        'form': function form() {\n          return { metadataTags: '' };\n        }\n      }\n    });\n\n    return modal.result.then(function (data) {\n      var file = data.file;\n      var form = data.form;\n      var metaObj = {\n        keywords: file.keywords || []\n      };\n      if (form.metadataTags) {\n        metaObj.keywords = metaObj.keywords.concat(form.metadataTags.split(','));\n      }\n      if (form.tagsToDelete.length) {\n        metaObj.keywords = metaObj.keywords.filter(function (value) {\n          return form.tagsToDelete.indexOf(value) < 0;\n        });\n      }\n      _currentState.busy = true;\n      file.updateMeta({ 'metadata': metaObj }).then(function (file_resp) {\n        //notify(FileEvents.FILE_META_UPDATED, FileEventsMsg.FILE_META_UPDATED, file_resp);\n        _currentState.busy = false;\n      });\n    });\n  }\n\n  /**\n   * @callback subscribeCallback\n   * @param {object} $event\n   * @param {object} eventData\n   * @param {FileEvents} eventData.type\n   * @param {object} eventData.context\n   */\n  /**\n   *\n   * @param {object} scope\n   * @param {subscribeCallback} callback\n   */\n  function subscribe(scope, callback) {\n    var handler = $rootScope.$on('DataBrowserService::Event', callback);\n    scope.$on('$destroy', handler);\n  }\n\n  /**\n   *\n   * @param {FileEvents} eventType The event\n   * @param {object} eventContext The object/context of the event. The value of this parameter depends on the `eventType`\n   */\n  function notify(eventType, eventMsg, eventContext) {\n    $rootScope.$emit('DataBrowserService::Event', {\n      type: eventType,\n      context: eventContext,\n      msg: eventMsg\n    });\n  }\n\n  function scrollToTop() {\n    return;\n  }\n\n  function scrollToBottom() {\n    if (_currentState.loadingMore || _currentState.reachedEnd) {\n      return;\n    }\n    _currentState.loadingMore = true;\n    if (_currentState.listing && _currentState.listing.children && _currentState.listing.children.length < 95) {\n      _currentState.reachedEnd = true;\n      return;\n    }\n    _currentState.page += 1;\n    _currentState.loadingMore = true;\n    browsePage({ system: _currentState.listing.system,\n      path: _currentState.listing.path,\n      page: _currentState.page }).then(function (listing) {\n      _currentState.loadingMore = false;\n      if (listing.children.length < 95) {\n        _currentState.reachedEnd = true;\n      }\n    }, function (err) {\n      _currentState.loadingMore = false;\n      _currentState.reachedEnd = true;\n    });\n  }\n\n  return {\n    /* properties */\n    FileEvents: FileEvents,\n    state: state,\n    apiParameters: apiParameters,\n    toolbarOptions: toolbarOptions,\n\n    /* data/files functions */\n    allowedActions: allowedActions,\n    browse: browse,\n    browsePage: browsePage,\n    scrollToTop: scrollToTop,\n    scrollToBottom: scrollToBottom,\n    copy: copy,\n    deselect: deselect,\n    // details: details,\n    download: download,\n    getFileManagers: getFileManagers,\n    hasPermission: hasPermission,\n    isProtected: isProtected,\n    mkdir: mkdir,\n    move: move,\n    preview: preview,\n    previewImages: previewImages,\n    rename: rename,\n    rm: rm,\n    search: search,\n    select: select,\n    share: share,\n    trash: trash,\n    upload: upload,\n    viewMetadata: viewMetadata,\n    viewCategories: viewCategories,\n\n    /* events */\n    subscribe: subscribe,\n    notify: notify,\n    apiParams: apiParams,\n    toolbarOpts: toolbarOpts,\n    showListing: showListing,\n    showPreview: showPreview,\n    openPreviewTree: openPreviewTree\n  };\n};\n\nexports.default = DataBrowserService;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9zZXJ2aWNlcy9kYXRhLWJyb3dzZXItc2VydmljZS5qcz9mM2I5Il0sIm5hbWVzIjpbIkRhdGFCcm93c2VyU2VydmljZSIsIiRyb290U2NvcGUiLCIkaHR0cCIsIiRxIiwiJHRpbWVvdXQiLCIkdWliTW9kYWwiLCIkc3RhdGUiLCJEamFuZ28iLCJGaWxlTGlzdGluZyIsImN1cnJlbnRTdGF0ZSIsImJ1c3kiLCJidXN5TGlzdGluZyIsImVycm9yIiwibGlzdGluZyIsInNlbGVjdGVkIiwibG9hZGluZ01vcmUiLCJyZWFjaGVkRW5kIiwicGFnZSIsInNob3dNYWluTGlzdGluZyIsInNob3dQcmV2aWV3TGlzdGluZyIsInVpIiwiYXBpUGFyYW1zIiwiZmlsZU1nciIsImJhc2VVcmwiLCJ0b29sYmFyT3B0cyIsImN1cnJlbnRCcm93c2VSZXF1ZXN0IiwiRmlsZUV2ZW50cyIsIkZJTEVfQURERUQiLCJGSUxFX0NPUElFRCIsIkZJTEVfTU9WRUQiLCJGSUxFX1JFTU9WRUQiLCJGSUxFX1NFTEVDVElPTiIsIkZJTEVfTUVUQV9VUERBVEVEIiwiRmlsZUV2ZW50c01zZyIsInRvb2xiYXJPcHRpb25zIiwiZ2V0IiwidGhlbiIsInJlc3AiLCJ0cmFzaF9lbmFibGVkIiwiZGF0YSIsInJlc3BvbnNlIiwic2hhcmVfZW5hYmxlZCIsInByZXZpZXdfZW5hYmxlZCIsInByZXZpZXdfaW1hZ2VzX2VuYWJsZWQiLCJjb3B5X2VuYWJsZWQiLCJtb3ZlX2VuYWJsZWQiLCJyZW5hbWVfZW5hYmxlZCIsInRhZ19lbmFibGVkIiwiY29uc29sZSIsImxvZyIsImFwaVBhcmFtZXRlcnMiLCJzdGF0ZSIsInNlbGVjdCIsImZpbGVzIiwicmVzZXQiLCJkZXNlbGVjdCIsIl8iLCJlYWNoIiwiZiIsIl91aSIsInVuaW9uIiwibm90aWZ5IiwiZGlmZmVyZW5jZSIsImFsbG93ZWRBY3Rpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwidGVzdHMiLCJjYW5Eb3dubG9hZCIsImxlbmd0aCIsImhhc1Blcm1pc3Npb24iLCJjb250YWluc0ZvbGRlciIsImNhblByZXZpZXciLCJjYW5QcmV2aWV3SW1hZ2VzIiwiY2FuVmlld01ldGFkYXRhIiwiY2FuU2hhcmUiLCJjdXJyZW50IiwibmFtZSIsImNhbkNvcHkiLCJjYW5Nb3ZlIiwiY29uY2F0IiwiY2FuUmVuYW1lIiwiY2FuVmlld0NhdGVnb3JpZXMiLCJ0cmFzaFBhdGgiLCJfdHJhc2hQYXRoIiwiY2FuVHJhc2giLCJwYXRoIiwic29tZSIsInNlbCIsImlzUHJvdGVjdGVkIiwiY2FuRGVsZXRlIiwic2hvd0xpc3RpbmciLCJzaG93UHJldmlldyIsImJyb3dzZSIsIm9wdGlvbnMiLCJzdG9wcGVyIiwicmVzb2x2ZSIsImJ1c3lMaXN0aW5nUGFnZSIsImVyciIsInN0YXR1cyIsImJyb3dzZVBhZ2UiLCJsaW1pdCIsIm9mZnNldCIsInBhcmFtcyIsImNoaWxkcmVuIiwiY29weSIsIm1vZGFsIiwib3BlbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInJlc3VsdCIsImNvcHlQcm9taXNlcyIsIm1hcCIsInN5c3RlbSIsInJlc291cmNlIiwiYWxsIiwicmVzdWx0cyIsImRvd25sb2FkIiwiZG93bmxvYWRfcHJvbWlzZXMiLCJmaWxlIiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsInNldEF0dHJpYnV0ZSIsImhyZWYiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJlbW92ZUNoaWxkIiwiZ2V0RmlsZU1hbmFnZXJzIiwiZm9sZGVycyIsImZpbHRlciIsInR5cGUiLCJwZXJtaXNzaW9uIiwicmVkdWNlIiwibWVtbyIsInBlbSIsInBlcm1pc3Npb25zIiwiaW5kZXhPZiIsInRyYWlsIiwibWtkaXIiLCIkc2NvcGUiLCIkdWliTW9kYWxJbnN0YW5jZSIsImZvcm0iLCJmb2xkZXJOYW1lIiwiZG9DcmVhdGVGb2xkZXIiLCIkZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImNsb3NlIiwiY2FuY2VsIiwiZGlzbWlzcyIsIm5ld0RpciIsIm1vdmUiLCJpbml0aWFsRGVzdGluYXRpb24iLCJtb3ZlUHJvbWlzZXMiLCJwcmV2aWV3Iiwic2l6ZSIsInByZXZpZXdJbWFnZXMiLCJmb2xkZXIiLCJ3aW5kb3dDbGFzcyIsIiRzY2UiLCJpbWdfZXh0ZW5zaW9ucyIsImltYWdlcyIsImhyZWZzIiwiY2Fyb3VzZWxTZXR0aW5ncyIsImRvdHMiLCJhcnJvd3MiLCJsYXp5TG9hZCIsImV2ZW50IiwiYmVmb3JlQ2hhbmdlIiwiZXYiLCJzbGljayIsImN1cnJlbnRTbGlkZSIsIm5leHRTbGlkZSIsImZvckVhY2giLCJleHQiLCJzcGxpdCIsInBvcCIsInRvTG93ZXJDYXNlIiwicHVzaCIsImFnYXZlVXJsIiwicmVuYW1lIiwidGFyZ2V0TmFtZSIsImRvUmVuYW1lRmlsZSIsInJlbmFtZVRvIiwiJGJyb2FkY2FzdCIsImNvbnRleHQiLCJtc2ciLCJybSIsImNvbmZpcm0iLCJkZWxldGVQcm9taXNlcyIsInNlYXJjaCIsInNoYXJlIiwiY3VycmVudFVzZXIiLCJ1c2VyIiwicGVybWlzc2lvbk9wdGlvbnMiLCJsYWJlbCIsImN1cnJlbnRQZXJtaXNzaW9ucyIsImFkZFBlcm1pc3Npb25zIiwidXNlcm5hbWUiLCJsaXN0UGVybWlzc2lvbnMiLCJjaGFpbiIsInJlamVjdCIsInJlYWQiLCJ3cml0ZSIsImV4ZWN1dGUiLCJ2YWx1ZSIsImluaXRpYWxQZXJtaXNzaW9ucyIsImFuZ3VsYXIiLCJlcnJSZXNwIiwiZXJyb3JNZXNzYWdlIiwiZm9ybWF0U2VsZWN0aW9uIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsImFkZE5ld1Blcm1pc3Npb24iLCJkb1NoYXJlRmlsZXMiLCJwZW1zVG9TYXZlIiwicHJldiIsImZpbmRXaGVyZSIsImFkZFBlbXMiLCJwcm90b3R5cGUiLCJhcHBseSIsInNoYXJlUHJvbWlzZXMiLCJ0cmFzaCIsInRyYXNoUHJvbWlzZXMiLCJ0cmFzaGVkIiwidmFsIiwiam9pbiIsInByb2plY3REaXIiLCJ1bmRlZmluZWQiLCJ1cGxvYWQiLCJkaXJlY3RvcnlVcGxvYWQiLCJkZXN0aW5hdGlvbiIsIm9wZW5QcmV2aWV3VHJlZSIsImVudGl0eVV1aWQiLCJ0ZW1wbGF0ZSIsInByb2plY3QiLCJ2aWV3Q2F0ZWdvcmllcyIsIm1ldGFkYXRhVGFncyIsIm1ldGFPYmoiLCJrZXl3b3JkcyIsInRhZ3NUb0RlbGV0ZSIsInVwZGF0ZU1ldGEiLCJmaWxlX3Jlc3AiLCJ2aWV3TWV0YWRhdGEiLCJtZXRhZGF0YSIsInN1YnNjcmliZSIsInNjb3BlIiwiY2FsbGJhY2siLCJoYW5kbGVyIiwiJG9uIiwiZXZlbnRUeXBlIiwiZXZlbnRNc2ciLCJldmVudENvbnRleHQiLCIkZW1pdCIsInNjcm9sbFRvVG9wIiwic2Nyb2xsVG9Cb3R0b20iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsU0FBU0Esa0JBQVQsQ0FBNEJDLFVBQTVCLEVBQXdDQyxLQUF4QyxFQUErQ0MsRUFBL0MsRUFBbURDLFFBQW5ELEVBQTZEQyxTQUE3RCxFQUF3RUMsTUFBeEUsRUFBZ0ZDLE1BQWhGLEVBQXdGQyxXQUF4RixFQUFxRztBQUNuRzs7QUFFQTs7OztBQUdBLE1BQUlDLGdCQUFlO0FBQ2pCQyxVQUFNLEtBRFc7QUFFakJDLGlCQUFhLEtBRkk7QUFHakJDLFdBQU8sSUFIVTtBQUlqQkMsYUFBUyxJQUpRO0FBS2pCQyxjQUFVLEVBTE87QUFNakJDLGlCQUFhLEtBTkk7QUFPakJDLGdCQUFZLEtBUEs7QUFRakJDLFVBQU0sQ0FSVztBQVNqQkMscUJBQWlCLElBVEE7QUFVakJDLHdCQUFvQixLQVZIO0FBV2pCQyxRQUFJO0FBWGEsR0FBbkI7O0FBY0EsTUFBSUMsWUFBWTtBQUNkQyxhQUFVLE9BREk7QUFFZEMsYUFBVTtBQUZJLEdBQWhCOztBQUtBLE1BQUlDLGNBQWMsRUFBbEI7QUFDQSxNQUFJQyx1QkFBdUIsSUFBM0I7QUFDQTs7Ozs7O0FBTUEsTUFBSUMsYUFBYTtBQUNmQyxnQkFBWSxXQURHO0FBRWZDLGlCQUFhLFlBRkU7QUFHZkMsZ0JBQVksV0FIRztBQUlmQyxrQkFBYyxhQUpDO0FBS2ZDLG9CQUFnQixlQUxEO0FBTWZDLHVCQUFtQjtBQU5KLEdBQWpCOztBQVNBOzs7Ozs7QUFNQSxNQUFJQyxnQkFBZ0I7QUFDbEJOLGdCQUFZLHNCQURNO0FBRWxCQyxpQkFBYSx1QkFGSztBQUdsQkMsZ0JBQVksc0JBSE07QUFJbEJDLGtCQUFjLHVCQUpJO0FBS2xCQyxvQkFBZ0IsOEJBTEU7QUFNbEJDLHVCQUFtQjtBQU5ELEdBQXBCOztBQVNBO0FBQ0EsV0FBU0UsY0FBVCxHQUEwQjtBQUN4QmhDLFVBQU1pQyxHQUFOLENBQVUsZ0NBQVYsRUFDR0MsSUFESCxDQUNRLFVBQVNDLElBQVQsRUFBZTtBQUNqQixVQUFJYixjQUFjO0FBQ2hCYyx1QkFBZUQsS0FBS0UsSUFBTCxDQUFVQyxRQUFWLENBQW1CRixhQURsQjtBQUVoQkcsdUJBQWVKLEtBQUtFLElBQUwsQ0FBVUMsUUFBVixDQUFtQkMsYUFGbEI7QUFHaEJDLHlCQUFpQkwsS0FBS0UsSUFBTCxDQUFVQyxRQUFWLENBQW1CRSxlQUhwQjtBQUloQkMsZ0NBQXdCTixLQUFLRSxJQUFMLENBQVVDLFFBQVYsQ0FBbUJHLHNCQUozQjtBQUtoQkMsc0JBQWNQLEtBQUtFLElBQUwsQ0FBVUMsUUFBVixDQUFtQkksWUFMakI7QUFNaEJDLHNCQUFjUixLQUFLRSxJQUFMLENBQVVDLFFBQVYsQ0FBbUJLLFlBTmpCO0FBT2hCQyx3QkFBZ0JULEtBQUtFLElBQUwsQ0FBVUMsUUFBVixDQUFtQk0sY0FQbkI7QUFRaEJDLHFCQUFhVixLQUFLRSxJQUFMLENBQVVDLFFBQVYsQ0FBbUJPO0FBUmhCLE9BQWxCO0FBVUEsYUFBT3ZCLFdBQVA7QUFDRCxLQWJMLEVBY0ksVUFBU1osS0FBVCxFQUFnQjtBQUNkb0MsY0FBUUMsR0FBUixDQUFZLGlCQUFaLEVBQStCckMsS0FBL0I7QUFDRCxLQWhCTDtBQWlCRDs7QUFFRDs7O0FBR0EsV0FBU3NDLGFBQVQsR0FBd0I7QUFDdEIsV0FBTzdCLFNBQVA7QUFDRDs7QUFFRDs7Ozs7QUFLQSxXQUFTOEIsS0FBVCxHQUFpQjtBQUNmLFdBQU8xQyxhQUFQO0FBQ0Q7O0FBR0Q7Ozs7O0FBS0EsV0FBUzJDLE1BQVQsQ0FBZ0JDLEtBQWhCLEVBQXVCQyxLQUF2QixFQUE4QjtBQUM1QixRQUFJQSxLQUFKLEVBQVc7QUFDVEMsZUFBUzlDLGNBQWFLLFFBQXRCO0FBQ0Q7QUFDRDBDLE1BQUVDLElBQUYsQ0FBT0osS0FBUCxFQUFjLFVBQVNLLENBQVQsRUFBWTtBQUN4QkEsUUFBRUMsR0FBRixHQUFRRCxFQUFFQyxHQUFGLElBQVMsRUFBakI7QUFDQUQsUUFBRUMsR0FBRixDQUFNN0MsUUFBTixHQUFpQixJQUFqQjtBQUNELEtBSEQ7QUFJQUwsa0JBQWFLLFFBQWIsR0FBd0IwQyxFQUFFSSxLQUFGLENBQVFuRCxjQUFhSyxRQUFyQixFQUErQnVDLEtBQS9CLENBQXhCO0FBQ0FRLFdBQU9uQyxXQUFXSyxjQUFsQixFQUFrQ0UsY0FBY0YsY0FBaEQsRUFDT3RCLGNBQWFLLFFBRHBCO0FBRUQ7O0FBR0Q7Ozs7QUFJQSxXQUFTeUMsUUFBVCxDQUFrQkYsS0FBbEIsRUFBeUI7QUFDdkJHLE1BQUVDLElBQUYsQ0FBT0osS0FBUCxFQUFjLFVBQVNLLENBQVQsRUFBWTtBQUN4QkEsUUFBRUMsR0FBRixHQUFRRCxFQUFFQyxHQUFGLElBQVMsRUFBakI7QUFDQUQsUUFBRUMsR0FBRixDQUFNN0MsUUFBTixHQUFpQixLQUFqQjtBQUNELEtBSEQ7QUFJQUwsa0JBQWFLLFFBQWIsR0FBd0IwQyxFQUFFTSxVQUFGLENBQWFyRCxjQUFhSyxRQUExQixFQUFvQ3VDLEtBQXBDLENBQXhCO0FBQ0FRLFdBQU9uQyxXQUFXSyxjQUFsQixFQUFrQ0UsY0FBY0YsY0FBaEQsRUFDT3RCLGNBQWFLLFFBRHBCO0FBRUQ7O0FBR0Q7Ozs7OztBQU1BLFdBQVNpRCxjQUFULENBQXlCVixLQUF6QixFQUFnQztBQUM5QixRQUFJLENBQUVXLE1BQU1DLE9BQU4sQ0FBY1osS0FBZCxDQUFOLEVBQTRCO0FBQzFCQSxjQUFRLENBQUNBLEtBQUQsQ0FBUjtBQUNEO0FBQ0QsUUFBSWEsUUFBUSxFQUFaO0FBQ0FBLFVBQU1DLFdBQU4sR0FBb0JkLE1BQU1lLE1BQU4sSUFBZ0IsQ0FBaEIsSUFBcUJDLGNBQWMsTUFBZCxFQUFzQmhCLEtBQXRCLENBQXJCLElBQXFELENBQUNpQixlQUFlakIsS0FBZixDQUExRTtBQUNBYSxVQUFNSyxVQUFOLEdBQW1CbEIsTUFBTWUsTUFBTixLQUFpQixDQUFqQixJQUFzQkMsY0FBYyxNQUFkLEVBQXNCaEIsS0FBdEIsQ0FBekM7QUFDQWEsVUFBTU0sZ0JBQU4sR0FBeUJuQixNQUFNZSxNQUFOLElBQWdCLENBQWhCLElBQXFCQyxjQUFjLE1BQWQsRUFBc0JoQixLQUF0QixDQUE5QztBQUNBYSxVQUFNTyxlQUFOLEdBQXdCcEIsTUFBTWUsTUFBTixJQUFnQixDQUFoQixJQUFxQkMsY0FBYyxNQUFkLEVBQXNCaEIsS0FBdEIsQ0FBN0M7QUFDQWEsVUFBTVEsUUFBTixHQUFpQnJCLE1BQU1lLE1BQU4sS0FBaUIsQ0FBakIsSUFBc0I5RCxPQUFPcUUsT0FBUCxDQUFlQyxJQUFmLEtBQXdCLFFBQS9EO0FBQ0FWLFVBQU1XLE9BQU4sR0FBZ0J4QixNQUFNZSxNQUFOLElBQWdCLENBQWhCLElBQXFCQyxjQUFjLE1BQWQsRUFBc0JoQixLQUF0QixDQUFyQztBQUNBYSxVQUFNWSxPQUFOLEdBQWdCekIsTUFBTWUsTUFBTixJQUFnQixDQUFoQixJQUFxQkMsY0FBYyxPQUFkLEVBQXVCLENBQUM1RCxjQUFhSSxPQUFkLEVBQXVCa0UsTUFBdkIsQ0FBOEIxQixLQUE5QixDQUF2QixDQUFyQixJQUFzRi9DLE9BQU9xRSxPQUFQLENBQWVDLElBQWYsS0FBd0IsYUFBeEIsSUFBeUN0RSxPQUFPcUUsT0FBUCxDQUFlQyxJQUFmLEtBQXdCLFNBQXZLO0FBQ0FWLFVBQU1jLFNBQU4sR0FBa0IzQixNQUFNZSxNQUFOLEtBQWlCLENBQWpCLElBQXNCQyxjQUFjLE9BQWQsRUFBdUIsQ0FBQzVELGNBQWFJLE9BQWQsRUFBdUJrRSxNQUF2QixDQUE4QjFCLEtBQTlCLENBQXZCLENBQXhDO0FBQ0FhLFVBQU1lLGlCQUFOLEdBQTBCNUIsTUFBTWUsTUFBTixJQUFlLENBQWYsSUFBb0JDLGNBQWMsT0FBZCxFQUF1QmhCLEtBQXZCLENBQTlDOztBQUVBLFFBQUk2QixZQUFZQyxZQUFoQjtBQUNBakIsVUFBTWtCLFFBQU4sR0FBaUIsQ0FBQzlFLE9BQU9xRSxPQUFQLENBQWVDLElBQWYsS0FBd0IsV0FBeEIsSUFBdUN0RSxPQUFPcUUsT0FBUCxDQUFlQyxJQUFmLEtBQXdCLHVCQUFoRSxLQUE0RnZCLE1BQU1lLE1BQU4sSUFBZ0IsQ0FBNUcsSUFBaUgzRCxjQUFhSSxPQUFiLENBQXFCd0UsSUFBckIsS0FBOEJILFNBQS9JLElBQTRKLENBQUUxQixFQUFFOEIsSUFBRixDQUFPakMsS0FBUCxFQUFjLFVBQVNrQyxHQUFULEVBQWM7QUFBRSxhQUFPQyxZQUFZRCxHQUFaLENBQVA7QUFBMEIsS0FBeEQsQ0FBL0s7QUFDQXJCLFVBQU11QixTQUFOLEdBQWtCbkYsT0FBT3FFLE9BQVAsQ0FBZUMsSUFBZixLQUF3QixXQUF4QixJQUF1Q3ZCLE1BQU1lLE1BQU4sSUFBZ0IsQ0FBdkQsSUFBNEQzRCxjQUFhSSxPQUFiLENBQXFCd0UsSUFBckIsS0FBOEJILFNBQTVHOztBQUVBLFdBQU9oQixLQUFQO0FBQ0Q7O0FBRUQsV0FBU3dCLFdBQVQsR0FBc0I7QUFDcEJqRixrQkFBYVMsZUFBYixHQUErQixJQUEvQjtBQUNBVCxrQkFBYVUsa0JBQWIsR0FBa0MsS0FBbEM7QUFDRDs7QUFFRCxXQUFTd0UsV0FBVCxHQUFzQjtBQUNwQmxGLGtCQUFhUyxlQUFiLEdBQStCLEtBQS9CO0FBQ0FULGtCQUFhVSxrQkFBYixHQUFrQyxJQUFsQztBQUNEOztBQUVEOzs7Ozs7QUFNQSxXQUFTeUUsTUFBVCxDQUFpQkMsT0FBakIsRUFBMEI7QUFDeEI7QUFDQSxRQUFJcEUsb0JBQUosRUFBMEI7QUFDeEJBLDJCQUFxQnFFLE9BQXJCLENBQTZCQyxPQUE3QjtBQUNBdEUsNkJBQXVCLElBQXZCO0FBQ0E7QUFDRDtBQUNEaEIsa0JBQWFDLElBQWIsR0FBb0IsSUFBcEI7QUFDQUQsa0JBQWFFLFdBQWIsR0FBMkIsSUFBM0I7QUFDQUYsa0JBQWFHLEtBQWIsR0FBcUIsSUFBckI7QUFDQUgsa0JBQWFNLFdBQWIsR0FBMkIsSUFBM0I7QUFDQU4sa0JBQWFPLFVBQWIsR0FBMEIsS0FBMUI7QUFDQVAsa0JBQWF1RixlQUFiLEdBQStCLEtBQS9CO0FBQ0F2RixrQkFBYVEsSUFBYixHQUFvQixDQUFwQjtBQUNBUSwyQkFBd0JqQixZQUFZMkIsR0FBWixDQUFnQjBELE9BQWhCLEVBQXlCeEUsU0FBekIsQ0FBeEI7O0FBRUFJLHlCQUFxQlcsSUFBckIsQ0FBMEIsVUFBVXZCLE9BQVYsRUFBbUI7QUFDM0N1QyxhQUFPLEVBQVAsRUFBVyxJQUFYO0FBQ0EzQyxvQkFBYUMsSUFBYixHQUFvQixLQUFwQjtBQUNBRCxvQkFBYUUsV0FBYixHQUEyQixLQUEzQjtBQUNBRixvQkFBYU0sV0FBYixHQUEyQixLQUEzQjtBQUNBTixvQkFBYU8sVUFBYixHQUEwQixLQUExQjtBQUNBUCxvQkFBYUksT0FBYixHQUF1QkEsT0FBdkI7QUFDQSxhQUFPQSxPQUFQO0FBQ0QsS0FSRCxFQVFHLFVBQVVvRixHQUFWLEVBQWU7QUFDaEI7QUFDQSxVQUFJQSxJQUFJQyxNQUFKLElBQWMsQ0FBQyxDQUFuQixFQUFzQjtBQUNwQnpGLHNCQUFhRSxXQUFiLEdBQTJCLElBQTNCO0FBQ0FGLHNCQUFhQyxJQUFiLEdBQW9CLElBQXBCO0FBQ0QsT0FIRCxNQUdPO0FBQ0xELHNCQUFhQyxJQUFiLEdBQW9CLEtBQXBCO0FBQ0FELHNCQUFhRSxXQUFiLEdBQTJCLEtBQTNCO0FBQ0Q7QUFDREYsb0JBQWFJLE9BQWIsR0FBdUIsSUFBdkI7QUFDQUosb0JBQWFHLEtBQWIsR0FBcUJxRixHQUFyQjtBQUNBeEYsb0JBQWFNLFdBQWIsR0FBMkIsS0FBM0I7QUFDQU4sb0JBQWFPLFVBQWIsR0FBMEIsS0FBMUI7QUFDQSxhQUFPaUYsR0FBUDtBQUNELEtBdEJEO0FBdUJBLFdBQU94RSxvQkFBUDtBQUNEOztBQUVEOzs7Ozs7O0FBT0EsV0FBUzBFLFVBQVQsQ0FBcUJOLE9BQXJCLEVBQThCO0FBQzVCcEYsa0JBQWFDLElBQWIsR0FBb0IsSUFBcEI7QUFDQUQsa0JBQWF1RixlQUFiLEdBQStCLElBQS9CO0FBQ0F2RixrQkFBYUcsS0FBYixHQUFxQixJQUFyQjtBQUNBLFFBQUl3RixRQUFRLEdBQVo7QUFDQSxRQUFJQyxTQUFTLENBQWI7QUFDQSxRQUFJUixRQUFRNUUsSUFBWixFQUFpQjtBQUNmb0YsZ0JBQVVELFFBQVFQLFFBQVE1RSxJQUExQjtBQUNEO0FBQ0QsUUFBSXFGLFNBQVMsRUFBQ0YsT0FBT0EsS0FBUixFQUFlQyxRQUFRQSxNQUF2QixFQUFiO0FBQ0EsV0FBTzdGLFlBQVkyQixHQUFaLENBQWdCMEQsT0FBaEIsRUFBeUJ4RSxTQUF6QixFQUFvQ2lGLE1BQXBDLEVBQTRDbEUsSUFBNUMsQ0FBaUQsVUFBVXZCLE9BQVYsRUFBbUI7QUFDekV1QyxhQUFPLEVBQVAsRUFBVyxJQUFYO0FBQ0EzQyxvQkFBYUMsSUFBYixHQUFvQixLQUFwQjtBQUNBRCxvQkFBYXVGLGVBQWIsR0FBK0IsS0FBL0I7QUFDQXZGLG9CQUFhSSxPQUFiLENBQXFCMEYsUUFBckIsR0FBZ0M5RixjQUFhSSxPQUFiLENBQXFCMEYsUUFBckIsQ0FBOEJ4QixNQUE5QixDQUFxQ2xFLFFBQVEwRixRQUE3QyxDQUFoQztBQUNBLGFBQU8xRixPQUFQO0FBQ0QsS0FOTSxFQU1KLFVBQVVvRixHQUFWLEVBQWU7QUFDaEJ4RixvQkFBYUMsSUFBYixHQUFvQixLQUFwQjtBQUNBRCxvQkFBYXVGLGVBQWIsR0FBK0IsS0FBL0I7QUFDRCxLQVRNLENBQVA7QUFVRDs7QUFHRDs7Ozs7QUFLQSxXQUFTUSxJQUFULENBQWVuRCxNQUFmLEVBQXNCO0FBQ3BCLFFBQUksQ0FBRVcsTUFBTUMsT0FBTixDQUFjWixNQUFkLENBQU4sRUFBNEI7QUFDMUJBLGVBQVEsQ0FBQ0EsTUFBRCxDQUFSO0FBQ0Q7O0FBRUQsUUFBSW9ELFFBQVFwRyxVQUFVcUcsSUFBVixDQUFlO0FBQ3pCQyxtQkFBYSxpRkFEWTtBQUV6QkMsa0JBQVksZUFGYTtBQUd6QmIsZUFBUztBQUNQeEQsY0FBTTtBQUNKYyxpQkFBTyxpQkFBWTtBQUFDLG1CQUFPQSxNQUFQO0FBQWM7QUFEOUI7QUFEQztBQUhnQixLQUFmLENBQVo7O0FBVUEsV0FBT29ELE1BQU1JLE1BQU4sQ0FBYXpFLElBQWIsQ0FDTCxVQUFVeUUsTUFBVixFQUFrQjtBQUNoQnBHLG9CQUFhQyxJQUFiLEdBQW9CLElBQXBCO0FBQ0EsVUFBSW9HLGVBQWV0RCxFQUFFdUQsR0FBRixDQUFNMUQsTUFBTixFQUFhLFVBQVVLLENBQVYsRUFBYTtBQUMzQyxZQUFJc0QsU0FBU0gsT0FBT0csTUFBUCxJQUFpQnRELEVBQUVzRCxNQUFoQztBQUNBLGVBQU90RCxFQUFFOEMsSUFBRixDQUFPLEVBQUNRLFFBQVFILE9BQU9HLE1BQWhCLEVBQXdCM0IsTUFBTXdCLE9BQU94QixJQUFyQyxFQUEyQzRCLFVBQVVKLE9BQU9JLFFBQTVELEVBQVAsRUFBOEU3RSxJQUE5RSxDQUFtRixVQUFVeUUsTUFBVixFQUFrQjtBQUMxRztBQUNBLGlCQUFPQSxNQUFQO0FBQ0QsU0FITSxDQUFQO0FBSUQsT0FOa0IsQ0FBbkI7QUFPQSxhQUFPMUcsR0FBRytHLEdBQUgsQ0FBT0osWUFBUCxFQUFxQjFFLElBQXJCLENBQTBCLFVBQVUrRSxPQUFWLEVBQW1CO0FBQ2xEMUcsc0JBQWFDLElBQWIsR0FBb0IsS0FBcEI7QUFDQSxlQUFPeUcsT0FBUDtBQUNELE9BSE0sQ0FBUDtBQUlELEtBZEksQ0FBUDtBQWdCRDs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOzs7Ozs7O0FBT0EsV0FBU0MsUUFBVCxDQUFtQi9ELEtBQW5CLEVBQTBCO0FBQ3hCLFFBQUksQ0FBRVcsTUFBTUMsT0FBTixDQUFjWixLQUFkLENBQU4sRUFBNEI7QUFDMUJBLGNBQVEsQ0FBQ0EsS0FBRCxDQUFSO0FBQ0Q7QUFDRCxRQUFJZ0Usb0JBQW9CN0QsRUFBRXVELEdBQUYsQ0FBTTFELEtBQU4sRUFBYSxVQUFTaUUsSUFBVCxFQUFlO0FBQ2xELGFBQU9BLEtBQUtGLFFBQUwsR0FBZ0JoRixJQUFoQixDQUFxQixVQUFVQyxJQUFWLEVBQWdCO0FBQzFDLFlBQUlrRixPQUFPQyxTQUFTQyxhQUFULENBQXVCLEdBQXZCLENBQVg7QUFDQUYsYUFBS0csS0FBTCxDQUFXQyxPQUFYLEdBQXFCLE1BQXJCO0FBQ0FKLGFBQUtLLFlBQUwsQ0FBa0IsTUFBbEIsRUFBMEJ2RixLQUFLRyxRQUFMLENBQWNxRixJQUF4QztBQUNBTixhQUFLSyxZQUFMLENBQWtCLFVBQWxCLEVBQThCLE1BQTlCO0FBQ0FKLGlCQUFTTSxJQUFULENBQWNDLFdBQWQsQ0FBMEJSLElBQTFCO0FBQ0FBLGFBQUtTLEtBQUw7QUFDQVIsaUJBQVNNLElBQVQsQ0FBY0csV0FBZCxDQUEwQlYsSUFBMUI7O0FBRUEsZUFBT2xGLElBQVA7QUFDRCxPQVZNLENBQVA7QUFXRCxLQVp1QixDQUF4QjtBQWFBLFdBQU9sQyxHQUFHK0csR0FBSCxDQUFPRyxpQkFBUCxDQUFQO0FBQ0Q7O0FBR0Q7Ozs7O0FBS0EsV0FBU2EsZUFBVCxHQUE0QjtBQUMxQixXQUFPaEksTUFBTWlDLEdBQU4sQ0FBVSwyQkFBVixFQUF1Q0MsSUFBdkMsQ0FBNEMsVUFBVUMsSUFBVixFQUFnQjtBQUNqRSxhQUFPQSxLQUFLRSxJQUFaO0FBQ0QsS0FGTSxDQUFQO0FBR0Q7O0FBR0Q7Ozs7QUFJQSxXQUFTK0IsY0FBVCxDQUF5QmpCLEtBQXpCLEVBQWdDO0FBQzlCLFFBQUksQ0FBRVcsTUFBTUMsT0FBTixDQUFjWixLQUFkLENBQU4sRUFBNEI7QUFDMUJBLGNBQVEsQ0FBQ0EsS0FBRCxDQUFSO0FBQ0Q7O0FBRUQsUUFBSThFLFVBQVUzRSxFQUFFNEUsTUFBRixDQUFTL0UsS0FBVCxFQUFnQixFQUFDZ0YsTUFBSyxLQUFOLEVBQWhCLENBQWQ7QUFDQSxXQUFRRixRQUFRL0QsTUFBUixHQUFpQixDQUF6QjtBQUNEO0FBQ0Q7Ozs7O0FBS0EsV0FBU0MsYUFBVCxDQUF3QmlFLFVBQXhCLEVBQW9DakYsS0FBcEMsRUFBMkM7QUFDekMsUUFBSSxDQUFFVyxNQUFNQyxPQUFOLENBQWNaLEtBQWQsQ0FBTixFQUE0QjtBQUMxQkEsY0FBUSxDQUFDQSxLQUFELENBQVI7QUFDRDtBQUNELFdBQU9HLEVBQUUrRSxNQUFGLENBQVNsRixLQUFULEVBQWdCLFVBQVNtRixJQUFULEVBQWVsQixJQUFmLEVBQXFCO0FBQzFDLFVBQUltQixNQUFNbkIsS0FBS29CLFdBQUwsS0FBcUIsS0FBckIsSUFBOEJwQixLQUFLb0IsV0FBTCxDQUFpQkMsT0FBakIsQ0FBeUJMLFVBQXpCLElBQXVDLENBQUMsQ0FBaEY7QUFDQSxVQUFJRSxTQUFTLElBQWIsRUFBbUI7QUFDakJDLGNBQU1ELFFBQVFDLEdBQWQ7QUFDRDtBQUNELGFBQU9BLEdBQVA7QUFDRCxLQU5NLEVBTUosSUFOSSxDQUFQO0FBT0Q7O0FBR0Q7Ozs7QUFJQSxXQUFTakQsV0FBVCxDQUFzQjhCLElBQXRCLEVBQTRCO0FBQzFCLFFBQUlBLEtBQUtOLE1BQUwsS0FBZ0IsNEJBQXBCLEVBQWtEO0FBQ2hELFVBQUlNLEtBQUtzQixLQUFMLENBQVd4RSxNQUFYLEtBQXNCLENBQXRCLElBQTJCa0QsS0FBSzFDLElBQUwsS0FBYyxRQUE3QyxFQUF1RDtBQUNyRCxlQUFPLElBQVA7QUFDRDtBQUNGO0FBQ0QsV0FBTyxLQUFQO0FBQ0Q7O0FBR0Q7Ozs7O0FBS0EsV0FBU2lFLEtBQVQsR0FBa0I7QUFDaEIsUUFBSXBDLFFBQVFwRyxVQUFVcUcsSUFBVixDQUFlO0FBQ3pCQyxtQkFBYSxrRkFEWTtBQUV6QkMsa0JBQVksQ0FBQyxRQUFELEVBQVcsbUJBQVgsRUFBZ0MsVUFBU2tDLE1BQVQsRUFBaUJDLGlCQUFqQixFQUFvQztBQUM5RUQsZUFBT0UsSUFBUCxHQUFjO0FBQ1pDLHNCQUFZO0FBREEsU0FBZDs7QUFJQUgsZUFBT0ksY0FBUCxHQUF3QixVQUFTQyxNQUFULEVBQWlCO0FBQ3ZDQSxpQkFBT0MsY0FBUDtBQUNBTCw0QkFBa0JNLEtBQWxCLENBQXdCUCxPQUFPRSxJQUFQLENBQVlDLFVBQXBDO0FBQ0QsU0FIRDs7QUFLQUgsZUFBT1EsTUFBUCxHQUFnQixZQUFZO0FBQzFCUCw0QkFBa0JRLE9BQWxCLENBQTBCLFFBQTFCO0FBQ0QsU0FGRDtBQUdELE9BYlc7QUFGYSxLQUFmLENBQVo7O0FBa0JBLFdBQU85QyxNQUFNSSxNQUFOLENBQWF6RSxJQUFiLENBQWtCLFVBQVM2RyxVQUFULEVBQXFCO0FBQzVDeEksb0JBQWFDLElBQWIsR0FBb0IsSUFBcEI7QUFDQUQsb0JBQWFJLE9BQWIsQ0FBcUJnSSxLQUFyQixDQUEyQjtBQUN6QmpFLGNBQU1xRTtBQURtQixPQUEzQixFQUVHN0csSUFGSCxDQUVRLFVBQVNvSCxNQUFULEVBQWlCO0FBQ3ZCL0ksc0JBQWFDLElBQWIsR0FBb0IsS0FBcEI7QUFDQTtBQUNELE9BTEQsRUFLRyxVQUFTdUYsR0FBVCxFQUFjO0FBQ2Y7QUFDQXhGLHNCQUFhQyxJQUFiLEdBQW9CLEtBQXBCO0FBQ0QsT0FSRDtBQVNELEtBWE0sQ0FBUDtBQVlEOztBQUdEOzs7Ozs7QUFNQSxXQUFTK0ksSUFBVCxDQUFlcEcsT0FBZixFQUFzQnFHLGtCQUF0QixFQUEwQztBQUN4QyxRQUFJLENBQUUxRixNQUFNQyxPQUFOLENBQWNaLE9BQWQsQ0FBTixFQUE0QjtBQUMxQkEsZ0JBQVEsQ0FBQ0EsT0FBRCxDQUFSO0FBQ0Q7O0FBRUQsUUFBSW9ELFFBQVFwRyxVQUFVcUcsSUFBVixDQUFlO0FBQ3pCQyxtQkFBYSxpRkFEWTtBQUV6QkMsa0JBQVksZUFGYTtBQUd6QmIsZUFBUztBQUNQeEQsY0FBTTtBQUNKYyxpQkFBTyxpQkFBWTtBQUNqQkwsb0JBQVFDLEdBQVIsQ0FBWUksT0FBWjtBQUNBLG1CQUFPQSxPQUFQO0FBQ0Q7QUFDSDtBQUxNO0FBREM7QUFIZ0IsS0FBZixDQUFaOztBQWNBLFdBQU9vRCxNQUFNSSxNQUFOLENBQWF6RSxJQUFiLENBQ0wsVUFBVXlFLE1BQVYsRUFBa0I7QUFDaEJwRyxvQkFBYUMsSUFBYixHQUFvQixJQUFwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQUlpSixlQUFlbkcsRUFBRXVELEdBQUYsQ0FBTTFELE9BQU4sRUFBYSxVQUFVSyxDQUFWLEVBQWE7QUFDM0MsZUFBT0EsRUFBRStGLElBQUYsQ0FBTyxFQUFDekMsUUFBUUgsT0FBT0csTUFBaEIsRUFBd0IzQixNQUFNd0IsT0FBT3hCLElBQXJDLEVBQVAsRUFBbURqRCxJQUFuRCxDQUF3RCxVQUFVeUUsTUFBVixFQUFrQjtBQUMvRXRELG1CQUFTLENBQUNHLENBQUQsQ0FBVDtBQUNBO0FBQ0EsaUJBQU9tRCxNQUFQO0FBQ0QsU0FKTSxDQUFQO0FBS0QsT0FOa0IsQ0FBbkI7QUFPQSxhQUFPMUcsR0FBRytHLEdBQUgsQ0FBT3lDLFlBQVAsRUFBcUJ2SCxJQUFyQixDQUEwQixVQUFVK0UsT0FBVixFQUFtQjtBQUNsRDFHLHNCQUFhQyxJQUFiLEdBQW9CLEtBQXBCO0FBQ0EsZUFBT3lHLE9BQVA7QUFDRCxPQUhNLENBQVA7QUFJRCxLQWpCSSxDQUFQO0FBbUJEOztBQUdEOzs7OztBQUtBLFdBQVN5QyxPQUFULENBQWtCdEMsS0FBbEIsRUFBd0J6RyxPQUF4QixFQUFpQztBQUMvQixRQUFJNEYsUUFBUXBHLFVBQVVxRyxJQUFWLENBQWU7QUFDekJDLG1CQUFhLG9GQURZO0FBRXpCQyxrQkFBWSxjQUZhO0FBR3pCaUQsWUFBTSxJQUhtQjtBQUl6QjlELGVBQVM7QUFDUHVCLGNBQU0sZ0JBQVc7QUFBRSxpQkFBT0EsS0FBUDtBQUFjO0FBRDFCO0FBSmdCLEtBQWYsQ0FBWjs7QUFVQSxXQUFPYixNQUFNSSxNQUFiO0FBQ0Q7O0FBRUQ7Ozs7O0FBS0EsV0FBU2lELGFBQVQsQ0FBd0JDLE9BQXhCLEVBQWdDO0FBQzlCLFFBQUl0RCxRQUFRcEcsVUFBVXFHLElBQVYsQ0FBZTtBQUN6QnNELG1CQUFhLFlBRFk7QUFFekJyRCxtQkFBYSwyRkFGWTtBQUd6QkMsa0JBQVksQ0FBQyxRQUFELEVBQVcsbUJBQVgsRUFBZ0MsTUFBaEMsRUFBd0MsUUFBeEMsRUFBaUQsVUFBVWtDLE1BQVYsRUFBa0JDLGlCQUFsQixFQUFxQ2tCLElBQXJDLEVBQTJDRixNQUEzQyxFQUFtRDtBQUM5R2pCLGVBQU9pQixNQUFQLEdBQWdCQSxNQUFoQjtBQUNBLFlBQUlHLGlCQUFpQixDQUFDLEtBQUQsRUFBUSxNQUFSLEVBQWdCLEtBQWhCLEVBQXVCLE1BQXZCLEVBQStCLEtBQS9CLENBQXJCO0FBQ0FwQixlQUFPcEksSUFBUCxHQUFjLElBQWQ7QUFDQW9JLGVBQU9xQixNQUFQLEdBQWdCLEVBQWhCO0FBQ0FyQixlQUFPc0IsS0FBUCxHQUFlLEVBQWY7QUFDQXRCLGVBQU91QixnQkFBUCxHQUEwQjtBQUN4QkMsZ0JBQU0sSUFEa0I7QUFFeEJDLGtCQUFRLElBRmdCO0FBR3hCQyxvQkFBVSxJQUhjO0FBSXhCQyxpQkFBTztBQUNMQywwQkFBYyxzQkFBVUMsRUFBVixFQUFjQyxLQUFkLEVBQXFCQyxZQUFyQixFQUFtQ0MsU0FBbkMsRUFBOEM7QUFDMURoQyxxQkFBT3FCLE1BQVAsQ0FBY1csU0FBZCxFQUF5QmpELElBQXpCLEdBQWdDaUIsT0FBT3NCLEtBQVAsQ0FBYVUsU0FBYixFQUF3QmpELElBQXhEO0FBQ0Q7QUFISTs7QUFKaUIsU0FBMUI7QUFXQWlCLGVBQU9pQixNQUFQLENBQWN4RCxRQUFkLENBQXVCd0UsT0FBdkIsQ0FBK0IsVUFBVXpELElBQVYsRUFBZ0I7QUFDN0MsY0FBSTBELE1BQU0xRCxLQUFLakMsSUFBTCxDQUFVNEYsS0FBVixDQUFnQixHQUFoQixFQUFxQkMsR0FBckIsR0FBMkJDLFdBQTNCLEVBQVY7QUFDQSxjQUFJakIsZUFBZXZCLE9BQWYsQ0FBdUJxQyxHQUF2QixNQUFnQyxDQUFDLENBQXJDLEVBQXdDO0FBQ3BDbEMsbUJBQU9zQixLQUFQLENBQWFnQixJQUFiLENBQWtCLEVBQUN2RCxNQUFNUCxLQUFLK0QsUUFBTCxFQUFQLEVBQXdCL0QsTUFBS0EsSUFBN0IsRUFBbEI7QUFDQXdCLG1CQUFPcUIsTUFBUCxDQUFjaUIsSUFBZCxDQUFtQixFQUFDOUQsTUFBS0EsSUFBTixFQUFuQjtBQUNIO0FBQ0YsU0FORDtBQU9Bd0IsZUFBT3FCLE1BQVAsQ0FBYyxDQUFkLElBQW1CckIsT0FBT3NCLEtBQVAsQ0FBYSxDQUFiLENBQW5COztBQUVBLFlBQUl0QixPQUFPcUIsTUFBUCxDQUFjL0YsTUFBZCxHQUF1QixFQUEzQixFQUErQjtBQUM3QjBFLGlCQUFPdUIsZ0JBQVAsQ0FBd0JDLElBQXhCLEdBQStCLEtBQS9CO0FBQ0Q7O0FBRUR4QixlQUFPTyxLQUFQLEdBQWUsWUFBWTtBQUN6Qk4sNEJBQWtCUSxPQUFsQjtBQUNELFNBRkQ7QUFJRCxPQWxDVyxDQUhhO0FBc0N6Qk0sWUFBTSxJQXRDbUI7QUF1Q3pCOUQsZUFBUztBQUNQZ0UsZ0JBQVEsa0JBQVc7QUFBRSxpQkFBT0EsT0FBUDtBQUFnQjtBQUQ5QjtBQXZDZ0IsS0FBZixDQUFaOztBQTRDQSxXQUFPdEQsTUFBTUksTUFBYjtBQUNEOztBQUVEOzs7OztBQUtBLFdBQVN5RSxNQUFULENBQWlCaEUsSUFBakIsRUFBdUI7QUFDckIsUUFBSWIsUUFBUXBHLFVBQVVxRyxJQUFWLENBQWU7QUFDekJDLG1CQUFhLG1GQURZO0FBRXpCQyxrQkFBWSxDQUFDLFFBQUQsRUFBVyxtQkFBWCxFQUFnQyxNQUFoQyxFQUF3QyxVQUFVa0MsTUFBVixFQUFrQkMsaUJBQWxCLEVBQXFDekIsSUFBckMsRUFBMkM7QUFDN0Z3QixlQUFPRSxJQUFQLEdBQWM7QUFDWnVDLHNCQUFZakUsS0FBSzFDO0FBREwsU0FBZDs7QUFJQWtFLGVBQU94QixJQUFQLEdBQWNBLElBQWQ7O0FBRUF3QixlQUFPMEMsWUFBUCxHQUFzQixVQUFTckMsTUFBVCxFQUFpQjtBQUNyQ0EsaUJBQU9DLGNBQVA7QUFDQUwsNEJBQWtCTSxLQUFsQixDQUF3QixFQUFDL0IsTUFBTUEsSUFBUCxFQUFhbUUsVUFBVTNDLE9BQU9FLElBQVAsQ0FBWXVDLFVBQW5DLEVBQXhCO0FBQ0QsU0FIRDs7QUFLQXpDLGVBQU9RLE1BQVAsR0FBZ0IsWUFBWTtBQUMxQlAsNEJBQWtCUSxPQUFsQixDQUEwQixRQUExQjtBQUNELFNBRkQ7QUFHRCxPQWZXLENBRmE7QUFrQnpCeEQsZUFBUztBQUNQdUIsY0FBTUE7QUFEQztBQWxCZ0IsS0FBZixDQUFaOztBQXVCQSxXQUFPYixNQUFNSSxNQUFOLENBQWF6RSxJQUFiLENBQWtCLFVBQVV5RSxNQUFWLEVBQWtCO0FBQ3pDcEcsb0JBQWFDLElBQWIsR0FBb0IsSUFBcEI7QUFDQSxhQUFPbUcsT0FBT1MsSUFBUCxDQUFZZ0UsTUFBWixDQUFtQixFQUFDMUcsTUFBTWlDLE9BQU80RSxRQUFkLEVBQW5CLEVBQ0pySixJQURJLENBRUgsVUFBVXlFLE1BQVYsRUFBa0I7QUFDaEJwRyxzQkFBYUMsSUFBYixHQUFvQixLQUFwQjtBQUNBVCxtQkFBV3lMLFVBQVgsQ0FBc0IsNkJBQXRCLEVBQXFEO0FBQ25EckQsZ0JBQU0sUUFENkM7QUFFbkRzRCxtQkFBUzlFLE1BRjBDO0FBR25EK0UsZUFBSy9FO0FBSDhDLFNBQXJEO0FBS0QsT0FURSxFQVVILFVBQVVaLEdBQVYsRUFBZTtBQUNieEYsc0JBQWFDLElBQWIsR0FBb0IsS0FBcEI7QUFDRCxPQVpFLENBQVA7QUFhRCxLQWZNLENBQVA7QUFnQkQ7O0FBR0Q7Ozs7O0FBS0EsV0FBU21MLEVBQVQsQ0FBYXhJLE9BQWIsRUFBb0I7QUFDbEIsUUFBSSxDQUFFVyxNQUFNQyxPQUFOLENBQWNaLE9BQWQsQ0FBTixFQUE0QjtBQUMxQkEsZ0JBQVEsQ0FBQ0EsT0FBRCxDQUFSO0FBQ0Q7O0FBRUQsUUFBSW9ELFFBQVFwRyxVQUFVcUcsSUFBVixDQUFlO0FBQ3pCQyxtQkFBYSxvRUFEWTtBQUV6QkMsa0JBQVksQ0FBQyxRQUFELEVBQVcsbUJBQVgsRUFBZ0MsT0FBaEMsRUFBeUMsVUFBVWtDLE1BQVYsRUFBa0JDLGlCQUFsQixFQUFxQzFGLEtBQXJDLEVBQTRDO0FBQy9GeUYsZUFBT3pGLEtBQVAsR0FBZUEsS0FBZjs7QUFFQXlGLGVBQU9nRCxPQUFQLEdBQWlCLFlBQVc7QUFDMUIvQyw0QkFBa0JNLEtBQWxCLENBQXdCaEcsS0FBeEI7QUFDRCxTQUZEOztBQUlBeUYsZUFBT1EsTUFBUCxHQUFnQixZQUFXO0FBQ3pCUCw0QkFBa0JRLE9BQWxCO0FBQ0QsU0FGRDtBQUdELE9BVlcsQ0FGYTtBQWF6QnhELGVBQVM7QUFDUDFDLGVBQU8saUJBQVc7QUFBRSxpQkFBT0EsT0FBUDtBQUFlO0FBRDVCO0FBYmdCLEtBQWYsQ0FBWjs7QUFrQkEsV0FBT29ELE1BQU1JLE1BQU4sQ0FBYXpFLElBQWIsQ0FDTCxVQUFVaUIsS0FBVixFQUFpQjtBQUNmNUMsb0JBQWFDLElBQWIsR0FBb0IsSUFBcEI7QUFDQSxVQUFJcUwsaUJBQWlCdkksRUFBRXVELEdBQUYsQ0FBTTFELEtBQU4sRUFBYSxVQUFVaUUsSUFBVixFQUFnQjtBQUNoRCxlQUFPQSxLQUFLdUUsRUFBTCxHQUFVekosSUFBVixDQUFlLFVBQVV5RSxNQUFWLEVBQWtCO0FBQ3RDdEQsbUJBQVMsQ0FBQytELElBQUQsQ0FBVDtBQUNBO0FBQ0EsaUJBQU9ULE1BQVA7QUFDRCxTQUpNLENBQVA7QUFLRCxPQU5vQixDQUFyQjtBQU9BLGFBQU8xRyxHQUFHK0csR0FBSCxDQUFPNkUsY0FBUCxFQUF1QjNKLElBQXZCLENBQ0wsVUFBVXlFLE1BQVYsRUFBa0I7QUFDaEJwRyxzQkFBYUMsSUFBYixHQUFvQixLQUFwQjtBQUNBLGVBQU9tRyxNQUFQO0FBQ0QsT0FKSSxFQUtMLFVBQVVaLEdBQVYsRUFBZTtBQUNieEYsc0JBQWFDLElBQWIsR0FBb0IsS0FBcEI7QUFDRCxPQVBJLENBQVA7QUFTRCxLQW5CSSxDQUFQO0FBcUJEOztBQUdEOzs7OztBQUtBLFdBQVNzTCxNQUFULENBQWlCbkcsT0FBakIsRUFBMEI7QUFDeEJwRixrQkFBYUMsSUFBYixHQUFvQixJQUFwQjtBQUNBRCxrQkFBYUUsV0FBYixHQUEyQixJQUEzQjtBQUNBRixrQkFBYUcsS0FBYixHQUFxQixJQUFyQjtBQUNBLFdBQU9KLFlBQVl3TCxNQUFaLENBQW1CbkcsT0FBbkIsRUFBNEJ4RSxTQUE1QixFQUF1Q2UsSUFBdkMsQ0FBNEMsVUFBVXZCLE9BQVYsRUFBbUI7QUFDcEV1QyxhQUFPLEVBQVAsRUFBVyxJQUFYO0FBQ0EzQyxvQkFBYUMsSUFBYixHQUFvQixLQUFwQjtBQUNBRCxvQkFBYUUsV0FBYixHQUEyQixLQUEzQjtBQUNBRixvQkFBYUksT0FBYixHQUF1QkEsT0FBdkI7QUFDQSxhQUFPQSxPQUFQO0FBQ0QsS0FOTSxFQU1KLFVBQVVvRixHQUFWLEVBQWU7QUFDaEJ4RixvQkFBYUMsSUFBYixHQUFvQixLQUFwQjtBQUNBRCxvQkFBYUUsV0FBYixHQUEyQixLQUEzQjtBQUNBRixvQkFBYUksT0FBYixHQUF1QixJQUF2QjtBQUNBSixvQkFBYUcsS0FBYixHQUFxQnFGLElBQUkxRCxJQUF6QjtBQUNELEtBWE0sQ0FBUDtBQVlEOztBQUdEOzs7Ozs7QUFNQSxXQUFTMEosS0FBVCxDQUFnQjNFLE1BQWhCLEVBQXNCO0FBQ3BCLFFBQUliLFFBQVFwRyxVQUFVcUcsSUFBVixDQUFlO0FBQ3pCQyxtQkFBYSx1RUFEWTtBQUV6QkMsa0JBQVksQ0FBQyxRQUFELEVBQVcsbUJBQVgsRUFBZ0MsUUFBaEMsRUFBMEMsTUFBMUMsRUFBa0QsVUFBVWtDLE1BQVYsRUFBa0JDLGlCQUFsQixFQUFxQ3hJLE1BQXJDLEVBQTZDK0csSUFBN0MsRUFBbUQ7QUFDL0d3QixlQUFPdkcsSUFBUCxHQUFjO0FBQ1o3QixnQkFBTSxJQURNO0FBRVo0RyxnQkFBTUEsSUFGTTtBQUdaNEUsdUJBQWEzTCxPQUFPNEwsSUFIUjtBQUlaQyw2QkFBbUIsQ0FDakIsRUFBQzlELFlBQVksTUFBYixFQUFxQitELE9BQU8sV0FBNUIsRUFEaUIsRUFFakIsRUFBQy9ELFlBQVksWUFBYixFQUEyQitELE9BQU8sWUFBbEMsRUFGaUIsRUFHakIsRUFBQy9ELFlBQVksS0FBYixFQUFvQitELE9BQU8sS0FBM0IsRUFIaUIsRUFJakIsRUFBQy9ELFlBQVksTUFBYixFQUFxQitELE9BQU8sMEJBQTVCLEVBSmlCO0FBSlAsU0FBZDs7QUFZQXZELGVBQU9FLElBQVAsR0FBYztBQUNac0QsOEJBQW9CLEVBRFI7QUFFWkMsMEJBQWdCLENBQUM7QUFDZkMsc0JBQVUsSUFESztBQUVmbEUsd0JBQVlRLE9BQU92RyxJQUFQLENBQVk2SixpQkFBWixDQUE4QixDQUE5QjtBQUZHLFdBQUQ7QUFGSixTQUFkOztBQVFBOUUsYUFBS21GLGVBQUwsR0FBdUJySyxJQUF2QixDQUNFLFVBQVV5RSxNQUFWLEVBQWtCO0FBQ2hCaUMsaUJBQU9FLElBQVAsQ0FBWXNELGtCQUFaLEdBQWlDOUksRUFBRWtKLEtBQUYsQ0FBUTdGLE1BQVIsRUFDOUI4RixNQUQ4QixDQUN2QixVQUFVbEUsR0FBVixFQUFlO0FBQUUsbUJBQU9BLElBQUkrRCxRQUFKLEtBQWlCLFVBQWpCLElBQStCL0QsSUFBSStELFFBQUosS0FBaUJqTSxPQUFPNEwsSUFBOUQ7QUFBcUUsV0FEL0QsRUFFOUJwRixHQUY4QixDQUc3QixVQUFVMEIsR0FBVixFQUFlO0FBQ2IsZ0JBQUlBLElBQUlILFVBQUosQ0FBZXNFLElBQW5CLEVBQXlCO0FBQ3ZCLGtCQUFJbkUsSUFBSUgsVUFBSixDQUFldUUsS0FBbkIsRUFBMEI7QUFDeEIsb0JBQUlwRSxJQUFJSCxVQUFKLENBQWV3RSxPQUFuQixFQUE0QjtBQUMxQnJFLHNCQUFJSCxVQUFKLEdBQWlCUSxPQUFPdkcsSUFBUCxDQUFZNkosaUJBQVosQ0FBOEIsQ0FBOUIsQ0FBakI7QUFDRCxpQkFGRCxNQUVPO0FBQ0wzRCxzQkFBSUgsVUFBSixHQUFpQlEsT0FBT3ZHLElBQVAsQ0FBWTZKLGlCQUFaLENBQThCLENBQTlCLENBQWpCO0FBQ0Q7QUFDRixlQU5ELE1BTU87QUFDTDNELG9CQUFJSCxVQUFKLEdBQWlCUSxPQUFPdkcsSUFBUCxDQUFZNkosaUJBQVosQ0FBOEIsQ0FBOUIsQ0FBakI7QUFDRDtBQUNGLGFBVkQsTUFVTztBQUNMM0Qsa0JBQUlILFVBQUosR0FBaUJRLE9BQU92RyxJQUFQLENBQVk2SixpQkFBWixDQUE4QixDQUE5QixDQUFqQjtBQUNEO0FBQ0QsbUJBQU8zRCxHQUFQO0FBQ0QsV0FsQjRCLEVBbUI3QnNFLEtBbkI2QixFQUFqQztBQW9CQWpFLGlCQUFPRSxJQUFQLENBQVlnRSxrQkFBWixHQUFpQ0MsUUFBUXpHLElBQVIsQ0FBYXNDLE9BQU9FLElBQVAsQ0FBWXNELGtCQUF6QixDQUFqQztBQUNBeEQsaUJBQU92RyxJQUFQLENBQVk3QixJQUFaLEdBQW1CLEtBQW5CO0FBQ0QsU0F4QkgsRUF5QkUsVUFBVXdNLE9BQVYsRUFBbUI7QUFDakJwRSxpQkFBT3ZHLElBQVAsQ0FBWTdCLElBQVosR0FBbUIsS0FBbkI7QUFDQW9JLGlCQUFPdkcsSUFBUCxDQUFZNEssWUFBWixHQUEyQkQsUUFBUTNLLElBQW5DO0FBQ0QsU0E1Qkg7O0FBK0JBdUcsZUFBT3NFLGVBQVAsR0FBeUIsWUFBVztBQUNsQyxjQUFJLEtBQUszRSxHQUFMLENBQVMrRCxRQUFiLEVBQXVCO0FBQ3JCLG1CQUFPLEtBQUsvRCxHQUFMLENBQVMrRCxRQUFULENBQWtCYSxVQUFsQixHQUNMLEdBREssR0FDQyxLQUFLNUUsR0FBTCxDQUFTK0QsUUFBVCxDQUFrQmMsU0FEbkIsR0FFTCxJQUZLLEdBRUUsS0FBSzdFLEdBQUwsQ0FBUytELFFBQVQsQ0FBa0JBLFFBRnBCLEdBRStCLEdBRnRDO0FBR0Q7QUFDRixTQU5EOztBQVFBMUQsZUFBT3lFLGdCQUFQLEdBQTBCLFlBQVc7QUFDbkN6RSxpQkFBT0UsSUFBUCxDQUFZdUQsY0FBWixDQUEyQm5CLElBQTNCLENBQWdDLEVBQUNvQixVQUFVLElBQVgsRUFBaUJsRSxZQUFZUSxPQUFPdkcsSUFBUCxDQUFZNkosaUJBQVosQ0FBOEIsQ0FBOUIsQ0FBN0IsRUFBaEM7QUFDRCxTQUZEOztBQUlBdEQsZUFBTzBFLFlBQVAsR0FBc0IsVUFBU3JFLE1BQVQsRUFBaUI7QUFDckNBLGlCQUFPQyxjQUFQOztBQUVBLGNBQUlxRSxhQUFhLEVBQWpCOztBQUVBO0FBQ0FqSyxZQUFFQyxJQUFGLENBQU9xRixPQUFPRSxJQUFQLENBQVlzRCxrQkFBbkIsRUFBdUMsVUFBVTdELEdBQVYsRUFBZTtBQUNwRCxnQkFBSWlGLE9BQU9sSyxFQUFFbUssU0FBRixDQUFZN0UsT0FBT0UsSUFBUCxDQUFZZ0Usa0JBQXhCLEVBQTRDLEVBQUNSLFVBQVUvRCxJQUFJK0QsUUFBZixFQUE1QyxDQUFYO0FBQ0EsZ0JBQUlrQixLQUFLcEYsVUFBTCxDQUFnQkEsVUFBaEIsS0FBK0JHLElBQUlILFVBQUosQ0FBZUEsVUFBbEQsRUFBOEQ7QUFDNURtRix5QkFBV3JDLElBQVgsQ0FBZ0IsRUFBQ29CLFVBQVUvRCxJQUFJK0QsUUFBZixFQUF5QmxFLFlBQVlHLElBQUlILFVBQUosQ0FBZUEsVUFBcEQsRUFBaEI7QUFDRDtBQUNGLFdBTEQ7O0FBT0E7QUFDQSxjQUFJc0YsVUFBVXBLLEVBQUU0RSxNQUFGLENBQVNVLE9BQU9FLElBQVAsQ0FBWXVELGNBQXJCLEVBQXFDLFVBQVU5RCxHQUFWLEVBQWU7QUFDaEUsbUJBQU9BLElBQUkrRCxRQUFYO0FBQ0QsV0FGYSxDQUFkO0FBR0F4SSxnQkFBTTZKLFNBQU4sQ0FBZ0J6QyxJQUFoQixDQUFxQjBDLEtBQXJCLENBQTJCTCxVQUEzQixFQUF1Q2pLLEVBQUV1RCxHQUFGLENBQU02RyxPQUFOLEVBQWUsVUFBVW5GLEdBQVYsRUFBZTtBQUNuRSxtQkFBTztBQUNMK0Qsd0JBQVUvRCxJQUFJK0QsUUFBSixDQUFhQSxRQURsQjtBQUVMbEUsMEJBQVlHLElBQUlILFVBQUosQ0FBZUE7QUFGdEIsYUFBUDtBQUlELFdBTHNDLENBQXZDOztBQU9BO0FBQ0FTLDRCQUFrQk0sS0FBbEIsQ0FBd0JvRSxVQUF4QjtBQUNELFNBMUJEOztBQTRCQTNFLGVBQU9RLE1BQVAsR0FBZ0IsWUFBWTtBQUMxQlAsNEJBQWtCUSxPQUFsQixDQUEwQixRQUExQjtBQUNELFNBRkQ7QUFJRCxPQWhHVyxDQUZhO0FBbUd6Qk0sWUFBTSxJQW5HbUI7QUFvR3pCOUQsZUFBUztBQUNQdUIsY0FBTSxnQkFBWTtBQUFFLGlCQUFPQSxNQUFQO0FBQWM7QUFEM0I7QUFwR2dCLEtBQWYsQ0FBWjs7QUF5R0EsV0FBT2IsTUFBTUksTUFBTixDQUFhekUsSUFBYixDQUFrQixVQUFVcUwsVUFBVixFQUFzQjtBQUM3Q2hOLG9CQUFhQyxJQUFiLEdBQW9CLElBQXBCO0FBQ0EsVUFBSXFOLGdCQUFnQnZLLEVBQUV1RCxHQUFGLENBQU0wRyxVQUFOLEVBQWtCLFVBQVVoRixHQUFWLEVBQWU7QUFDbkQsZUFBT25CLE9BQUsyRSxLQUFMLENBQVd4RCxHQUFYLENBQVA7QUFDRCxPQUZtQixDQUFwQjtBQUdBLGFBQU90SSxHQUFHK0csR0FBSCxDQUFPNkcsYUFBUCxFQUFzQjNMLElBQXRCLENBQTJCLFVBQVUrRSxPQUFWLEVBQW1CO0FBQ25EMUcsc0JBQWFDLElBQWIsR0FBb0IsS0FBcEI7QUFDQSxlQUFPeUcsT0FBUDtBQUNELE9BSE0sQ0FBUDtBQUlELEtBVE0sQ0FBUDtBQVVEOztBQUdEOzs7Ozs7QUFNQSxXQUFTNkcsS0FBVCxDQUFnQjNLLEtBQWhCLEVBQXVCO0FBQ3JCLFFBQUksQ0FBRVcsTUFBTUMsT0FBTixDQUFjWixLQUFkLENBQU4sRUFBNEI7QUFDMUJBLGNBQVEsQ0FBQ0EsS0FBRCxDQUFSO0FBQ0Q7O0FBRUQ1QyxrQkFBYUMsSUFBYixHQUFvQixJQUFwQjtBQUNBLFFBQUl1TixnQkFBZ0J6SyxFQUFFdUQsR0FBRixDQUFNMUQsS0FBTixFQUFhLFVBQVNpRSxJQUFULEVBQWU7QUFDOUMsYUFBT0EsS0FBSzBHLEtBQUwsR0FBYTVMLElBQWIsQ0FBa0IsVUFBUzhMLE9BQVQsRUFBa0I7QUFDekM7QUFDQSxlQUFPQSxPQUFQO0FBQ0QsT0FITSxDQUFQO0FBSUQsS0FMbUIsQ0FBcEI7QUFNQSxXQUFPL04sR0FBRytHLEdBQUgsQ0FBTytHLGFBQVAsRUFBc0I3TCxJQUF0QixDQUEyQixVQUFTK0wsR0FBVCxFQUFjO0FBQzlDMU4sb0JBQWFDLElBQWIsR0FBb0IsS0FBcEI7QUFDQWtGLGFBQU9uRixjQUFhSSxPQUFwQixFQUE2QlEsU0FBN0I7QUFDQSxhQUFPOE0sR0FBUDtBQUNELEtBSk0sRUFJSixVQUFTbEksR0FBVCxFQUFjO0FBQ2Z4RixvQkFBYUMsSUFBYixHQUFvQixLQUFwQjtBQUNELEtBTk0sQ0FBUDtBQU9EOztBQUdELFdBQVN5RSxVQUFULEdBQXNCO0FBQ3BCLFFBQUkxRSxjQUFhSSxPQUFiLElBQXdCSixjQUFhSSxPQUFiLENBQXFCbUcsTUFBakQsRUFBeUQ7QUFDdkQsY0FBUXZHLGNBQWFJLE9BQWIsQ0FBcUJtRyxNQUE3QjtBQUNFLGFBQUssNEJBQUw7QUFDRSxpQkFBTyxDQUFDLEVBQUQsRUFBS3pHLE9BQU80TCxJQUFaLEVBQWtCLFFBQWxCLEVBQTRCaUMsSUFBNUIsQ0FBaUMsR0FBakMsQ0FBUDtBQUNGLGFBQUssNkJBQUw7QUFDRSxjQUFJQyxhQUFhNU4sY0FBYUksT0FBYixDQUFxQndFLElBQXJCLENBQTBCNEYsS0FBMUIsQ0FBZ0MsR0FBaEMsRUFBcUMsQ0FBckMsQ0FBakI7QUFDQSxpQkFBTyxDQUFDLEVBQUQsRUFBS29ELFVBQUwsRUFBaUIsUUFBakIsRUFBMkJELElBQTNCLENBQWdDLEdBQWhDLENBQVA7QUFDRjtBQUNFLGlCQUFPRSxTQUFQO0FBUEo7QUFTRDtBQUNELFdBQU9BLFNBQVA7QUFDRDs7QUFHRDs7Ozs7O0FBTUEsV0FBU0MsTUFBVCxDQUFnQkMsZ0JBQWhCLEVBQWlDbkwsT0FBakMsRUFBd0M7QUFDdEMsUUFBSW9ELFFBQVFwRyxVQUFVcUcsSUFBVixDQUFlO0FBQ3pCQyxtQkFBYSx3RUFEWTtBQUV6QkMsa0JBQVksYUFGYTtBQUd6QmlELFlBQU0sSUFIbUI7QUFJekI5RCxlQUFTO0FBQ1B5SSx5QkFBaUIsMkJBQVc7QUFBRSxpQkFBT0EsZ0JBQVA7QUFBeUIsU0FEaEQ7QUFFUEMscUJBQWEsdUJBQVc7QUFBRSxpQkFBT2hPLGNBQWFJLE9BQXBCO0FBQThCLFNBRmpEO0FBR1B3QyxlQUFPLGlCQUFXO0FBQUUsaUJBQU9BLE9BQVA7QUFBZSxTQUg1QjtBQUlQNUMsc0JBQWMsd0JBQVc7QUFBRSxpQkFBT0EsYUFBUDtBQUFzQjtBQUoxQztBQUpnQixLQUFmLENBQVo7QUFXRDs7QUFFRDs7O0FBR0EsV0FBU2lPLGVBQVQsQ0FBeUJDLFVBQXpCLEVBQW9DO0FBQ2xDLFFBQUlDLFdBQVcsc0VBQWY7QUFDQSxRQUFJbkksUUFBUXBHLFVBQVVxRyxJQUFWLENBQWU7QUFDekJDLG1CQUFhaUksUUFEWTtBQUV6QmhJLGtCQUFXLENBQUMsbUJBQUQsRUFBc0IsUUFBdEIsRUFDQyxVQUFTbUMsaUJBQVQsRUFBNEJELE1BQTVCLEVBQW1DO0FBQzdDQSxlQUFPdkcsSUFBUCxHQUFjLEVBQWQ7QUFDQXVHLGVBQU92RyxJQUFQLENBQVlvTSxVQUFaLEdBQXlCQSxVQUF6QjtBQUNBN0YsZUFBT3ZHLElBQVAsQ0FBWXNNLE9BQVosR0FBc0JwTyxjQUFhb08sT0FBbkM7O0FBRUEvRixlQUFPUSxNQUFQLEdBQWdCLFlBQVk7QUFDMUJQLDRCQUFrQlEsT0FBbEIsQ0FBMEIsUUFBMUI7QUFDRCxTQUZEO0FBR1csT0FURjtBQUZjLEtBQWYsQ0FBWjtBQWNEOztBQUVEOzs7Ozs7QUFNQSxXQUFTdUYsY0FBVCxDQUF5QnpMLEtBQXpCLEVBQWdDeEMsT0FBaEMsRUFBeUM7QUFDdkMsUUFBSStOLFdBQVcsNEVBQWY7QUFDQSxRQUFJdEgsU0FBTyxJQUFYO0FBQ0EsUUFBSSxPQUFPakUsS0FBUCxLQUFpQixXQUFyQixFQUFpQztBQUMvQmlFLGVBQU9qRSxNQUFNLENBQU4sQ0FBUDtBQUNEO0FBQ0QsUUFBSW9ELFFBQVFwRyxVQUFVcUcsSUFBVixDQUFlO0FBQ3pCQyxtQkFBYWlJLFFBRFk7QUFFekJoSSxrQkFBWSxxQkFGYTtBQUd6QmlELFlBQU0sSUFIbUI7QUFJekI5RCxlQUFTO0FBQ1AsZ0JBQVEsZ0JBQVc7QUFBRSxpQkFBT3VCLE1BQVA7QUFBYyxTQUQ1QjtBQUVQLGdCQUFRLGdCQUFXO0FBQUUsaUJBQU8sRUFBQ3lILGNBQWMsRUFBZixFQUFQO0FBQTRCO0FBRjFDO0FBSmdCLEtBQWYsQ0FBWjs7QUFVQSxXQUFPdEksTUFBTUksTUFBTixDQUFhekUsSUFBYixDQUFrQixVQUFTRyxJQUFULEVBQWM7QUFDckMsVUFBSStFLE9BQU8vRSxLQUFLK0UsSUFBaEI7QUFDQSxVQUFJMEIsT0FBT3pHLEtBQUt5RyxJQUFoQjtBQUNBLFVBQUlnRyxVQUFVO0FBQ1pDLGtCQUFVM0gsS0FBSzJILFFBQUwsSUFBaUI7QUFEZixPQUFkO0FBR0EsVUFBSWpHLEtBQUsrRixZQUFULEVBQXVCO0FBQ3JCQyxnQkFBUUMsUUFBUixHQUFtQkQsUUFBUUMsUUFBUixDQUFpQmxLLE1BQWpCLENBQXdCaUUsS0FBSytGLFlBQUwsQ0FBa0I5RCxLQUFsQixDQUF3QixHQUF4QixDQUF4QixDQUFuQjtBQUNEO0FBQ0QsVUFBSWpDLEtBQUtrRyxZQUFMLENBQWtCOUssTUFBdEIsRUFBNkI7QUFDM0I0SyxnQkFBUUMsUUFBUixHQUFtQkQsUUFBUUMsUUFBUixDQUFpQjdHLE1BQWpCLENBQXdCLFVBQVMyRSxLQUFULEVBQWU7QUFDeEQsaUJBQU8vRCxLQUFLa0csWUFBTCxDQUFrQnZHLE9BQWxCLENBQTBCb0UsS0FBMUIsSUFBbUMsQ0FBMUM7QUFDRCxTQUZrQixDQUFuQjtBQUdEO0FBQ0R0TSxvQkFBYUMsSUFBYixHQUFvQixJQUFwQjtBQUNBNEcsV0FBSzZILFVBQUwsQ0FBZ0IsRUFBQyxZQUFZSCxPQUFiLEVBQWhCLEVBQXVDNU0sSUFBdkMsQ0FBNEMsVUFBU2dOLFNBQVQsRUFBbUI7QUFDN0Q7QUFDQTNPLHNCQUFhQyxJQUFiLEdBQW9CLEtBQXBCO0FBQ0QsT0FIRDtBQUlELEtBbkJNLENBQVA7QUFvQkQ7O0FBRUQ7Ozs7OztBQU1BLFdBQVMyTyxZQUFULENBQXVCaE0sS0FBdkIsRUFBOEJ4QyxPQUE5QixFQUF1QztBQUNyQyxRQUFJK04sV0FBVyw2RUFBZjtBQUNBLFFBQUl0SCxTQUFPLElBQVg7QUFDQSxRQUFJLE9BQU9qRSxLQUFQLEtBQWlCLFdBQXJCLEVBQWlDO0FBQy9CaUUsZUFBT2pFLE1BQU0sQ0FBTixDQUFQO0FBQ0Q7QUFDRCxRQUFJLE9BQU9pRSxNQUFQLEtBQWdCLFdBQWhCLElBQ0QsT0FBT0EsT0FBS2dJLFFBQVosS0FBeUIsV0FEeEIsSUFFRGhJLE9BQUtnSSxRQUFMLENBQWNULE9BQWQsS0FBMEIsV0FGN0IsRUFFeUM7QUFDdkNELGlCQUFVLG9GQUFWO0FBQ0Q7QUFDRCxRQUFJbkksUUFBUXBHLFVBQVVxRyxJQUFWLENBQWU7QUFDekJDLG1CQUFhaUksUUFEWTtBQUV6QmhJLGtCQUFZLG1CQUZhO0FBR3pCaUQsWUFBTSxJQUhtQjtBQUl6QjlELGVBQVM7QUFDUCxnQkFBUSxnQkFBVztBQUFFLGlCQUFPdUIsTUFBUDtBQUFjLFNBRDVCO0FBRVAsZ0JBQVEsZ0JBQVc7QUFBRSxpQkFBTyxFQUFDeUgsY0FBYyxFQUFmLEVBQVA7QUFBNEI7QUFGMUM7QUFKZ0IsS0FBZixDQUFaOztBQVVBLFdBQU90SSxNQUFNSSxNQUFOLENBQWF6RSxJQUFiLENBQWtCLFVBQVNHLElBQVQsRUFBYztBQUNyQyxVQUFJK0UsT0FBTy9FLEtBQUsrRSxJQUFoQjtBQUNBLFVBQUkwQixPQUFPekcsS0FBS3lHLElBQWhCO0FBQ0EsVUFBSWdHLFVBQVU7QUFDWkMsa0JBQVUzSCxLQUFLMkgsUUFBTCxJQUFpQjtBQURmLE9BQWQ7QUFHQSxVQUFJakcsS0FBSytGLFlBQVQsRUFBdUI7QUFDckJDLGdCQUFRQyxRQUFSLEdBQW1CRCxRQUFRQyxRQUFSLENBQWlCbEssTUFBakIsQ0FBd0JpRSxLQUFLK0YsWUFBTCxDQUFrQjlELEtBQWxCLENBQXdCLEdBQXhCLENBQXhCLENBQW5CO0FBQ0Q7QUFDRCxVQUFJakMsS0FBS2tHLFlBQUwsQ0FBa0I5SyxNQUF0QixFQUE2QjtBQUMzQjRLLGdCQUFRQyxRQUFSLEdBQW1CRCxRQUFRQyxRQUFSLENBQWlCN0csTUFBakIsQ0FBd0IsVUFBUzJFLEtBQVQsRUFBZTtBQUN4RCxpQkFBTy9ELEtBQUtrRyxZQUFMLENBQWtCdkcsT0FBbEIsQ0FBMEJvRSxLQUExQixJQUFtQyxDQUExQztBQUNELFNBRmtCLENBQW5CO0FBR0Q7QUFDRHRNLG9CQUFhQyxJQUFiLEdBQW9CLElBQXBCO0FBQ0E0RyxXQUFLNkgsVUFBTCxDQUFnQixFQUFDLFlBQVlILE9BQWIsRUFBaEIsRUFBdUM1TSxJQUF2QyxDQUE0QyxVQUFTZ04sU0FBVCxFQUFtQjtBQUM3RDtBQUNBM08sc0JBQWFDLElBQWIsR0FBb0IsS0FBcEI7QUFDRCxPQUhEO0FBSUQsS0FuQk0sQ0FBUDtBQW9CRDs7QUFHRDs7Ozs7OztBQU9BOzs7OztBQUtBLFdBQVM2TyxTQUFULENBQW1CQyxLQUFuQixFQUEwQkMsUUFBMUIsRUFBb0M7QUFDbEMsUUFBSUMsVUFBVXpQLFdBQVcwUCxHQUFYLENBQWUsMkJBQWYsRUFBNENGLFFBQTVDLENBQWQ7QUFDQUQsVUFBTUcsR0FBTixDQUFVLFVBQVYsRUFBc0JELE9BQXRCO0FBQ0Q7O0FBRUQ7Ozs7O0FBS0EsV0FBUzdMLE1BQVQsQ0FBZ0IrTCxTQUFoQixFQUEyQkMsUUFBM0IsRUFBcUNDLFlBQXJDLEVBQW1EO0FBQ2pEN1AsZUFBVzhQLEtBQVgsQ0FBaUIsMkJBQWpCLEVBQThDO0FBQzVDMUgsWUFBTXVILFNBRHNDO0FBRTVDakUsZUFBU21FLFlBRm1DO0FBRzVDbEUsV0FBS2lFO0FBSHVDLEtBQTlDO0FBS0Q7O0FBRUQsV0FBU0csV0FBVCxHQUFzQjtBQUNwQjtBQUNEOztBQUVELFdBQVNDLGNBQVQsR0FBeUI7QUFDdkIsUUFBSXhQLGNBQWFNLFdBQWIsSUFBNEJOLGNBQWFPLFVBQTdDLEVBQXdEO0FBQ3REO0FBQ0Q7QUFDRFAsa0JBQWFNLFdBQWIsR0FBMkIsSUFBM0I7QUFDQSxRQUFJTixjQUFhSSxPQUFiLElBQXdCSixjQUFhSSxPQUFiLENBQXFCMEYsUUFBN0MsSUFDQTlGLGNBQWFJLE9BQWIsQ0FBcUIwRixRQUFyQixDQUE4Qm5DLE1BQTlCLEdBQXVDLEVBRDNDLEVBQzhDO0FBQzVDM0Qsb0JBQWFPLFVBQWIsR0FBMEIsSUFBMUI7QUFDQTtBQUNEO0FBQ0RQLGtCQUFhUSxJQUFiLElBQXFCLENBQXJCO0FBQ0FSLGtCQUFhTSxXQUFiLEdBQTJCLElBQTNCO0FBQ0FvRixlQUFXLEVBQUNhLFFBQVF2RyxjQUFhSSxPQUFiLENBQXFCbUcsTUFBOUI7QUFDQzNCLFlBQU01RSxjQUFhSSxPQUFiLENBQXFCd0UsSUFENUI7QUFFQ3BFLFlBQU1SLGNBQWFRLElBRnBCLEVBQVgsRUFHQ21CLElBSEQsQ0FHTSxVQUFTdkIsT0FBVCxFQUFpQjtBQUNuQkosb0JBQWFNLFdBQWIsR0FBMkIsS0FBM0I7QUFDQSxVQUFJRixRQUFRMEYsUUFBUixDQUFpQm5DLE1BQWpCLEdBQTBCLEVBQTlCLEVBQWtDO0FBQ2hDM0Qsc0JBQWFPLFVBQWIsR0FBMEIsSUFBMUI7QUFDRDtBQUNGLEtBUkgsRUFRSyxVQUFVaUYsR0FBVixFQUFjO0FBQ1p4RixvQkFBYU0sV0FBYixHQUEyQixLQUEzQjtBQUNBTixvQkFBYU8sVUFBYixHQUEwQixJQUExQjtBQUNKLEtBWEg7QUFZRDs7QUFFRCxTQUFPO0FBQ0w7QUFDQVUsZ0JBQVlBLFVBRlA7QUFHTHlCLFdBQU9BLEtBSEY7QUFJTEQsbUJBQWVBLGFBSlY7QUFLTGhCLG9CQUFnQkEsY0FMWDs7QUFPTDtBQUNBNkIsb0JBQWdCQSxjQVJYO0FBU0w2QixZQUFRQSxNQVRIO0FBVUxPLGdCQUFZQSxVQVZQO0FBV0w2SixpQkFBYUEsV0FYUjtBQVlMQyxvQkFBZ0JBLGNBWlg7QUFhTHpKLFVBQU1BLElBYkQ7QUFjTGpELGNBQVVBLFFBZEw7QUFlTDtBQUNBNkQsY0FBVUEsUUFoQkw7QUFpQkxjLHFCQUFpQkEsZUFqQlo7QUFrQkw3RCxtQkFBZUEsYUFsQlY7QUFtQkxtQixpQkFBYUEsV0FuQlI7QUFvQkxxRCxXQUFPQSxLQXBCRjtBQXFCTFksVUFBTUEsSUFyQkQ7QUFzQkxHLGFBQVNBLE9BdEJKO0FBdUJMRSxtQkFBZUEsYUF2QlY7QUF3Qkx3QixZQUFRQSxNQXhCSDtBQXlCTE8sUUFBSUEsRUF6QkM7QUEwQkxHLFlBQVFBLE1BMUJIO0FBMkJMNUksWUFBUUEsTUEzQkg7QUE0Qkw2SSxXQUFPQSxLQTVCRjtBQTZCTCtCLFdBQU9BLEtBN0JGO0FBOEJMTyxZQUFRQSxNQTlCSDtBQStCTGMsa0JBQWNBLFlBL0JUO0FBZ0NMUCxvQkFBZ0JBLGNBaENYOztBQWtDTDtBQUNBUyxlQUFXQSxTQW5DTjtBQW9DTDFMLFlBQVFBLE1BcENIO0FBcUNMeEMsZUFBV0EsU0FyQ047QUFzQ0xHLGlCQUFhQSxXQXRDUjtBQXVDTGtFLGlCQUFhQSxXQXZDUjtBQXdDTEMsaUJBQWFBLFdBeENSO0FBeUNMK0kscUJBQWlCQTtBQXpDWixHQUFQO0FBNENEOztrQkFFYzFPLGtCIiwiZmlsZSI6IjE5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gRGF0YUJyb3dzZXJTZXJ2aWNlKCRyb290U2NvcGUsICRodHRwLCAkcSwgJHRpbWVvdXQsICR1aWJNb2RhbCwgJHN0YXRlLCBEamFuZ28sIEZpbGVMaXN0aW5nKSB7XG4gICduZ0luamVjdCc7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHt7YnVzeTogYm9vbGVhbiwgbGlzdGluZzogRmlsZUxpc3RpbmcsIHNlbGVjdGVkOiBBcnJheX19XG4gICAqL1xuICB2YXIgY3VycmVudFN0YXRlID0ge1xuICAgIGJ1c3k6IGZhbHNlLFxuICAgIGJ1c3lMaXN0aW5nOiBmYWxzZSxcbiAgICBlcnJvcjogbnVsbCxcbiAgICBsaXN0aW5nOiBudWxsLFxuICAgIHNlbGVjdGVkOiBbXSxcbiAgICBsb2FkaW5nTW9yZTogZmFsc2UsXG4gICAgcmVhY2hlZEVuZDogZmFsc2UsXG4gICAgcGFnZTogMCxcbiAgICBzaG93TWFpbkxpc3Rpbmc6IHRydWUsXG4gICAgc2hvd1ByZXZpZXdMaXN0aW5nOiBmYWxzZSxcbiAgICB1aToge31cbiAgfTtcblxuICB2YXIgYXBpUGFyYW1zID0ge1xuICAgIGZpbGVNZ3IgOiAnYWdhdmUnLFxuICAgIGJhc2VVcmwgOiAnL2FwaS9maWxlcydcbiAgfTtcblxuICB2YXIgdG9vbGJhck9wdHMgPSB7fTtcbiAgdmFyIGN1cnJlbnRCcm93c2VSZXF1ZXN0ID0gbnVsbDtcbiAgLyoqXG4gICAqIEVudW1lcmF0aW9uIG9mIGV2ZW50IGBEYXRhQnJvd3NlclNlcnZpY2U6OkV2ZW50YCB0eXBlc1xuICAgKlxuICAgKiBAcmVhZG9ubHlcbiAgICogQGVudW0ge3N0cmluZ31cbiAgICovXG4gIHZhciBGaWxlRXZlbnRzID0ge1xuICAgIEZJTEVfQURERUQ6ICdGaWxlQWRkZWQnLFxuICAgIEZJTEVfQ09QSUVEOiAnRmlsZUNvcGllZCcsXG4gICAgRklMRV9NT1ZFRDogJ0ZpbGVNb3ZlZCcsXG4gICAgRklMRV9SRU1PVkVEOiAnRmlsZVJlbW92ZWQnLFxuICAgIEZJTEVfU0VMRUNUSU9OOiAnRmlsZVNlbGVjdGlvbicsXG4gICAgRklMRV9NRVRBX1VQREFURUQ6ICdNZXRhZGF0YVVwZGF0ZWQnXG4gIH07XG5cbiAgLyoqXG4gICAqIEVudW1lcmF0aW9uIG9mIGV2ZW50IGBEYXRhQnJvd3NlclNlcnZpY2U6OkV2ZW50TWVzc2FnZWAgc3RyaW5nc1xuICAgKlxuICAgKiBAcmVhZG9ubHlcbiAgICogQGVudW0ge3N0cmluZ31cbiAgICovXG4gIHZhciBGaWxlRXZlbnRzTXNnID0ge1xuICAgIEZJTEVfQURERUQ6ICdZb3VyIGZpbGUgd2FzIGFkZGVkLicsXG4gICAgRklMRV9DT1BJRUQ6ICdZb3VyIGZpbGUgd2FzIGNvcGllZC4nLFxuICAgIEZJTEVfTU9WRUQ6ICdZb3VyIGZpbGUgd2FzIG1vdmVkLicsXG4gICAgRklMRV9SRU1PVkVEOiAnWW91ciBmaWxlIHdhcyByZW1vdmUuJyxcbiAgICBGSUxFX1NFTEVDVElPTjogJ1lvdXIgZmlsZSBoYXMgYmVlbiBzZWxlY3RlZC4nLFxuICAgIEZJTEVfTUVUQV9VUERBVEVEOiAnTWV0YWRhdGEgb2JqZWN0IHVwZGF0ZWQuJyxcbiAgfTtcblxuICAvLyBUT0RPIGZpZ3VyZSBvdXQgaG93IHRvIG1ha2UgdGhpcyBtb3JlIHByb2dyYW1tYXRpYy4gSnVzdCBoYWNraW5nIGZvciBub3cuXG4gIGZ1bmN0aW9uIHRvb2xiYXJPcHRpb25zKCkge1xuICAgICRodHRwLmdldCgnL2FwaS9kYXRhLWRlcG90L3Rvb2xiYXIvcGFyYW1zJylcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICB2YXIgdG9vbGJhck9wdHMgPSB7XG4gICAgICAgICAgICB0cmFzaF9lbmFibGVkOiByZXNwLmRhdGEucmVzcG9uc2UudHJhc2hfZW5hYmxlZCxcbiAgICAgICAgICAgIHNoYXJlX2VuYWJsZWQ6IHJlc3AuZGF0YS5yZXNwb25zZS5zaGFyZV9lbmFibGVkLFxuICAgICAgICAgICAgcHJldmlld19lbmFibGVkOiByZXNwLmRhdGEucmVzcG9uc2UucHJldmlld19lbmFibGVkLFxuICAgICAgICAgICAgcHJldmlld19pbWFnZXNfZW5hYmxlZDogcmVzcC5kYXRhLnJlc3BvbnNlLnByZXZpZXdfaW1hZ2VzX2VuYWJsZWQsXG4gICAgICAgICAgICBjb3B5X2VuYWJsZWQ6IHJlc3AuZGF0YS5yZXNwb25zZS5jb3B5X2VuYWJsZWQsXG4gICAgICAgICAgICBtb3ZlX2VuYWJsZWQ6IHJlc3AuZGF0YS5yZXNwb25zZS5tb3ZlX2VuYWJsZWQsXG4gICAgICAgICAgICByZW5hbWVfZW5hYmxlZDogcmVzcC5kYXRhLnJlc3BvbnNlLnJlbmFtZV9lbmFibGVkLFxuICAgICAgICAgICAgdGFnX2VuYWJsZWQ6IHJlc3AuZGF0YS5yZXNwb25zZS50YWdfZW5hYmxlZFxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHRvb2xiYXJPcHRzO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCckaHR0cC5nZXQgRXJyb3InLCBlcnJvcik7XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGFwaVBhcmFtcyBvZiB0aGUgRGF0YUJyb3dzZXJTZXJ2aWNlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXBpUGFyYW1ldGVycygpe1xuICAgIHJldHVybiBhcGlQYXJhbXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc3RhdGUgb2YgdGhlIERhdGFCcm93c2VyU2VydmljZS5cbiAgICpcbiAgICogQHJldHVybiB7e2J1c3k6IGJvb2xlYW4sIGxpc3Rpbmc6IEZpbGVMaXN0aW5nLCBzZWxlY3RlZDogQXJyYXl9fVxuICAgKi9cbiAgZnVuY3Rpb24gc3RhdGUoKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRTdGF0ZTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7RmlsZUxpc3RpbmdbXX0gZmlsZXMgRmlsZUxpc3Rpbmcgb2JqZWN0cyB0byBzZWxlY3RcbiAgICogQHBhcmFtIHtib29sZWFufSBbcmVzZXRdIElmIHRydWUsIGNsZWFycyBjdXJyZW50IHNlbGVjdGlvbiBiZWZvcmUgc2VsZWN0aW5nIHRoZSBwYXNzZWQgZmlsZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZWxlY3QoZmlsZXMsIHJlc2V0KSB7XG4gICAgaWYgKHJlc2V0KSB7XG4gICAgICBkZXNlbGVjdChjdXJyZW50U3RhdGUuc2VsZWN0ZWQpO1xuICAgIH1cbiAgICBfLmVhY2goZmlsZXMsIGZ1bmN0aW9uKGYpIHtcbiAgICAgIGYuX3VpID0gZi5fdWkgfHwge307XG4gICAgICBmLl91aS5zZWxlY3RlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgY3VycmVudFN0YXRlLnNlbGVjdGVkID0gXy51bmlvbihjdXJyZW50U3RhdGUuc2VsZWN0ZWQsIGZpbGVzKTtcbiAgICBub3RpZnkoRmlsZUV2ZW50cy5GSUxFX1NFTEVDVElPTiwgRmlsZUV2ZW50c01zZy5GSUxFX1NFTEVDVElPTixcbiAgICAgICAgICAgY3VycmVudFN0YXRlLnNlbGVjdGVkKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7RmlsZUxpc3RpbmdbXX0gZmlsZXMgRmlsZUxpc3Rpbmcgb2JqZWN0cyB0byBkZS1zZWxlY3RcbiAgICovXG4gIGZ1bmN0aW9uIGRlc2VsZWN0KGZpbGVzKSB7XG4gICAgXy5lYWNoKGZpbGVzLCBmdW5jdGlvbihmKSB7XG4gICAgICBmLl91aSA9IGYuX3VpIHx8IHt9O1xuICAgICAgZi5fdWkuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgICBjdXJyZW50U3RhdGUuc2VsZWN0ZWQgPSBfLmRpZmZlcmVuY2UoY3VycmVudFN0YXRlLnNlbGVjdGVkLCBmaWxlcyk7XG4gICAgbm90aWZ5KEZpbGVFdmVudHMuRklMRV9TRUxFQ1RJT04sIEZpbGVFdmVudHNNc2cuRklMRV9TRUxFQ1RJT04sXG4gICAgICAgICAgIGN1cnJlbnRTdGF0ZS5zZWxlY3RlZCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBUZXN0cyBmb3IgdGhlIERhdGFCcm93c2VyIGFjdGlvbnMgYWxsb3dlZCBvbiB0aGUgZ2l2ZW4gZmlsZShzKSBmcm9tIHRoZSBjdXJyZW50IGxpc3RpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7RmlsZUxpc3Rpbmd8RmlsZUxpc3RpbmdbXX0gZmlsZXMgRmlsZXMgdG8gdGVzdFxuICAgKiBAcmV0dXJuIHt7Y2FuRG93bmxvYWQ6IHtib29sZWFufSwgY2FuUHJldmlldzoge2Jvb2xlYW59LCBjYW5WaWV3TWV0YWRhdGE6IHtib29sZWFufSwgY2FuU2hhcmU6IHtib29sZWFufSwgY2FuQ29weToge2Jvb2xlYW59LCBjYW5Nb3ZlOiB7Ym9vbGVhbn0sIGNhblJlbmFtZToge2Jvb2xlYW59LCBjYW5UcmFzaDoge2Jvb2xlYW59LCBjYW5EZWxldGU6IHtib29sZWFufX19XG4gICAqL1xuICBmdW5jdGlvbiBhbGxvd2VkQWN0aW9ucyAoZmlsZXMpIHtcbiAgICBpZiAoISBBcnJheS5pc0FycmF5KGZpbGVzKSkge1xuICAgICAgZmlsZXMgPSBbZmlsZXNdO1xuICAgIH1cbiAgICB2YXIgdGVzdHMgPSB7fTtcbiAgICB0ZXN0cy5jYW5Eb3dubG9hZCA9IGZpbGVzLmxlbmd0aCA+PSAxICYmIGhhc1Blcm1pc3Npb24oJ1JFQUQnLCBmaWxlcykgJiYgIWNvbnRhaW5zRm9sZGVyKGZpbGVzKTtcbiAgICB0ZXN0cy5jYW5QcmV2aWV3ID0gZmlsZXMubGVuZ3RoID09PSAxICYmIGhhc1Blcm1pc3Npb24oJ1JFQUQnLCBmaWxlcyk7XG4gICAgdGVzdHMuY2FuUHJldmlld0ltYWdlcyA9IGZpbGVzLmxlbmd0aCA+PSAxICYmIGhhc1Blcm1pc3Npb24oJ1JFQUQnLCBmaWxlcyk7XG4gICAgdGVzdHMuY2FuVmlld01ldGFkYXRhID0gZmlsZXMubGVuZ3RoID49IDEgJiYgaGFzUGVybWlzc2lvbignUkVBRCcsIGZpbGVzKTtcbiAgICB0ZXN0cy5jYW5TaGFyZSA9IGZpbGVzLmxlbmd0aCA9PT0gMSAmJiAkc3RhdGUuY3VycmVudC5uYW1lID09PSAnbXlEYXRhJztcbiAgICB0ZXN0cy5jYW5Db3B5ID0gZmlsZXMubGVuZ3RoID49IDEgJiYgaGFzUGVybWlzc2lvbignUkVBRCcsIGZpbGVzKTtcbiAgICB0ZXN0cy5jYW5Nb3ZlID0gZmlsZXMubGVuZ3RoID49IDEgJiYgaGFzUGVybWlzc2lvbignV1JJVEUnLCBbY3VycmVudFN0YXRlLmxpc3RpbmddLmNvbmNhdChmaWxlcykpICYmICgkc3RhdGUuY3VycmVudC5uYW1lICE9PSAnZHJvcGJveERhdGEnICYmICRzdGF0ZS5jdXJyZW50Lm5hbWUgIT09ICdib3hEYXRhJyk7XG4gICAgdGVzdHMuY2FuUmVuYW1lID0gZmlsZXMubGVuZ3RoID09PSAxICYmIGhhc1Blcm1pc3Npb24oJ1dSSVRFJywgW2N1cnJlbnRTdGF0ZS5saXN0aW5nXS5jb25jYXQoZmlsZXMpKTtcbiAgICB0ZXN0cy5jYW5WaWV3Q2F0ZWdvcmllcyA9IGZpbGVzLmxlbmd0aCA+PTEgJiYgaGFzUGVybWlzc2lvbignV1JJVEUnLCBmaWxlcyk7XG5cbiAgICB2YXIgdHJhc2hQYXRoID0gX3RyYXNoUGF0aCgpO1xuICAgIHRlc3RzLmNhblRyYXNoID0gKCRzdGF0ZS5jdXJyZW50Lm5hbWUgPT09ICdkYi5teURhdGEnIHx8ICRzdGF0ZS5jdXJyZW50Lm5hbWUgPT09ICdkYi5wcm9qZWN0cy52aWV3LmRhdGEnKSAmJiBmaWxlcy5sZW5ndGggPj0gMSAmJiBjdXJyZW50U3RhdGUubGlzdGluZy5wYXRoICE9PSB0cmFzaFBhdGggJiYgISBfLnNvbWUoZmlsZXMsIGZ1bmN0aW9uKHNlbCkgeyByZXR1cm4gaXNQcm90ZWN0ZWQoc2VsKTsgfSk7XG4gICAgdGVzdHMuY2FuRGVsZXRlID0gJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gJ2RiLm15RGF0YScgJiYgZmlsZXMubGVuZ3RoID49IDEgJiYgY3VycmVudFN0YXRlLmxpc3RpbmcucGF0aCA9PT0gdHJhc2hQYXRoO1xuXG4gICAgcmV0dXJuIHRlc3RzO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0xpc3RpbmcoKXtcbiAgICBjdXJyZW50U3RhdGUuc2hvd01haW5MaXN0aW5nID0gdHJ1ZTtcbiAgICBjdXJyZW50U3RhdGUuc2hvd1ByZXZpZXdMaXN0aW5nID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93UHJldmlldygpe1xuICAgIGN1cnJlbnRTdGF0ZS5zaG93TWFpbkxpc3RpbmcgPSBmYWxzZTtcbiAgICBjdXJyZW50U3RhdGUuc2hvd1ByZXZpZXdMaXN0aW5nID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAqXG4gICogQHBhcmFtIG9wdGlvbnNcbiAgKiBAcGFyYW0gb3B0aW9ucy5zeXN0ZW1cbiAgKiBAcGFyYW0gb3B0aW9ucy5wYXRoXG4gICovXG4gIGZ1bmN0aW9uIGJyb3dzZSAob3B0aW9ucykge1xuICAgIC8vIGRlYnVnZ2VyXG4gICAgaWYgKGN1cnJlbnRCcm93c2VSZXF1ZXN0KSB7XG4gICAgICBjdXJyZW50QnJvd3NlUmVxdWVzdC5zdG9wcGVyLnJlc29sdmUoKTtcbiAgICAgIGN1cnJlbnRCcm93c2VSZXF1ZXN0ID0gbnVsbDtcbiAgICAgIC8vICR0aW1lb3V0LmNhbmNlbChjdXJyZW50QnJvd3NlUmVxdWVzdCk7XG4gICAgfVxuICAgIGN1cnJlbnRTdGF0ZS5idXN5ID0gdHJ1ZTtcbiAgICBjdXJyZW50U3RhdGUuYnVzeUxpc3RpbmcgPSB0cnVlO1xuICAgIGN1cnJlbnRTdGF0ZS5lcnJvciA9IG51bGw7XG4gICAgY3VycmVudFN0YXRlLmxvYWRpbmdNb3JlID0gdHJ1ZTtcbiAgICBjdXJyZW50U3RhdGUucmVhY2hlZEVuZCA9IGZhbHNlO1xuICAgIGN1cnJlbnRTdGF0ZS5idXN5TGlzdGluZ1BhZ2UgPSBmYWxzZTtcbiAgICBjdXJyZW50U3RhdGUucGFnZSA9IDA7XG4gICAgY3VycmVudEJyb3dzZVJlcXVlc3QgPSAgRmlsZUxpc3RpbmcuZ2V0KG9wdGlvbnMsIGFwaVBhcmFtcyk7XG5cbiAgICBjdXJyZW50QnJvd3NlUmVxdWVzdC50aGVuKGZ1bmN0aW9uIChsaXN0aW5nKSB7XG4gICAgICBzZWxlY3QoW10sIHRydWUpO1xuICAgICAgY3VycmVudFN0YXRlLmJ1c3kgPSBmYWxzZTtcbiAgICAgIGN1cnJlbnRTdGF0ZS5idXN5TGlzdGluZyA9IGZhbHNlO1xuICAgICAgY3VycmVudFN0YXRlLmxvYWRpbmdNb3JlID0gZmFsc2U7XG4gICAgICBjdXJyZW50U3RhdGUucmVhY2hlZEVuZCA9IGZhbHNlO1xuICAgICAgY3VycmVudFN0YXRlLmxpc3RpbmcgPSBsaXN0aW5nO1xuICAgICAgcmV0dXJuIGxpc3Rpbmc7XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgLy8gVGhpcyBpcyBmb3IgYSBjYW5jZWxsZWQgcHJvbWlzZS4uLlxuICAgICAgaWYgKGVyci5zdGF0dXMgPT0gLTEpIHtcbiAgICAgICAgY3VycmVudFN0YXRlLmJ1c3lMaXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgY3VycmVudFN0YXRlLmJ1c3kgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFN0YXRlLmJ1c3kgPSBmYWxzZTtcbiAgICAgICAgY3VycmVudFN0YXRlLmJ1c3lMaXN0aW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBjdXJyZW50U3RhdGUubGlzdGluZyA9IG51bGw7XG4gICAgICBjdXJyZW50U3RhdGUuZXJyb3IgPSBlcnI7XG4gICAgICBjdXJyZW50U3RhdGUubG9hZGluZ01vcmUgPSBmYWxzZTtcbiAgICAgIGN1cnJlbnRTdGF0ZS5yZWFjaGVkRW5kID0gZmFsc2U7XG4gICAgICByZXR1cm4gZXJyO1xuICAgIH0pO1xuICAgIHJldHVybiBjdXJyZW50QnJvd3NlUmVxdWVzdDtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5zeXN0ZW1cbiAgICogQHBhcmFtIG9wdGlvbnMucGF0aFxuICAgKiBAcGFyYW0gb3B0aW9ucy5wYWdlXG4gICAqL1xuICBmdW5jdGlvbiBicm93c2VQYWdlIChvcHRpb25zKSB7XG4gICAgY3VycmVudFN0YXRlLmJ1c3kgPSB0cnVlO1xuICAgIGN1cnJlbnRTdGF0ZS5idXN5TGlzdGluZ1BhZ2UgPSB0cnVlO1xuICAgIGN1cnJlbnRTdGF0ZS5lcnJvciA9IG51bGw7XG4gICAgdmFyIGxpbWl0ID0gMTAwO1xuICAgIHZhciBvZmZzZXQgPSAwO1xuICAgIGlmIChvcHRpb25zLnBhZ2Upe1xuICAgICAgb2Zmc2V0ICs9IGxpbWl0ICogb3B0aW9ucy5wYWdlO1xuICAgIH1cbiAgICB2YXIgcGFyYW1zID0ge2xpbWl0OiBsaW1pdCwgb2Zmc2V0OiBvZmZzZXR9O1xuICAgIHJldHVybiBGaWxlTGlzdGluZy5nZXQob3B0aW9ucywgYXBpUGFyYW1zLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKGxpc3RpbmcpIHtcbiAgICAgIHNlbGVjdChbXSwgdHJ1ZSk7XG4gICAgICBjdXJyZW50U3RhdGUuYnVzeSA9IGZhbHNlO1xuICAgICAgY3VycmVudFN0YXRlLmJ1c3lMaXN0aW5nUGFnZSA9IGZhbHNlO1xuICAgICAgY3VycmVudFN0YXRlLmxpc3RpbmcuY2hpbGRyZW4gPSBjdXJyZW50U3RhdGUubGlzdGluZy5jaGlsZHJlbi5jb25jYXQobGlzdGluZy5jaGlsZHJlbik7XG4gICAgICByZXR1cm4gbGlzdGluZztcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjdXJyZW50U3RhdGUuYnVzeSA9IGZhbHNlO1xuICAgICAgY3VycmVudFN0YXRlLmJ1c3lMaXN0aW5nUGFnZSA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtGaWxlTGlzdGluZ3xGaWxlTGlzdGluZ1tdfSBmaWxlc1xuICAgKiBAcmV0dXJuIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gY29weSAoZmlsZXMpIHtcbiAgICBpZiAoISBBcnJheS5pc0FycmF5KGZpbGVzKSkge1xuICAgICAgZmlsZXMgPSBbZmlsZXNdO1xuICAgIH1cblxuICAgIHZhciBtb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL2RhdGFfZGVwb3QvbW9kYWxzL2RhdGEtYnJvd3Nlci1zZXJ2aWNlLWNvcHkuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiAnTW9kYWxNb3ZlQ29weScsXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBmaWxlczogZnVuY3Rpb24gKCkge3JldHVybiBmaWxlczt9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBtb2RhbC5yZXN1bHQudGhlbihcbiAgICAgIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgY3VycmVudFN0YXRlLmJ1c3kgPSB0cnVlO1xuICAgICAgICB2YXIgY29weVByb21pc2VzID0gXy5tYXAoZmlsZXMsIGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgdmFyIHN5c3RlbSA9IHJlc3VsdC5zeXN0ZW0gfHwgZi5zeXN0ZW07XG4gICAgICAgICAgcmV0dXJuIGYuY29weSh7c3lzdGVtOiByZXN1bHQuc3lzdGVtLCBwYXRoOiByZXN1bHQucGF0aCwgcmVzb3VyY2U6IHJlc3VsdC5yZXNvdXJjZX0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgLy9ub3RpZnkoRmlsZUV2ZW50cy5GSUxFX0NPUElFRCwgRmlsZUV2ZW50c01zZy5GSUxFX0NPUElFRCwgZik7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICRxLmFsbChjb3B5UHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICBjdXJyZW50U3RhdGUuYnVzeSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cblxuICAvLyAvKipcbiAgLy8gICpcbiAgLy8gICovXG4gIC8vIGZ1bmN0aW9uIGRldGFpbHMgKCkge1xuICAvLyAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJylcbiAgLy8gfVxuXG5cbiAgLyoqXG4gICAqIERvd25sb2FkIGZpbGVzLiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gYWxsIGRvd25sb2FkcyBoYXZlIGJlZW5cbiAgICogX3N0YXJ0ZWRfLiBSZXNvbHZlZCB3aXRoIHRoZSBkb3dubG9hZCBVUkwgZm9yIGVhY2ggZmlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtGaWxlTGlzdGluZ3xGaWxlTGlzdGluZ1tdfSBmaWxlc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgZnVuY3Rpb24gZG93bmxvYWQgKGZpbGVzKSB7XG4gICAgaWYgKCEgQXJyYXkuaXNBcnJheShmaWxlcykpIHtcbiAgICAgIGZpbGVzID0gW2ZpbGVzXTtcbiAgICB9XG4gICAgdmFyIGRvd25sb2FkX3Byb21pc2VzID0gXy5tYXAoZmlsZXMsIGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgIHJldHVybiBmaWxlLmRvd25sb2FkKCkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgbGluay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIHJlc3AucmVzcG9uc2UuaHJlZik7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIFwibnVsbFwiKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgbGluay5jbGljaygpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuXG4gICAgICAgIHJldHVybiByZXNwO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICRxLmFsbChkb3dubG9hZF9wcm9taXNlcyk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBUT0RPXG4gICAqXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0RmlsZU1hbmFnZXJzICgpIHtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2ZpbGVzL2ZpbGUtbWFuYWdlcnMvJykudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgcmV0dXJuIHJlc3AuZGF0YTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7RmlsZUxpc3Rpbmd8RmlsZUxpc3RpbmdbXX0gZmlsZXNcbiAgICovXG4gIGZ1bmN0aW9uIGNvbnRhaW5zRm9sZGVyIChmaWxlcykge1xuICAgIGlmICghIEFycmF5LmlzQXJyYXkoZmlsZXMpKSB7XG4gICAgICBmaWxlcyA9IFtmaWxlc107XG4gICAgfVxuXG4gICAgdmFyIGZvbGRlcnMgPSBfLmZpbHRlcihmaWxlcywge3R5cGU6J2Rpcid9KTtcbiAgICByZXR1cm4gKGZvbGRlcnMubGVuZ3RoID4gMCk7XG4gIH1cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwZXJtaXNzaW9uXG4gICAqIEBwYXJhbSB7RmlsZUxpc3Rpbmd8RmlsZUxpc3RpbmdbXX0gZmlsZXNcbiAgICovXG4gIGZ1bmN0aW9uIGhhc1Blcm1pc3Npb24gKHBlcm1pc3Npb24sIGZpbGVzKSB7XG4gICAgaWYgKCEgQXJyYXkuaXNBcnJheShmaWxlcykpIHtcbiAgICAgIGZpbGVzID0gW2ZpbGVzXTtcbiAgICB9XG4gICAgcmV0dXJuIF8ucmVkdWNlKGZpbGVzLCBmdW5jdGlvbihtZW1vLCBmaWxlKSB7XG4gICAgICB2YXIgcGVtID0gZmlsZS5wZXJtaXNzaW9ucyA9PT0gJ0FMTCcgfHwgZmlsZS5wZXJtaXNzaW9ucy5pbmRleE9mKHBlcm1pc3Npb24pID4gLTE7XG4gICAgICBpZiAobWVtbyAhPT0gbnVsbCkge1xuICAgICAgICBwZW0gPSBtZW1vICYmIHBlbTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwZW07XG4gICAgfSwgbnVsbCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIG5vdCBhIGdyZWF0IGltcGxlbWVudGF0aW9uLCBuZWVkIHRvIGJlIG1vcmUgZXh0ZW5zaWJsZS4uLlxuICAgKiBAcGFyYW0ge0ZpbGVMaXN0aW5nfSBmaWxlXG4gICAqL1xuICBmdW5jdGlvbiBpc1Byb3RlY3RlZCAoZmlsZSkge1xuICAgIGlmIChmaWxlLnN5c3RlbSA9PT0gJ2Rlc2lnbnNhZmUuc3RvcmFnZS5kZWZhdWx0Jykge1xuICAgICAgaWYgKGZpbGUudHJhaWwubGVuZ3RoID09PSAzICYmIGZpbGUubmFtZSA9PT0gJy5UcmFzaCcpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGRpcmVjdG9yeSBpbiB0aGUgY3VycmVudCBsaXN0aW5nIGRpcmVjdG9yeS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBmdW5jdGlvbiBta2RpciAoKSB7XG4gICAgdmFyIG1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9tb2RhbHMvZGF0YS1icm93c2VyLXNlcnZpY2UtbWtkaXIuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcbiAgICAgICAgJHNjb3BlLmZvcm0gPSB7XG4gICAgICAgICAgZm9sZGVyTmFtZTogJ1VudGl0bGVkX2ZvbGRlcidcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZG9DcmVhdGVGb2xkZXIgPSBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgkc2NvcGUuZm9ybS5mb2xkZXJOYW1lKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgICAgICB9O1xuICAgICAgfV1cbiAgICB9KTtcblxuICAgIHJldHVybiBtb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbihmb2xkZXJOYW1lKSB7XG4gICAgICBjdXJyZW50U3RhdGUuYnVzeSA9IHRydWU7XG4gICAgICBjdXJyZW50U3RhdGUubGlzdGluZy5ta2Rpcih7XG4gICAgICAgIG5hbWU6IGZvbGRlck5hbWVcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24obmV3RGlyKSB7XG4gICAgICAgIGN1cnJlbnRTdGF0ZS5idXN5ID0gZmFsc2U7XG4gICAgICAgIC8vbm90aWZ5KEZpbGVFdmVudHMuRklMRV9BRERFRCwgRmlsZUV2ZW50c01zZy5GSUxFX0FEREVELCBuZXdEaXIpO1xuICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIC8vIFRPRE8gYmV0dGVyIGVycm9yIGhhbmRsaW5nXG4gICAgICAgIGN1cnJlbnRTdGF0ZS5idXN5ID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7RmlsZUxpc3Rpbmd8RmlsZUxpc3RpbmdbXX0gZmlsZXNcbiAgICogQHBhcmFtIHtGaWxlTGlzdGluZ30gaW5pdGlhbERlc3RpbmF0aW9uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgZnVuY3Rpb24gbW92ZSAoZmlsZXMsIGluaXRpYWxEZXN0aW5hdGlvbikge1xuICAgIGlmICghIEFycmF5LmlzQXJyYXkoZmlsZXMpKSB7XG4gICAgICBmaWxlcyA9IFtmaWxlc107XG4gICAgfVxuXG4gICAgdmFyIG1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9tb2RhbHMvZGF0YS1icm93c2VyLXNlcnZpY2UtbW92ZS5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdNb2RhbE1vdmVDb3B5JyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGZpbGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhmaWxlcyk7XG4gICAgICAgICAgICByZXR1cm4gZmlsZXM7XG4gICAgICAgICAgfSxcbiAgICAgICAgLy8gaW5pdGlhbERlc3RpbmF0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbml0aWFsRGVzdGluYXRpb247IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1vZGFsLnJlc3VsdC50aGVuKFxuICAgICAgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBjdXJyZW50U3RhdGUuYnVzeSA9IHRydWU7XG4gICAgICAgIC8vaWYgKHJlc3VsdC5zeXN0ZW0gIT09IGZpbGVzWzBdLnN5c3RlbSl7XG4gICAgICAgIC8vICByZXR1cm4gJHEud2hlbihmaWxlcyk7XG4gICAgICAgIC8vfVxuICAgICAgICB2YXIgbW92ZVByb21pc2VzID0gXy5tYXAoZmlsZXMsIGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgcmV0dXJuIGYubW92ZSh7c3lzdGVtOiByZXN1bHQuc3lzdGVtLCBwYXRoOiByZXN1bHQucGF0aH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgZGVzZWxlY3QoW2ZdKTtcbiAgICAgICAgICAgIC8vbm90aWZ5KEZpbGVFdmVudHMuRklMRV9NT1ZFRCwgRmlsZUV2ZW50c01zZy5GSUxFX01PVkVELCBmKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gJHEuYWxsKG1vdmVQcm9taXNlcykudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgIGN1cnJlbnRTdGF0ZS5idXN5ID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0ZpbGVMaXN0aW5nfSBmaWxlXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBmdW5jdGlvbiBwcmV2aWV3IChmaWxlLCBsaXN0aW5nKSB7XG4gICAgdmFyIG1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9tb2RhbHMvZGF0YS1icm93c2VyLXNlcnZpY2UtcHJldmlldy5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdNb2RhbFByZXZpZXcnLFxuICAgICAgc2l6ZTogJ2xnJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgZmlsZTogZnVuY3Rpb24oKSB7IHJldHVybiBmaWxlOyB9XG4gICAgICB9XG4gICAgfSk7XG5cblxuICAgIHJldHVybiBtb2RhbC5yZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtGaWxlTGlzdGluZ30gZm9sZGVyXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBmdW5jdGlvbiBwcmV2aWV3SW1hZ2VzIChmb2xkZXIpIHtcbiAgICB2YXIgbW9kYWwgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICB3aW5kb3dDbGFzczogJ21vZGFsLWZ1bGwnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9tb2RhbHMvZGF0YS1icm93c2VyLXNlcnZpY2UtcHJldmlldy1pbWFnZXMuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICckc2NlJywgJ2ZvbGRlcicsZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsICRzY2UsIGZvbGRlcikge1xuICAgICAgICAkc2NvcGUuZm9sZGVyID0gZm9sZGVyO1xuICAgICAgICB2YXIgaW1nX2V4dGVuc2lvbnMgPSBbJ2pwZycsICdqcGVnJywgJ3BuZycsICd0aWZmJywgJ2dpZiddO1xuICAgICAgICAkc2NvcGUuYnVzeSA9IHRydWU7XG4gICAgICAgICRzY29wZS5pbWFnZXMgPSBbXTtcbiAgICAgICAgJHNjb3BlLmhyZWZzID0gW107XG4gICAgICAgICRzY29wZS5jYXJvdXNlbFNldHRpbmdzID0ge1xuICAgICAgICAgIGRvdHM6IHRydWUsXG4gICAgICAgICAgYXJyb3dzOiB0cnVlLFxuICAgICAgICAgIGxhenlMb2FkOiB0cnVlLFxuICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICBiZWZvcmVDaGFuZ2U6IGZ1bmN0aW9uIChldiwgc2xpY2ssIGN1cnJlbnRTbGlkZSwgbmV4dFNsaWRlKSB7XG4gICAgICAgICAgICAgICRzY29wZS5pbWFnZXNbbmV4dFNsaWRlXS5ocmVmID0gJHNjb3BlLmhyZWZzW25leHRTbGlkZV0uaHJlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLmZvbGRlci5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgdmFyIGV4dCA9IGZpbGUucGF0aC5zcGxpdCgnLicpLnBvcCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgaWYgKGltZ19leHRlbnNpb25zLmluZGV4T2YoZXh0KSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmhyZWZzLnB1c2goe2hyZWY6IGZpbGUuYWdhdmVVcmwoKSwgZmlsZTpmaWxlfSk7XG4gICAgICAgICAgICAgICRzY29wZS5pbWFnZXMucHVzaCh7ZmlsZTpmaWxlfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLmltYWdlc1swXSA9ICRzY29wZS5ocmVmc1swXTtcblxuICAgICAgICBpZiAoJHNjb3BlLmltYWdlcy5sZW5ndGggPiAxMCkge1xuICAgICAgICAgICRzY29wZS5jYXJvdXNlbFNldHRpbmdzLmRvdHMgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XG4gICAgICAgIH07XG5cbiAgICAgIH1dLFxuICAgICAgc2l6ZTogJ2xnJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgZm9sZGVyOiBmdW5jdGlvbigpIHsgcmV0dXJuIGZvbGRlcjsgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1vZGFsLnJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0ZpbGVMaXN0aW5nfSBmaWxlXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBmdW5jdGlvbiByZW5hbWUgKGZpbGUpIHtcbiAgICB2YXIgbW9kYWwgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci9kYXRhX2RlcG90L21vZGFscy9kYXRhLWJyb3dzZXItc2VydmljZS1yZW5hbWUuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdmaWxlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIGZpbGUpIHtcbiAgICAgICAgJHNjb3BlLmZvcm0gPSB7XG4gICAgICAgICAgdGFyZ2V0TmFtZTogZmlsZS5uYW1lXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmZpbGUgPSBmaWxlO1xuXG4gICAgICAgICRzY29wZS5kb1JlbmFtZUZpbGUgPSBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh7ZmlsZTogZmlsZSwgcmVuYW1lVG86ICRzY29wZS5mb3JtLnRhcmdldE5hbWV9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgICAgICB9O1xuICAgICAgfV0sXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIGZpbGU6IGZpbGVcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBtb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBjdXJyZW50U3RhdGUuYnVzeSA9IHRydWU7XG4gICAgICByZXR1cm4gcmVzdWx0LmZpbGUucmVuYW1lKHtuYW1lOiByZXN1bHQucmVuYW1lVG99KVxuICAgICAgICAudGhlbihcbiAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBjdXJyZW50U3RhdGUuYnVzeSA9IGZhbHNlO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdEYXRhQnJvd3NlclNlcnZpY2U6OlJlZnJlc2gnLCB7XG4gICAgICAgICAgICAgIHR5cGU6ICdyZW5hbWUnLFxuICAgICAgICAgICAgICBjb250ZXh0OiByZXN1bHQsXG4gICAgICAgICAgICAgIG1zZzogcmVzdWx0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5idXN5ID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0ZpbGVMaXN0aW5nfEZpbGVMaXN0aW5nW119IGZpbGVzXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBmdW5jdGlvbiBybSAoZmlsZXMpIHtcbiAgICBpZiAoISBBcnJheS5pc0FycmF5KGZpbGVzKSkge1xuICAgICAgZmlsZXMgPSBbZmlsZXNdO1xuICAgIH1cblxuICAgIHZhciBtb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy9wb3J0YWwvYXBwcy9kYXRhX2RlcG90L21vZGFscy9kYXRhLWJyb3dzZXItc2VydmljZS1ybS5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ2ZpbGVzJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIGZpbGVzKSB7XG4gICAgICAgICRzY29wZS5maWxlcyA9IGZpbGVzO1xuXG4gICAgICAgICRzY29wZS5jb25maXJtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoZmlsZXMpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XG4gICAgICAgIH07XG4gICAgICB9XSxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgZmlsZXM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmlsZXM7IH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBtb2RhbC5yZXN1bHQudGhlbihcbiAgICAgIGZ1bmN0aW9uIChmaWxlcykge1xuICAgICAgICBjdXJyZW50U3RhdGUuYnVzeSA9IHRydWU7XG4gICAgICAgIHZhciBkZWxldGVQcm9taXNlcyA9IF8ubWFwKGZpbGVzLCBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICAgIHJldHVybiBmaWxlLnJtKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBkZXNlbGVjdChbZmlsZV0pO1xuICAgICAgICAgICAgLy9ub3RpZnkoRmlsZUV2ZW50cy5GSUxFX1JFTU9WRUQsIEZpbGVFdmVudHNNc2cuRklMRV9SRU1PVkVELCBmaWxlKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gJHEuYWxsKGRlbGV0ZVByb21pc2VzKS50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5idXN5ID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlLmJ1c3kgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFRPRE9cbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICovXG4gIGZ1bmN0aW9uIHNlYXJjaCAob3B0aW9ucykge1xuICAgIGN1cnJlbnRTdGF0ZS5idXN5ID0gdHJ1ZTtcbiAgICBjdXJyZW50U3RhdGUuYnVzeUxpc3RpbmcgPSB0cnVlO1xuICAgIGN1cnJlbnRTdGF0ZS5lcnJvciA9IG51bGw7XG4gICAgcmV0dXJuIEZpbGVMaXN0aW5nLnNlYXJjaChvcHRpb25zLCBhcGlQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKGxpc3RpbmcpIHtcbiAgICAgIHNlbGVjdChbXSwgdHJ1ZSk7XG4gICAgICBjdXJyZW50U3RhdGUuYnVzeSA9IGZhbHNlO1xuICAgICAgY3VycmVudFN0YXRlLmJ1c3lMaXN0aW5nID0gZmFsc2U7XG4gICAgICBjdXJyZW50U3RhdGUubGlzdGluZyA9IGxpc3Rpbmc7XG4gICAgICByZXR1cm4gbGlzdGluZztcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjdXJyZW50U3RhdGUuYnVzeSA9IGZhbHNlO1xuICAgICAgY3VycmVudFN0YXRlLmJ1c3lMaXN0aW5nID0gZmFsc2U7XG4gICAgICBjdXJyZW50U3RhdGUubGlzdGluZyA9IG51bGw7XG4gICAgICBjdXJyZW50U3RhdGUuZXJyb3IgPSBlcnIuZGF0YTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBzaGFyaW5nIHBlcm1pc3Npb25zIG9uIGEgZmlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtGaWxlTGlzdGluZ30gZmlsZVxuICAgKiBAcmV0dXJuIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gc2hhcmUgKGZpbGUpIHtcbiAgICB2YXIgbW9kYWwgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvcG9ydGFsL2FwcHMvZGF0YV9kZXBvdC9tb2RhbHMvZGF0YS1icm93c2VyLXNlcnZpY2Utc2hhcmUuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdEamFuZ28nLCAnZmlsZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBEamFuZ28sIGZpbGUpIHtcbiAgICAgICAgJHNjb3BlLmRhdGEgPSB7XG4gICAgICAgICAgYnVzeTogdHJ1ZSxcbiAgICAgICAgICBmaWxlOiBmaWxlLFxuICAgICAgICAgIGN1cnJlbnRVc2VyOiBEamFuZ28udXNlcixcbiAgICAgICAgICBwZXJtaXNzaW9uT3B0aW9uczogW1xuICAgICAgICAgICAge3Blcm1pc3Npb246ICdSRUFEJywgbGFiZWw6ICdSZWFkIE9ubHknfSxcbiAgICAgICAgICAgIHtwZXJtaXNzaW9uOiAnUkVBRF9XUklURScsIGxhYmVsOiAnUmVhZC9Xcml0ZSd9LFxuICAgICAgICAgICAge3Blcm1pc3Npb246ICdBTEwnLCBsYWJlbDogJ0FsbCd9LFxuICAgICAgICAgICAge3Blcm1pc3Npb246ICdOT05FJywgbGFiZWw6ICdOb25lIChSZXZva2UgUGVybWlzc2lvbiknfVxuICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZm9ybSA9IHtcbiAgICAgICAgICBjdXJyZW50UGVybWlzc2lvbnM6IFtdLFxuICAgICAgICAgIGFkZFBlcm1pc3Npb25zOiBbe1xuICAgICAgICAgICAgdXNlcm5hbWU6IG51bGwsXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiAkc2NvcGUuZGF0YS5wZXJtaXNzaW9uT3B0aW9uc1swXVxuICAgICAgICAgIH1dXG4gICAgICAgIH07XG5cbiAgICAgICAgZmlsZS5saXN0UGVybWlzc2lvbnMoKS50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICRzY29wZS5mb3JtLmN1cnJlbnRQZXJtaXNzaW9ucyA9IF8uY2hhaW4ocmVzdWx0KVxuICAgICAgICAgICAgICAucmVqZWN0KGZ1bmN0aW9uIChwZW0pIHsgcmV0dXJuIHBlbS51c2VybmFtZSA9PT0gJ2RzX2FkbWluJyB8fCBwZW0udXNlcm5hbWUgPT09IERqYW5nby51c2VyOyB9KVxuICAgICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChwZW0pIHtcbiAgICAgICAgICAgICAgICAgIGlmIChwZW0ucGVybWlzc2lvbi5yZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW0ucGVybWlzc2lvbi53cml0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZW0ucGVybWlzc2lvbi5leGVjdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW0ucGVybWlzc2lvbiA9ICRzY29wZS5kYXRhLnBlcm1pc3Npb25PcHRpb25zWzJdO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW0ucGVybWlzc2lvbiA9ICRzY29wZS5kYXRhLnBlcm1pc3Npb25PcHRpb25zWzFdO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZW0ucGVybWlzc2lvbiA9ICRzY29wZS5kYXRhLnBlcm1pc3Npb25PcHRpb25zWzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZW0ucGVybWlzc2lvbiA9ICRzY29wZS5kYXRhLnBlcm1pc3Npb25PcHRpb25zWzNdO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHBlbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICkudmFsdWUoKTtcbiAgICAgICAgICAgICRzY29wZS5mb3JtLmluaXRpYWxQZXJtaXNzaW9ucyA9IGFuZ3VsYXIuY29weSgkc2NvcGUuZm9ybS5jdXJyZW50UGVybWlzc2lvbnMpO1xuICAgICAgICAgICAgJHNjb3BlLmRhdGEuYnVzeSA9IGZhbHNlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24gKGVyclJlc3ApIHtcbiAgICAgICAgICAgICRzY29wZS5kYXRhLmJ1c3kgPSBmYWxzZTtcbiAgICAgICAgICAgICRzY29wZS5kYXRhLmVycm9yTWVzc2FnZSA9IGVyclJlc3AuZGF0YTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgJHNjb3BlLmZvcm1hdFNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICh0aGlzLnBlbS51c2VybmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGVtLnVzZXJuYW1lLmZpcnN0X25hbWUgK1xuICAgICAgICAgICAgICAnICcgKyB0aGlzLnBlbS51c2VybmFtZS5sYXN0X25hbWUgK1xuICAgICAgICAgICAgICAnICgnICsgdGhpcy5wZW0udXNlcm5hbWUudXNlcm5hbWUgKyAnKSc7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGROZXdQZXJtaXNzaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLmZvcm0uYWRkUGVybWlzc2lvbnMucHVzaCh7dXNlcm5hbWU6IG51bGwsIHBlcm1pc3Npb246ICRzY29wZS5kYXRhLnBlcm1pc3Npb25PcHRpb25zWzBdfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmRvU2hhcmVGaWxlcyA9IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgdmFyIHBlbXNUb1NhdmUgPSBbXTtcblxuICAgICAgICAgIC8vIE9ubHkgc2F2ZSBleGlzdGluZyBwZXJtaXNzaW9ucyBpZiB0aGUgcGVybWlzc2lvbiBjaGFuZ2VkXG4gICAgICAgICAgXy5lYWNoKCRzY29wZS5mb3JtLmN1cnJlbnRQZXJtaXNzaW9ucywgZnVuY3Rpb24gKHBlbSkge1xuICAgICAgICAgICAgdmFyIHByZXYgPSBfLmZpbmRXaGVyZSgkc2NvcGUuZm9ybS5pbml0aWFsUGVybWlzc2lvbnMsIHt1c2VybmFtZTogcGVtLnVzZXJuYW1lfSk7XG4gICAgICAgICAgICBpZiAocHJldi5wZXJtaXNzaW9uLnBlcm1pc3Npb24gIT09IHBlbS5wZXJtaXNzaW9uLnBlcm1pc3Npb24pIHtcbiAgICAgICAgICAgICAgcGVtc1RvU2F2ZS5wdXNoKHt1c2VybmFtZTogcGVtLnVzZXJuYW1lLCBwZXJtaXNzaW9uOiBwZW0ucGVybWlzc2lvbi5wZXJtaXNzaW9ufSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBGb3JtYXQgbmV3IHBlcm1pc3Npb25zXG4gICAgICAgICAgdmFyIGFkZFBlbXMgPSBfLmZpbHRlcigkc2NvcGUuZm9ybS5hZGRQZXJtaXNzaW9ucywgZnVuY3Rpb24gKHBlbSkge1xuICAgICAgICAgICAgcmV0dXJuIHBlbS51c2VybmFtZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShwZW1zVG9TYXZlLCBfLm1hcChhZGRQZW1zLCBmdW5jdGlvbiAocGVtKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB1c2VybmFtZTogcGVtLnVzZXJuYW1lLnVzZXJuYW1lLFxuICAgICAgICAgICAgICBwZXJtaXNzaW9uOiBwZW0ucGVybWlzc2lvbi5wZXJtaXNzaW9uXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pKTtcblxuICAgICAgICAgIC8vIFJlc29sdmUgbW9kYWwgd2l0aCBwZW1zIHRoYXQgbmVlZCB0byBiZSBzYXZlZFxuICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHBlbXNUb1NhdmUpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gICAgICAgIH07XG5cbiAgICAgIH1dLFxuICAgICAgc2l6ZTogJ2xnJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgZmlsZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmlsZTsgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChwZW1zVG9TYXZlKSB7XG4gICAgICBjdXJyZW50U3RhdGUuYnVzeSA9IHRydWU7XG4gICAgICB2YXIgc2hhcmVQcm9taXNlcyA9IF8ubWFwKHBlbXNUb1NhdmUsIGZ1bmN0aW9uIChwZW0pIHtcbiAgICAgICAgcmV0dXJuIGZpbGUuc2hhcmUocGVtKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICRxLmFsbChzaGFyZVByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgIGN1cnJlbnRTdGF0ZS5idXN5ID0gZmFsc2U7XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0ZpbGVMaXN0aW5nfEZpbGVMaXN0aW5nW119IGZpbGVzIFRoZSBmaWxlcyB0byBtb3ZlIHRvIFRyYXNoXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdpdGggdGhlIHRyYXNoZWQgZmlsZXMgd2hlbiBfYWxsXyBmaWxlcyBoYXZlIGJlZW5cbiAgICogc3VjY2Vzc2Z1bGx5IFRyYXNoZWQuXG4gICAqL1xuICBmdW5jdGlvbiB0cmFzaCAoZmlsZXMpIHtcbiAgICBpZiAoISBBcnJheS5pc0FycmF5KGZpbGVzKSkge1xuICAgICAgZmlsZXMgPSBbZmlsZXNdO1xuICAgIH1cblxuICAgIGN1cnJlbnRTdGF0ZS5idXN5ID0gdHJ1ZTtcbiAgICB2YXIgdHJhc2hQcm9taXNlcyA9IF8ubWFwKGZpbGVzLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICByZXR1cm4gZmlsZS50cmFzaCgpLnRoZW4oZnVuY3Rpb24odHJhc2hlZCkge1xuICAgICAgICAvL25vdGlmeShGaWxlRXZlbnRzLkZJTEVfTU9WRUQsIEZpbGVFdmVudHNNc2cuRklMRV9NT1ZFRCwgdHJhc2hlZCk7XG4gICAgICAgIHJldHVybiB0cmFzaGVkO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICRxLmFsbCh0cmFzaFByb21pc2VzKS50aGVuKGZ1bmN0aW9uKHZhbCkge1xuICAgICAgY3VycmVudFN0YXRlLmJ1c3kgPSBmYWxzZTtcbiAgICAgIGJyb3dzZShjdXJyZW50U3RhdGUubGlzdGluZywgYXBpUGFyYW1zKTtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICBjdXJyZW50U3RhdGUuYnVzeSA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cblxuICBmdW5jdGlvbiBfdHJhc2hQYXRoKCkge1xuICAgIGlmIChjdXJyZW50U3RhdGUubGlzdGluZyAmJiBjdXJyZW50U3RhdGUubGlzdGluZy5zeXN0ZW0pIHtcbiAgICAgIHN3aXRjaCAoY3VycmVudFN0YXRlLmxpc3Rpbmcuc3lzdGVtKSB7XG4gICAgICAgIGNhc2UgJ2Rlc2lnbnNhZmUuc3RvcmFnZS5kZWZhdWx0JzpcbiAgICAgICAgICByZXR1cm4gWycnLCBEamFuZ28udXNlciwgJy5UcmFzaCddLmpvaW4oJy8nKTtcbiAgICAgICAgY2FzZSAnZGVzaWduc2FmZS5zdG9yYWdlLnByb2plY3RzJzpcbiAgICAgICAgICB2YXIgcHJvamVjdERpciA9IGN1cnJlbnRTdGF0ZS5saXN0aW5nLnBhdGguc3BsaXQoJy8nKVsxXTtcbiAgICAgICAgICByZXR1cm4gWycnLCBwcm9qZWN0RGlyLCAnLlRyYXNoJ10uam9pbignLycpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBVcGxvYWQgZmlsZXMgb3IgZm9sZGVycyB0byB0aGUgY3VycmVudGx5IGxpc3RlZCBkZXN0aW5hdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRpcmVjdG9yeVVwbG9hZFxuICAgKiBAcGFyYW0ge0ZpbGVMaXN0fSBbZmlsZXNdIEluaXRpYWwgc2VsZWN0ZWQgZmlsZShzKSB0byB1cGxvYWRcbiAgICovXG4gIGZ1bmN0aW9uIHVwbG9hZChkaXJlY3RvcnlVcGxvYWQsIGZpbGVzKSB7XG4gICAgdmFyIG1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3BvcnRhbC9hcHBzL2RhdGFfZGVwb3QvbW9kYWxzL2RhdGEtYnJvd3Nlci1zZXJ2aWNlLXVwbG9hZC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdNb2RhbFVwbG9hZCcsXG4gICAgICBzaXplOiAnbGcnLFxuICAgICAgcmVzb2x2ZToge1xuICAgICAgICBkaXJlY3RvcnlVcGxvYWQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZGlyZWN0b3J5VXBsb2FkOyB9LFxuICAgICAgICBkZXN0aW5hdGlvbjogZnVuY3Rpb24oKSB7IHJldHVybiBjdXJyZW50U3RhdGUubGlzdGluZzsgfSxcbiAgICAgICAgZmlsZXM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmlsZXM7IH0sXG4gICAgICAgIGN1cnJlbnRTdGF0ZTogZnVuY3Rpb24oKSB7IHJldHVybiBjdXJyZW50U3RhdGU7IH0sXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogT3BlbiBQcmV2aWV3IFRyZWVcbiAgICovXG4gIGZ1bmN0aW9uIG9wZW5QcmV2aWV3VHJlZShlbnRpdHlVdWlkKXtcbiAgICB2YXIgdGVtcGxhdGUgPSAnL3N0YXRpYy9wb3J0YWwvYXBwcy9kYXRhX2RlcG90L21vZGFscy9kYXRhLWJyb3dzZXItcHJldmlldy10cmVlLmh0bWwnO1xuICAgIHZhciBtb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgIHRlbXBsYXRlVXJsOiB0ZW1wbGF0ZSxcbiAgICAgIGNvbnRyb2xsZXI6WyckdWliTW9kYWxJbnN0YW5jZScsICckc2NvcGUnLFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oJHVpYk1vZGFsSW5zdGFuY2UsICRzY29wZSl7XG4gICAgICAgICRzY29wZS5kYXRhID0ge307XG4gICAgICAgICRzY29wZS5kYXRhLmVudGl0eVV1aWQgPSBlbnRpdHlVdWlkO1xuICAgICAgICAkc2NvcGUuZGF0YS5wcm9qZWN0ID0gY3VycmVudFN0YXRlLnByb2plY3Q7XG5cbiAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgIF1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPXG4gICAqXG4gICAqIEBwYXJhbSB7RmlsZUxpc3Rpbmd9IGZpbGUgVGhlIGZpbGUgdG8gdmlldyBtZXRhZGF0YSBmb3JcbiAgICogQHJldHVybiB7SHR0cFByb21pc2V9XG4gICAqL1xuICBmdW5jdGlvbiB2aWV3Q2F0ZWdvcmllcyAoZmlsZXMsIGxpc3RpbmcpIHtcbiAgICB2YXIgdGVtcGxhdGUgPSAnL3N0YXRpYy9wb3J0YWwvYXBwcy9kYXRhX2RlcG90L21vZGFscy9kYXRhLWJyb3dzZXItc2VydmljZS1jYXRlZ29yaWVzLmh0bWwnO1xuICAgIHZhciBmaWxlID0gbnVsbDtcbiAgICBpZiAodHlwZW9mIGZpbGVzICE9PSAndW5kZWZpbmVkJyl7XG4gICAgICBmaWxlID0gZmlsZXNbMF07XG4gICAgfVxuICAgIHZhciBtb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgIHRlbXBsYXRlVXJsOiB0ZW1wbGF0ZSxcbiAgICAgIGNvbnRyb2xsZXI6ICdNb2RhbFZpZXdDYXRlZ29yaWVzJyxcbiAgICAgIHNpemU6ICdsZycsXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgICdmaWxlJzogZnVuY3Rpb24oKSB7IHJldHVybiBmaWxlOyB9LFxuICAgICAgICAnZm9ybSc6IGZ1bmN0aW9uKCkgeyByZXR1cm4ge21ldGFkYXRhVGFnczogJyd9OyB9LFxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgdmFyIGZpbGUgPSBkYXRhLmZpbGU7XG4gICAgICB2YXIgZm9ybSA9IGRhdGEuZm9ybTtcbiAgICAgIHZhciBtZXRhT2JqID0ge1xuICAgICAgICBrZXl3b3JkczogZmlsZS5rZXl3b3JkcyB8fCBbXVxuICAgICAgfTtcbiAgICAgIGlmIChmb3JtLm1ldGFkYXRhVGFncykge1xuICAgICAgICBtZXRhT2JqLmtleXdvcmRzID0gbWV0YU9iai5rZXl3b3Jkcy5jb25jYXQoZm9ybS5tZXRhZGF0YVRhZ3Muc3BsaXQoJywnKSk7XG4gICAgICB9XG4gICAgICBpZiAoZm9ybS50YWdzVG9EZWxldGUubGVuZ3RoKXtcbiAgICAgICAgbWV0YU9iai5rZXl3b3JkcyA9IG1ldGFPYmoua2V5d29yZHMuZmlsdGVyKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICByZXR1cm4gZm9ybS50YWdzVG9EZWxldGUuaW5kZXhPZih2YWx1ZSkgPCAwO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRTdGF0ZS5idXN5ID0gdHJ1ZTtcbiAgICAgIGZpbGUudXBkYXRlTWV0YSh7J21ldGFkYXRhJzogbWV0YU9ian0pLnRoZW4oZnVuY3Rpb24oZmlsZV9yZXNwKXtcbiAgICAgICAgLy9ub3RpZnkoRmlsZUV2ZW50cy5GSUxFX01FVEFfVVBEQVRFRCwgRmlsZUV2ZW50c01zZy5GSUxFX01FVEFfVVBEQVRFRCwgZmlsZV9yZXNwKTtcbiAgICAgICAgY3VycmVudFN0YXRlLmJ1c3kgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE9cbiAgICpcbiAgICogQHBhcmFtIHtGaWxlTGlzdGluZ30gZmlsZSBUaGUgZmlsZSB0byB2aWV3IG1ldGFkYXRhIGZvclxuICAgKiBAcmV0dXJuIHtIdHRwUHJvbWlzZX1cbiAgICovXG4gIGZ1bmN0aW9uIHZpZXdNZXRhZGF0YSAoZmlsZXMsIGxpc3RpbmcpIHtcbiAgICB2YXIgdGVtcGxhdGUgPSAnL3N0YXRpYy9wb3J0YWwvYXBwcy9kYXRhX2RlcG90L21vZGFscy9kYXRhLWJyb3dzZXItc2VydmljZS1jdXN0b20tdGFncy5odG1sJztcbiAgICB2YXIgZmlsZSA9IG51bGw7XG4gICAgaWYgKHR5cGVvZiBmaWxlcyAhPT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgZmlsZSA9IGZpbGVzWzBdO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGZpbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgdHlwZW9mIGZpbGUubWV0YWRhdGEgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgZmlsZS5tZXRhZGF0YS5wcm9qZWN0ICE9PSAndW5kZWZpbmVkJyl7XG4gICAgICB0ZW1wbGF0ZSA9Jy9zdGF0aWMvcG9ydGFsL2FwcHMvZGF0YV9kZXBvdC9tb2RhbHMvZGF0YS1icm93c2VyLXNlcnZpY2UtcHVibGlzaGVkLW1ldGFkYXRhLmh0bWwnO1xuICAgIH1cbiAgICB2YXIgbW9kYWwgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICB0ZW1wbGF0ZVVybDogdGVtcGxhdGUsXG4gICAgICBjb250cm9sbGVyOiAnTW9kYWxWaWV3TWV0YWRhdGEnLFxuICAgICAgc2l6ZTogJ2xnJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgJ2ZpbGUnOiBmdW5jdGlvbigpIHsgcmV0dXJuIGZpbGU7IH0sXG4gICAgICAgICdmb3JtJzogZnVuY3Rpb24oKSB7IHJldHVybiB7bWV0YWRhdGFUYWdzOiAnJ307IH0sXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICB2YXIgZmlsZSA9IGRhdGEuZmlsZTtcbiAgICAgIHZhciBmb3JtID0gZGF0YS5mb3JtO1xuICAgICAgdmFyIG1ldGFPYmogPSB7XG4gICAgICAgIGtleXdvcmRzOiBmaWxlLmtleXdvcmRzIHx8IFtdXG4gICAgICB9O1xuICAgICAgaWYgKGZvcm0ubWV0YWRhdGFUYWdzKSB7XG4gICAgICAgIG1ldGFPYmoua2V5d29yZHMgPSBtZXRhT2JqLmtleXdvcmRzLmNvbmNhdChmb3JtLm1ldGFkYXRhVGFncy5zcGxpdCgnLCcpKTtcbiAgICAgIH1cbiAgICAgIGlmIChmb3JtLnRhZ3NUb0RlbGV0ZS5sZW5ndGgpe1xuICAgICAgICBtZXRhT2JqLmtleXdvcmRzID0gbWV0YU9iai5rZXl3b3Jkcy5maWx0ZXIoZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgIHJldHVybiBmb3JtLnRhZ3NUb0RlbGV0ZS5pbmRleE9mKHZhbHVlKSA8IDA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY3VycmVudFN0YXRlLmJ1c3kgPSB0cnVlO1xuICAgICAgZmlsZS51cGRhdGVNZXRhKHsnbWV0YWRhdGEnOiBtZXRhT2JqfSkudGhlbihmdW5jdGlvbihmaWxlX3Jlc3Ape1xuICAgICAgICAvL25vdGlmeShGaWxlRXZlbnRzLkZJTEVfTUVUQV9VUERBVEVELCBGaWxlRXZlbnRzTXNnLkZJTEVfTUVUQV9VUERBVEVELCBmaWxlX3Jlc3ApO1xuICAgICAgICBjdXJyZW50U3RhdGUuYnVzeSA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAY2FsbGJhY2sgc3Vic2NyaWJlQ2FsbGJhY2tcbiAgICogQHBhcmFtIHtvYmplY3R9ICRldmVudFxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnREYXRhXG4gICAqIEBwYXJhbSB7RmlsZUV2ZW50c30gZXZlbnREYXRhLnR5cGVcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50RGF0YS5jb250ZXh0XG4gICAqL1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHNjb3BlXG4gICAqIEBwYXJhbSB7c3Vic2NyaWJlQ2FsbGJhY2t9IGNhbGxiYWNrXG4gICAqL1xuICBmdW5jdGlvbiBzdWJzY3JpYmUoc2NvcGUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignRGF0YUJyb3dzZXJTZXJ2aWNlOjpFdmVudCcsIGNhbGxiYWNrKTtcbiAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtGaWxlRXZlbnRzfSBldmVudFR5cGUgVGhlIGV2ZW50XG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudENvbnRleHQgVGhlIG9iamVjdC9jb250ZXh0IG9mIHRoZSBldmVudC4gVGhlIHZhbHVlIG9mIHRoaXMgcGFyYW1ldGVyIGRlcGVuZHMgb24gdGhlIGBldmVudFR5cGVgXG4gICAqL1xuICBmdW5jdGlvbiBub3RpZnkoZXZlbnRUeXBlLCBldmVudE1zZywgZXZlbnRDb250ZXh0KSB7XG4gICAgJHJvb3RTY29wZS4kZW1pdCgnRGF0YUJyb3dzZXJTZXJ2aWNlOjpFdmVudCcsIHtcbiAgICAgIHR5cGU6IGV2ZW50VHlwZSxcbiAgICAgIGNvbnRleHQ6IGV2ZW50Q29udGV4dCxcbiAgICAgIG1zZzogZXZlbnRNc2dcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjcm9sbFRvVG9wKCl7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZnVuY3Rpb24gc2Nyb2xsVG9Cb3R0b20oKXtcbiAgICBpZiAoY3VycmVudFN0YXRlLmxvYWRpbmdNb3JlIHx8IGN1cnJlbnRTdGF0ZS5yZWFjaGVkRW5kKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudFN0YXRlLmxvYWRpbmdNb3JlID0gdHJ1ZTtcbiAgICBpZiAoY3VycmVudFN0YXRlLmxpc3RpbmcgJiYgY3VycmVudFN0YXRlLmxpc3RpbmcuY2hpbGRyZW4gJiZcbiAgICAgICAgY3VycmVudFN0YXRlLmxpc3RpbmcuY2hpbGRyZW4ubGVuZ3RoIDwgOTUpe1xuICAgICAgY3VycmVudFN0YXRlLnJlYWNoZWRFbmQgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50U3RhdGUucGFnZSArPSAxO1xuICAgIGN1cnJlbnRTdGF0ZS5sb2FkaW5nTW9yZSA9IHRydWU7XG4gICAgYnJvd3NlUGFnZSh7c3lzdGVtOiBjdXJyZW50U3RhdGUubGlzdGluZy5zeXN0ZW0sXG4gICAgICAgICAgICAgICAgcGF0aDogY3VycmVudFN0YXRlLmxpc3RpbmcucGF0aCxcbiAgICAgICAgICAgICAgICBwYWdlOiBjdXJyZW50U3RhdGUucGFnZX0pXG4gICAgLnRoZW4oZnVuY3Rpb24obGlzdGluZyl7XG4gICAgICAgIGN1cnJlbnRTdGF0ZS5sb2FkaW5nTW9yZSA9IGZhbHNlO1xuICAgICAgICBpZiAobGlzdGluZy5jaGlsZHJlbi5sZW5ndGggPCA5NSkge1xuICAgICAgICAgIGN1cnJlbnRTdGF0ZS5yZWFjaGVkRW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24gKGVycil7XG4gICAgICAgICAgIGN1cnJlbnRTdGF0ZS5sb2FkaW5nTW9yZSA9IGZhbHNlO1xuICAgICAgICAgICBjdXJyZW50U3RhdGUucmVhY2hlZEVuZCA9IHRydWU7XG4gICAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLyogcHJvcGVydGllcyAqL1xuICAgIEZpbGVFdmVudHM6IEZpbGVFdmVudHMsXG4gICAgc3RhdGU6IHN0YXRlLFxuICAgIGFwaVBhcmFtZXRlcnM6IGFwaVBhcmFtZXRlcnMsXG4gICAgdG9vbGJhck9wdGlvbnM6IHRvb2xiYXJPcHRpb25zLFxuXG4gICAgLyogZGF0YS9maWxlcyBmdW5jdGlvbnMgKi9cbiAgICBhbGxvd2VkQWN0aW9uczogYWxsb3dlZEFjdGlvbnMsXG4gICAgYnJvd3NlOiBicm93c2UsXG4gICAgYnJvd3NlUGFnZTogYnJvd3NlUGFnZSxcbiAgICBzY3JvbGxUb1RvcDogc2Nyb2xsVG9Ub3AsXG4gICAgc2Nyb2xsVG9Cb3R0b206IHNjcm9sbFRvQm90dG9tLFxuICAgIGNvcHk6IGNvcHksXG4gICAgZGVzZWxlY3Q6IGRlc2VsZWN0LFxuICAgIC8vIGRldGFpbHM6IGRldGFpbHMsXG4gICAgZG93bmxvYWQ6IGRvd25sb2FkLFxuICAgIGdldEZpbGVNYW5hZ2VyczogZ2V0RmlsZU1hbmFnZXJzLFxuICAgIGhhc1Blcm1pc3Npb246IGhhc1Blcm1pc3Npb24sXG4gICAgaXNQcm90ZWN0ZWQ6IGlzUHJvdGVjdGVkLFxuICAgIG1rZGlyOiBta2RpcixcbiAgICBtb3ZlOiBtb3ZlLFxuICAgIHByZXZpZXc6IHByZXZpZXcsXG4gICAgcHJldmlld0ltYWdlczogcHJldmlld0ltYWdlcyxcbiAgICByZW5hbWU6IHJlbmFtZSxcbiAgICBybTogcm0sXG4gICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgc2VsZWN0OiBzZWxlY3QsXG4gICAgc2hhcmU6IHNoYXJlLFxuICAgIHRyYXNoOiB0cmFzaCxcbiAgICB1cGxvYWQ6IHVwbG9hZCxcbiAgICB2aWV3TWV0YWRhdGE6IHZpZXdNZXRhZGF0YSxcbiAgICB2aWV3Q2F0ZWdvcmllczogdmlld0NhdGVnb3JpZXMsXG5cbiAgICAvKiBldmVudHMgKi9cbiAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcbiAgICBub3RpZnk6IG5vdGlmeSxcbiAgICBhcGlQYXJhbXM6IGFwaVBhcmFtcyxcbiAgICB0b29sYmFyT3B0czogdG9vbGJhck9wdHMsXG4gICAgc2hvd0xpc3Rpbmc6IHNob3dMaXN0aW5nLFxuICAgIHNob3dQcmV2aWV3OiBzaG93UHJldmlldyxcbiAgICBvcGVuUHJldmlld1RyZWU6IG9wZW5QcmV2aWV3VHJlZVxuICB9O1xuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBEYXRhQnJvd3NlclNlcnZpY2U7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9zZXJ2aWNlcy9kYXRhLWJyb3dzZXItc2VydmljZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nfunction FileListing($http, $q) {\n  'ngInject';\n  //var logger = Logging.getLogger('ngDesignSafe.FileListing');\n\n  function FileListing(json, apiParams) {\n    angular.extend(this, json);\n\n    // wrap children as FileListing instances\n    if (this.children && this.children instanceof Array) {\n      this.children = _.map(this.children, function (child) {\n        var fl = new FileListing(child);\n        fl._parent = this;\n        return fl;\n      }, this);\n    }\n    if (typeof apiParams !== 'undefined' && apiParams !== null && !_.isEmpty(apiParams)) {\n      this.apiParams = apiParams;\n    }\n    if (typeof this._entities === 'undefined') {\n      this._entities = [];\n    }\n    if (typeof this._entityTags === 'undefined') {\n      this._entityTags = [];\n    }\n  }\n\n  FileListing.prototype.setEntities = function (projectId, entities) {\n    var self = this;\n    var path = self.path;\n    self._entities = [];\n    _.each(entities, function (entity) {\n      if (typeof entity !== 'undefined' && typeof entity._links !== 'undefined' && typeof entity._links.associationIds !== 'undefined') {\n        _.each(entity._links.associationIds, function (asc) {\n          if (asc.title === 'file') {\n            var comps = asc.href.split('project-' + projectId, 2);\n            if (comps.length === 2 && path.replace(/^\\/+/, '') === comps[1].replace(/^\\/+/, '')) {\n              self._entities.push(entity);\n            }\n          }\n        });\n      }\n    });\n    if (self._entities.length) {\n      self._entities = _.uniq(self._entities, function (e) {\n        return e.uuid;\n      });\n      var myAsoc = _.find(self._entities[0]._links.associationIds, function (asc) {\n        if (asc.title === 'file') {\n          var comps = asc.href.split('project-' + projectId, 2);\n          return self.path.replace(/^\\/+/, '') === comps[1].replace(/^\\/+/, '');\n        }\n      });\n      if (myAsoc) {\n        var myUuid = myAsoc.rel;\n        _.each(self._entities, function (entity) {\n          if (_.contains(entity.value.modelDrawing || [], myUuid)) {\n            self._entityTags.push('Model Drawing');\n          } else if (_.contains(entity.value.load || [], myUuid)) {\n            self._entityTags.push('Load');\n          } else if (_.contains(entity.value.sensorDrawing || [], myUuid)) {\n            self._entityTags.push('Sensor Drawing');\n          } else if (_.contains(entity.value.script || [], myUuid)) {\n            self._entityTags.push('Script');\n          }\n        });\n      }\n      self._entityTags = _.uniq(self._entityTags);\n    }\n  };\n\n  FileListing.prototype.uuid = function () {\n    try {\n      var parser = document.createElement('a');\n      parser.href = decodeURIComponent(this._links.metadata.href);\n      var q = parser.search.substring(3);\n      var uuid = JSON.parse(decodeURIComponent(q)).associationIds;\n      return uuid;\n    } catch (e) {\n      return '';\n    }\n  };\n\n  FileListing.prototype.parentPath = function () {\n    var pathComps = this.path.split('/');\n    return pathComps.slice(0, pathComps.length - 1).join('/');\n  };\n\n  FileListing.prototype.fileMgr = function () {\n    if (typeof this.apiParams !== 'undefined' && this.apiParams !== null && !_.isEmpty(this.apiParams)) {\n      return this.apiParams.fileMgr;\n    } else {\n      return 'my-data';\n    }\n  };\n\n  FileListing.prototype._baseUrl = function () {\n    if (typeof this.apiParams !== 'undefined' && this.apiParams !== null && !_.isEmpty(this.apiParams)) {\n      return this.apiParams.baseUrl;\n    } else {\n      return '/api/data-depot/files';\n    }\n  };\n\n  FileListing.prototype.listingUrl = function () {\n    var urlParts = [this._baseUrl(), 'listing', this.fileMgr()];\n    if (this.system) {\n      urlParts.push(this.system);\n    }\n    if (this.id && this.id.indexOf('/') > -1) {\n      urlParts.push(this.id);\n    } else if (this.path) {\n      urlParts.push(this.path);\n    }\n    return urlParts.join('/');\n  };\n\n  FileListing.prototype.mediaUrl = function () {\n    var urlParts = [this._baseUrl(), 'media', this.fileMgr()];\n    if (this.system) {\n      urlParts.push(this.system);\n    }\n    if (this.id && this.id.indexOf('/') > -1) {\n      urlParts.push(this.id);\n    } else if (this.path) {\n      urlParts.push(this.path);\n    }\n    return urlParts.join('/');\n  };\n\n  FileListing.prototype.pemsUrl = function () {\n    var urlParts = [this._baseUrl(), 'pems', this.fileMgr()];\n    if (this.system) {\n      urlParts.push(this.system);\n    }\n    if (this.id && this.id.indexOf('/') > -1) {\n      urlParts.push(this.id);\n    } else if (this.path) {\n      urlParts.push(this.path);\n    }\n    return urlParts.join('/');\n  };\n\n  FileListing.prototype.metaUrl = function () {\n    var urlParts = [this._baseUrl(), 'meta', this.fileMgr()];\n    if (this.system) {\n      urlParts.push(this.system);\n    }\n    if (this.id && this.id.indexOf('/') > -1) {\n      urlParts.push(this.id);\n    } else if (this.path) {\n      urlParts.push(this.path);\n    }\n    return urlParts.join('/');\n  };\n\n  FileListing.prototype.searchUrl = function () {\n    var urlParts = [this._baseUrl(), 'search', this.fileMgr()];\n    if (this.system) {\n      urlParts.push(this.system);\n    }\n    return urlParts.join('/');\n  };\n\n  FileListing.prototype.agaveUri = function () {\n    return 'agave://' + this.system + '/' + this.path;\n  };\n\n  FileListing.prototype.agaveUrl = function () {\n    return 'https://agave.designsafe-ci.org/files/v2/media/system/' + this.system + '/' + this.path;\n  };\n\n  /**\n   * Make a copy of this FileResource.\n   *\n   * @param {object} options\n   * @param {string} [options.path] The path to copy to\n   * @param {string} [options.name] The new name for the copy\n   * @returns {*}\n   */\n  FileListing.prototype.copy = function (options) {\n    var body = {\n      \"action\": \"copy\",\n      \"system\": options.system,\n      \"path\": options.path,\n      \"name\": options.name,\n      \"resource\": options.resource || \"\"\n    };\n    return $http.put(this.mediaUrl(), body).then(function (resp) {\n      return new FileListing(resp.data);\n    });\n  };\n\n  FileListing.prototype.download = function () {\n    var body = {\n      \"action\": \"download\"\n    };\n    return $http.put(this.mediaUrl(), body).then(function (resp) {\n      return resp.data;\n    }, function (err) {\n      return $q.reject(err.data);\n    });\n  };\n\n  FileListing.prototype.search = function (params) {\n    var self = this;\n    return $http.get(this.searchUrl(), { params: params }).then(function (res) {\n      angular.extend(self, res.data);\n      if (self.children && self.children instanceof Array) {\n        self.children = _.map(self.children, function (child) {\n          var fl = new FileListing(child, self.apiParams);\n          fl._parent = self;\n          return fl;\n        }, self);\n      }\n      return self;\n    }, function (err) {\n      return $q.reject(err.data);\n    });\n  };\n\n  FileListing.prototype.fetch = function (params) {\n    var self = this;\n\n    var stopper = $q.defer();\n    var req = $http.get(this.listingUrl(), { params: params, timeout: stopper.promise }).then(function (resp) {\n      angular.extend(self, resp.data.response);\n\n      // wrap children as FileListing instances\n      if (self.children && self.children instanceof Array) {\n        self.children = _.map(self.children, function (child) {\n          var fl = new FileListing(child, self.apiParams);\n          fl._parent = self;\n          return fl;\n        }, self);\n      }\n\n      return self;\n    }, function (err) {\n      return $q.reject(err);\n    });\n    req.stopper = stopper;\n    return req;\n  };\n\n  FileListing.prototype.getMeta = function () {\n    var self = this;\n    return $http.get(this.metaUrl()).then(function (resp) {\n      angular.extend(self, resp.data);\n      return self;\n    }, function (err) {\n      return $q.reject(err.data);\n    });\n  };\n\n  FileListing.prototype.updateMeta = function (metaObj) {\n    var self = this;\n    return $http.put(this.metaUrl(), metaObj).then(function (resp) {\n      angular.extend(self, resp.data);\n      return self;\n    }, function (err) {\n      return $q.reject(err.data);\n    });\n  };\n\n  FileListing.prototype.icon = function () {\n    if (this.type === 'dir' || this.type === 'folder') {\n      return 'fa-folder';\n    }\n\n    var icon;\n    var ext = this.name.split('.').pop().toLowerCase();\n    switch (ext) {\n      case 'zip':\n      case 'tar':\n      case 'gz':\n      case 'bz2':\n        icon = 'fa-file-archive-o';\n        break;\n      case 'png':\n      case 'jpg':\n      case 'jpeg':\n      case 'gif':\n      case 'tif':\n      case 'tiff':\n        icon = 'fa-file-image-o';\n        break;\n      case 'pdf':\n        icon = 'fa-file-pdf-o';\n        break;\n      case 'doc':\n      case 'docx':\n        icon = 'fa-file-word-o';\n        break;\n      case 'xls':\n      case 'xlsx':\n        icon = 'fa-file-excel-o';\n        break;\n      case 'ppt':\n      case 'pptx':\n        icon = 'fa-file-powerpoint-o';\n        break;\n      case 'mov':\n      case 'mp4':\n        icon = 'fa-file-video-o';\n        break;\n      case 'mp3':\n      case 'wav':\n        icon = 'fa-file-audio-o';\n        break;\n      case 'txt':\n      case 'out':\n      case 'err':\n        icon = 'fa-file-text-o';\n        break;\n      case 'tcl':\n      case 'sh':\n      case 'json':\n        icon = 'fa-file-code-o';\n        break;\n      default:\n        icon = 'fa-file-o';\n    }\n    return icon;\n  };\n\n  /**\n   * Make a new child directory.\n   *\n   * @param {object} options\n   * @param {string} options.name The name for the new directory\n   */\n  FileListing.prototype.mkdir = function (options) {\n    if (this.type !== 'dir') {\n      throw new Error('FileListing.mkdir can only be called for \"dir\" type FileListings.');\n    }\n\n    var self = this;\n    var body = {\n      \"action\": \"mkdir\",\n      \"name\": options.name\n    };\n    return $http.put(this.mediaUrl(), body).then(function (resp) {\n      var newDir = new FileListing(resp.data);\n      self.children.push(newDir);\n      return newDir;\n    }, function (err) {\n      return $q.reject(err.data);\n    });\n  };\n\n  /**\n   * Move a file to a new location.\n   *\n   * @param {object} options\n   * @param {string} options.path The path of the destination directory for the operation\n   * @param {string} [options.name] An optional new name for the moved file\n   * @returns {*}\n   */\n  FileListing.prototype.move = function (options) {\n    var self = this;\n    var body = {\n      \"action\": \"move\",\n      \"system\": options.system,\n      \"path\": options.path,\n      \"name\": options.name\n    };\n    return $http.put(this.mediaUrl(), body).then(function (resp) {\n      var newDir = new FileListing(resp.data);\n      /* remove this file from previous parent's children */\n      if (self._parent) {\n        self._parent.children = _.reject(self._parent.children, function (child) {\n          return child.path === self.path;\n        });\n        self._parent = undefined;\n      }\n      return newDir;\n    }, function (err) {\n      return $q.reject(err.data);\n    });\n  };\n\n  /**\n   * Get the permissions for this FileListing.\n   *\n   * @return {Promise}\n   */\n  FileListing.prototype.listPermissions = function () {\n    if (this._permissions) {\n      return $q.resolve(this._permissions);\n    } else {\n      var self = this;\n      return $http.get(this.pemsUrl()).then(function (resp) {\n        self._permissions = resp.data;\n        return self._permissions;\n      }, function (err) {\n        return $q.reject(err.data);\n      });\n    }\n  };\n\n  /**\n   * Request a preview of the file. Returns a promise that will be resolved\n   * with an object with a single attribute `href` where the preview can be\n   * fetched. If a preview is unavailable the promise will be rejected.\n   *\n   * @return {Promise}\n   */\n  FileListing.prototype.preview = function () {\n    var body = {\n      \"action\": \"preview\"\n    };\n    return $http.put(this.mediaUrl(), body).then(function (resp) {\n      return resp.data.response;\n    }, function (err) {\n      return $q.reject(err.data);\n    });\n  };\n\n  /**\n   * Rename a file. Implicitly, this is a move operation with the same path and a new\n   * name.\n   *\n   * @param {object} options\n   * @param {string} options.name The new name for this file.\n   * @returns {Promise}\n   */\n  FileListing.prototype.rename = function (options) {\n    var self = this;\n    var body = {\n      \"action\": \"rename\",\n      \"name\": options.name\n    };\n    return $http.put(this.mediaUrl(), body).then(function (resp) {\n      /* update self */\n      angular.extend(self, resp.data);\n    }, function (err) {\n      return $q.reject(err.data);\n    });\n  };\n\n  /**\n   * Removes the current file\n   *\n   * @return {Promise}\n   */\n  FileListing.prototype.rm = function () {\n    var self = this;\n    return $http.delete(this.mediaUrl()).then(function (resp) {\n      /* remove from self._parent.children */\n      if (self._parent) {\n        self._parent.children = _.reject(self._parent.children, function (child) {\n          return child.path === self.path;\n        });\n      }\n    }, function (err) {\n      return $q.reject(err.data);\n    });\n  };\n\n  /**\n   * Update sharing permissions on a file according to the given options.\n   *\n   * @param {object} options\n   * @param {string} options.username The username of the user whose permissions to update\n   * @param {string} options.permission The new permission value\n   */\n  FileListing.prototype.share = function (options) {\n    return $http.post(this.pemsUrl(), options).then(function (resp) {\n      return resp.data;\n    }, function (err) {\n      return $q.reject(err.data);\n    });\n  };\n\n  /**\n   * This is much like move, except with the implicit destination path of ~/.Trash.\n   * This also will rename the file if a file with the same name already exists in\n   * ~/.Trash.\n   *\n   * @returns {Promise}\n   */\n  FileListing.prototype.trash = function () {\n    var self = this;\n    var body = {\n      \"action\": \"trash\"\n    };\n    return $http.put(this.mediaUrl(), body).then(function (resp) {\n      var trashed = new FileListing(resp.data);\n\n      /* remove this file from previous parent's children */\n      if (self._parent) {\n        self._parent.children = _.reject(self._parent.children, function (child) {\n          return child.path === self.path;\n        });\n        self._parent = undefined;\n      }\n      if (trashed.name !== self.name) {\n        // TODO notify user via Toastr\n        window.alert('File was renamed to \"' + trashed.name + '\".');\n      }\n      return trashed;\n    });\n  };\n\n  /**\n   * Upload as a new file\n   * @param {FormData} data The Multipart FormData\n   */\n  FileListing.prototype.upload = function (data) {\n    return $http.post(this.mediaUrl(), data, { headers: { 'Content-Type': undefined } }).then(function (result) {\n      return result.data;\n    }, function (err) {\n      return $q.reject(err.data);\n    });\n  };\n\n  // function FilePermission(json) {\n  //   angular.extend(this, json);\n  // }\n  //\n  //\n  // FilePermission.prototype.permissionBit = function () {\n  //   if (this.permission.read) {\n  //     if (this.permission.write) {\n  //       if (this.permission.execute) {\n  //         return 'ALL';\n  //       }\n  //       return 'READ_WRITE';\n  //     }\n  //     return 'READ';\n  //   } else if (this.permission.write) {\n  //     if (this.permission.execute) {\n  //       return 'WRITE_EXECUTE';\n  //     }\n  //     return 'WRITE';\n  //   } else if (this.permission.execute) {\n  //     return 'EXECUTE';\n  //   }\n  //   return 'NONE';\n  // };\n\n  /**\n   *\n   * @param {object} options\n   * @param {string} options.system\n   * @param {string} options.path\n   * @returns {Promise}\n   */\n  function get(options, apiParams, params) {\n    var req;\n    var fl = new FileListing(options, apiParams);\n    if (params) {\n      req = fl.fetch(params);\n    } else {\n      req = fl.fetch();\n    }\n    return req;\n  }\n\n  function init(obj, apiParams) {\n    return new FileListing(obj, apiParams);\n  }\n\n  /**\n   * @param {object} options\n   * @param {string} options.system\n   * @param {string} options.q\n   * @param {int} options.offset\n   * @param {int} options.limit\n   */\n  function search(options, apiParams) {\n    var fl = new FileListing(options, apiParams);\n    return fl.search(options);\n  }\n\n  /**\n   * Public API\n   */\n  return {\n    get: get,\n    search: search,\n    init: init\n  };\n}\n\nexports.default = FileListing;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9zZXJ2aWNlcy9maWxlLWxpc3RpbmcuanM/MDU4ZCJdLCJuYW1lcyI6WyJGaWxlTGlzdGluZyIsIiRodHRwIiwiJHEiLCJqc29uIiwiYXBpUGFyYW1zIiwiYW5ndWxhciIsImV4dGVuZCIsImNoaWxkcmVuIiwiQXJyYXkiLCJfIiwibWFwIiwiY2hpbGQiLCJmbCIsIl9wYXJlbnQiLCJpc0VtcHR5IiwiX2VudGl0aWVzIiwiX2VudGl0eVRhZ3MiLCJwcm90b3R5cGUiLCJzZXRFbnRpdGllcyIsInByb2plY3RJZCIsImVudGl0aWVzIiwic2VsZiIsInBhdGgiLCJlYWNoIiwiZW50aXR5IiwiX2xpbmtzIiwiYXNzb2NpYXRpb25JZHMiLCJhc2MiLCJ0aXRsZSIsImNvbXBzIiwiaHJlZiIsInNwbGl0IiwibGVuZ3RoIiwicmVwbGFjZSIsInB1c2giLCJ1bmlxIiwiZSIsInV1aWQiLCJteUFzb2MiLCJmaW5kIiwibXlVdWlkIiwicmVsIiwiY29udGFpbnMiLCJ2YWx1ZSIsIm1vZGVsRHJhd2luZyIsImxvYWQiLCJzZW5zb3JEcmF3aW5nIiwic2NyaXB0IiwicGFyc2VyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwibWV0YWRhdGEiLCJxIiwic2VhcmNoIiwic3Vic3RyaW5nIiwiSlNPTiIsInBhcnNlIiwicGFyZW50UGF0aCIsInBhdGhDb21wcyIsInNsaWNlIiwiam9pbiIsImZpbGVNZ3IiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJsaXN0aW5nVXJsIiwidXJsUGFydHMiLCJzeXN0ZW0iLCJpZCIsImluZGV4T2YiLCJtZWRpYVVybCIsInBlbXNVcmwiLCJtZXRhVXJsIiwic2VhcmNoVXJsIiwiYWdhdmVVcmkiLCJhZ2F2ZVVybCIsImNvcHkiLCJvcHRpb25zIiwiYm9keSIsIm5hbWUiLCJyZXNvdXJjZSIsInB1dCIsInRoZW4iLCJyZXNwIiwiZGF0YSIsImRvd25sb2FkIiwiZXJyIiwicmVqZWN0IiwicGFyYW1zIiwiZ2V0IiwicmVzIiwiZmV0Y2giLCJzdG9wcGVyIiwiZGVmZXIiLCJyZXEiLCJ0aW1lb3V0IiwicHJvbWlzZSIsInJlc3BvbnNlIiwiZ2V0TWV0YSIsInVwZGF0ZU1ldGEiLCJtZXRhT2JqIiwiaWNvbiIsInR5cGUiLCJleHQiLCJwb3AiLCJ0b0xvd2VyQ2FzZSIsIm1rZGlyIiwiRXJyb3IiLCJuZXdEaXIiLCJtb3ZlIiwidW5kZWZpbmVkIiwibGlzdFBlcm1pc3Npb25zIiwiX3Blcm1pc3Npb25zIiwicmVzb2x2ZSIsInByZXZpZXciLCJyZW5hbWUiLCJybSIsImRlbGV0ZSIsInNoYXJlIiwicG9zdCIsInRyYXNoIiwidHJhc2hlZCIsIndpbmRvdyIsImFsZXJ0IiwidXBsb2FkIiwiaGVhZGVycyIsInJlc3VsdCIsImluaXQiLCJvYmoiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFQSxTQUFTQSxXQUFULENBQXFCQyxLQUFyQixFQUE0QkMsRUFBNUIsRUFBZ0M7QUFDOUI7QUFDQTs7QUFFQSxXQUFTRixXQUFULENBQXFCRyxJQUFyQixFQUEyQkMsU0FBM0IsRUFBc0M7QUFDcENDLFlBQVFDLE1BQVIsQ0FBZSxJQUFmLEVBQXFCSCxJQUFyQjs7QUFFQTtBQUNBLFFBQUksS0FBS0ksUUFBTCxJQUFpQixLQUFLQSxRQUFMLFlBQXlCQyxLQUE5QyxFQUFxRDtBQUNuRCxXQUFLRCxRQUFMLEdBQWdCRSxFQUFFQyxHQUFGLENBQU0sS0FBS0gsUUFBWCxFQUFxQixVQUFVSSxLQUFWLEVBQWlCO0FBQ3BELFlBQUlDLEtBQUssSUFBSVosV0FBSixDQUFnQlcsS0FBaEIsQ0FBVDtBQUNBQyxXQUFHQyxPQUFILEdBQWEsSUFBYjtBQUNBLGVBQU9ELEVBQVA7QUFDRCxPQUplLEVBSWIsSUFKYSxDQUFoQjtBQUtEO0FBQ0QsUUFBSSxPQUFPUixTQUFQLEtBQXFCLFdBQXJCLElBQ0FBLGNBQWMsSUFEZCxJQUVBLENB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Ozs7OztBQU9BLFdBQVNLLEdBQVQsQ0FBYVosT0FBYixFQUFzQnpFLFNBQXRCLEVBQWlDb0YsTUFBakMsRUFBeUM7QUFDdkMsUUFBSU0sR0FBSjtBQUNBLFFBQUlsRixLQUFLLElBQUlaLFdBQUosQ0FBZ0I2RSxPQUFoQixFQUF5QnpFLFNBQXpCLENBQVQ7QUFDQSxRQUFJb0YsTUFBSixFQUFXO0FBQ1RNLFlBQU1sRixHQUFHK0UsS0FBSCxDQUFTSCxNQUFULENBQU47QUFDRCxLQUZELE1BRU87QUFDTE0sWUFBTWxGLEdBQUcrRSxLQUFILEVBQU47QUFDRDtBQUNELFdBQU9HLEdBQVA7QUFDRDs7QUFFRCxXQUFTaUMsSUFBVCxDQUFjQyxHQUFkLEVBQW1CNUgsU0FBbkIsRUFBNkI7QUFDekIsV0FBTyxJQUFJSixXQUFKLENBQWdCZ0ksR0FBaEIsRUFBcUI1SCxTQUFyQixDQUFQO0FBQ0g7O0FBRUQ7Ozs7Ozs7QUFPQSxXQUFTa0QsTUFBVCxDQUFnQnVCLE9BQWhCLEVBQXlCekUsU0FBekIsRUFBbUM7QUFDakMsUUFBSVEsS0FBSyxJQUFJWixXQUFKLENBQWdCNkUsT0FBaEIsRUFBeUJ6RSxTQUF6QixDQUFUO0FBQ0EsV0FBT1EsR0FBRzBDLE1BQUgsQ0FBVXVCLE9BQVYsQ0FBUDtBQUNEOztBQUdEOzs7QUFHQSxTQUFPO0FBQ0xZLFNBQUtBLEdBREE7QUFFTG5DLFlBQVFBLE1BRkg7QUFHTHlFLFVBQU1BO0FBSEQsR0FBUDtBQU1EOztrQkFFYy9ILFciLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuZnVuY3Rpb24gRmlsZUxpc3RpbmcoJGh0dHAsICRxKSB7XG4gICduZ0luamVjdCc7XG4gIC8vdmFyIGxvZ2dlciA9IExvZ2dpbmcuZ2V0TG9nZ2VyKCduZ0Rlc2lnblNhZmUuRmlsZUxpc3RpbmcnKTtcblxuICBmdW5jdGlvbiBGaWxlTGlzdGluZyhqc29uLCBhcGlQYXJhbXMpIHtcbiAgICBhbmd1bGFyLmV4dGVuZCh0aGlzLCBqc29uKTtcblxuICAgIC8vIHdyYXAgY2hpbGRyZW4gYXMgRmlsZUxpc3RpbmcgaW5zdGFuY2VzXG4gICAgaWYgKHRoaXMuY2hpbGRyZW4gJiYgdGhpcy5jaGlsZHJlbiBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICB0aGlzLmNoaWxkcmVuID0gXy5tYXAodGhpcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHZhciBmbCA9IG5ldyBGaWxlTGlzdGluZyhjaGlsZCk7XG4gICAgICAgIGZsLl9wYXJlbnQgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZmw7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhcGlQYXJhbXMgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIGFwaVBhcmFtcyAhPT0gbnVsbCAmJlxuICAgICAgICAhXy5pc0VtcHR5KGFwaVBhcmFtcykpe1xuICAgICAgdGhpcy5hcGlQYXJhbXMgPSBhcGlQYXJhbXM7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGhpcy5fZW50aXRpZXMgPT09ICd1bmRlZmluZWQnKXtcbiAgICAgIHRoaXMuX2VudGl0aWVzID0gW107XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGhpcy5fZW50aXR5VGFncyA9PT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgdGhpcy5fZW50aXR5VGFncyA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIEZpbGVMaXN0aW5nLnByb3RvdHlwZS5zZXRFbnRpdGllcyA9IGZ1bmN0aW9uKHByb2plY3RJZCwgZW50aXRpZXMpe1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgcGF0aCA9IHNlbGYucGF0aDtcbiAgICBzZWxmLl9lbnRpdGllcyA9IFtdO1xuICAgIF8uZWFjaChlbnRpdGllcywgZnVuY3Rpb24oZW50aXR5KXtcbiAgICAgIGlmICh0eXBlb2YgZW50aXR5ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIHR5cGVvZiBlbnRpdHkuX2xpbmtzICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIHR5cGVvZiBlbnRpdHkuX2xpbmtzLmFzc29jaWF0aW9uSWRzICE9PSAndW5kZWZpbmVkJyl7XG4gICAgICAgIF8uZWFjaChlbnRpdHkuX2xpbmtzLmFzc29jaWF0aW9uSWRzLCBmdW5jdGlvbihhc2Mpe1xuICAgICAgICAgIGlmIChhc2MudGl0bGUgPT09ICdmaWxlJyl7XG4gICAgICAgICAgICB2YXIgY29tcHMgPSBhc2MuaHJlZi5zcGxpdCgncHJvamVjdC0nICsgcHJvamVjdElkLCAyKTtcbiAgICAgICAgICAgIGlmICggY29tcHMubGVuZ3RoID09PSAyICYmXG4gICAgICAgICAgICAgICAgIHBhdGgucmVwbGFjZSgvXlxcLysvLCAnJykgPT09IGNvbXBzWzFdLnJlcGxhY2UoL15cXC8rLywgJycpKXtcbiAgICAgICAgICAgICAgc2VsZi5fZW50aXRpZXMucHVzaChlbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYoc2VsZi5fZW50aXRpZXMubGVuZ3RoKXtcbiAgICAgIHNlbGYuX2VudGl0aWVzID0gXy51bmlxKHNlbGYuX2VudGl0aWVzLCBmdW5jdGlvbihlKXsgcmV0dXJuIGUudXVpZDt9KTtcbiAgICAgIHZhciBteUFzb2MgPSBfLmZpbmQoc2VsZi5fZW50aXRpZXNbMF0uX2xpbmtzLmFzc29jaWF0aW9uSWRzLFxuICAgICAgICBmdW5jdGlvbihhc2Mpe1xuICAgICAgICBpZiAoYXNjLnRpdGxlID09PSAnZmlsZScpe1xuICAgICAgICAgIHZhciBjb21wcyA9IGFzYy5ocmVmLnNwbGl0KCdwcm9qZWN0LScgKyBwcm9qZWN0SWQsIDIpO1xuICAgICAgICAgIHJldHVybiBzZWxmLnBhdGgucmVwbGFjZSgvXlxcLysvLCAnJykgPT09IGNvbXBzWzFdLnJlcGxhY2UoL15cXC8rLywgJycpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChteUFzb2Mpe1xuICAgICAgICB2YXIgbXlVdWlkID0gbXlBc29jLnJlbDtcbiAgICAgICAgXy5lYWNoKHNlbGYuX2VudGl0aWVzLCBmdW5jdGlvbihlbnRpdHkpe1xuICAgICAgICAgIGlmKCBfLmNvbnRhaW5zKGVudGl0eS52YWx1ZS5tb2RlbERyYXdpbmcgfHwgW10sIG15VXVpZCkpe1xuICAgICAgICAgICAgc2VsZi5fZW50aXR5VGFncy5wdXNoKCdNb2RlbCBEcmF3aW5nJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKF8uY29udGFpbnMoZW50aXR5LnZhbHVlLmxvYWQgfHwgW10sIG15VXVpZCkpe1xuICAgICAgICAgICAgc2VsZi5fZW50aXR5VGFncy5wdXNoKCdMb2FkJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKF8uY29udGFpbnMoZW50aXR5LnZhbHVlLnNlbnNvckRyYXdpbmcgfHwgW10sIG15VXVpZCkpIHtcbiAgICAgICAgICAgIHNlbGYuX2VudGl0eVRhZ3MucHVzaCgnU2Vuc29yIERyYXdpbmcnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZihfLmNvbnRhaW5zKGVudGl0eS52YWx1ZS5zY3JpcHQgfHwgW10sIG15VXVpZCkpIHtcbiAgICAgICAgICAgIHNlbGYuX2VudGl0eVRhZ3MucHVzaCgnU2NyaXB0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHNlbGYuX2VudGl0eVRhZ3MgPSBfLnVuaXEoc2VsZi5fZW50aXR5VGFncyk7XG4gICAgfVxuICB9O1xuXG4gIEZpbGVMaXN0aW5nLnByb3RvdHlwZS51dWlkID0gZnVuY3Rpb24oKXtcbiAgICB0cnl7XG4gICAgICB2YXIgcGFyc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgcGFyc2VyLmhyZWYgPSBkZWNvZGVVUklDb21wb25lbnQodGhpcy5fbGlua3MubWV0YWRhdGEuaHJlZik7XG4gICAgICB2YXIgcSA9IHBhcnNlci5zZWFyY2guc3Vic3RyaW5nKDMpO1xuICAgICAgdmFyIHV1aWQgPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChxKSkuYXNzb2NpYXRpb25JZHM7XG4gICAgICByZXR1cm4gdXVpZDtcbiAgICB9XG4gICAgY2F0Y2goZSl7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9O1xuXG4gIEZpbGVMaXN0aW5nLnByb3RvdHlwZS5wYXJlbnRQYXRoID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcGF0aENvbXBzID0gdGhpcy5wYXRoLnNwbGl0KCcvJyk7XG4gICAgcmV0dXJuIHBhdGhDb21wcy5zbGljZSgwLCBwYXRoQ29tcHMubGVuZ3RoIC0gMSkuam9pbignLycpO1xuICB9O1xuXG4gIEZpbGVMaXN0aW5nLnByb3RvdHlwZS5maWxlTWdyID0gZnVuY3Rpb24oKXtcbiAgICBpZiAodHlwZW9mIHRoaXMuYXBpUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0aGlzLmFwaVBhcmFtcyAhPT0gbnVsbCAmJlxuICAgICAgICAhXy5pc0VtcHR5KHRoaXMuYXBpUGFyYW1zKSl7XG4gICAgICByZXR1cm4gdGhpcy5hcGlQYXJhbXMuZmlsZU1ncjtcbiAgICB9IGVsc2V7XG4gICAgICByZXR1cm4gJ215LWRhdGEnO1xuICAgIH1cbiAgfTtcblxuICBGaWxlTGlzdGluZy5wcm90b3R5cGUuX2Jhc2VVcmwgPSBmdW5jdGlvbigpe1xuICAgIGlmICh0eXBlb2YgdGhpcy5hcGlQYXJhbXMgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHRoaXMuYXBpUGFyYW1zICE9PSBudWxsICYmXG4gICAgICAgICFfLmlzRW1wdHkodGhpcy5hcGlQYXJhbXMpKXtcbiAgICAgIHJldHVybiB0aGlzLmFwaVBhcmFtcy5iYXNlVXJsO1xuICAgIH0gZWxzZXtcbiAgICAgIHJldHVybiAnL2FwaS9kYXRhLWRlcG90L2ZpbGVzJztcbiAgICB9XG4gIH07XG5cbiAgRmlsZUxpc3RpbmcucHJvdG90eXBlLmxpc3RpbmdVcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHVybFBhcnRzID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ2xpc3RpbmcnLCB0aGlzLmZpbGVNZ3IoKV07XG4gICAgaWYgKHRoaXMuc3lzdGVtKSB7XG4gICAgICB1cmxQYXJ0cy5wdXNoKHRoaXMuc3lzdGVtKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaWQgJiYgdGhpcy5pZC5pbmRleE9mKCcvJykgPiAtMSl7XG4gICAgICB1cmxQYXJ0cy5wdXNoKHRoaXMuaWQpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLnBhdGgpIHtcbiAgICAgIHVybFBhcnRzLnB1c2godGhpcy5wYXRoKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybFBhcnRzLmpvaW4oJy8nKTtcbiAgfTtcblxuICBGaWxlTGlzdGluZy5wcm90b3R5cGUubWVkaWFVcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHVybFBhcnRzID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ21lZGlhJywgdGhpcy5maWxlTWdyKCldO1xuICAgIGlmICh0aGlzLnN5c3RlbSl7XG4gICAgICB1cmxQYXJ0cy5wdXNoKHRoaXMuc3lzdGVtKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaWQgJiYgdGhpcy5pZC5pbmRleE9mKCcvJykgPiAtMSl7XG4gICAgICB1cmxQYXJ0cy5wdXNoKHRoaXMuaWQpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLnBhdGgpIHtcbiAgICAgIHVybFBhcnRzLnB1c2godGhpcy5wYXRoKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybFBhcnRzLmpvaW4oJy8nKTtcbiAgfTtcblxuICBGaWxlTGlzdGluZy5wcm90b3R5cGUucGVtc1VybCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdXJsUGFydHMgPSBbdGhpcy5fYmFzZVVybCgpLCAncGVtcycsIHRoaXMuZmlsZU1ncigpXTtcbiAgICBpZiAodGhpcy5zeXN0ZW0pe1xuICAgICAgdXJsUGFydHMucHVzaCh0aGlzLnN5c3RlbSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlkICYmIHRoaXMuaWQuaW5kZXhPZignLycpID4gLTEpe1xuICAgICAgdXJsUGFydHMucHVzaCh0aGlzLmlkKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5wYXRoKSB7XG4gICAgICB1cmxQYXJ0cy5wdXNoKHRoaXMucGF0aCk7XG4gICAgfVxuICAgIHJldHVybiB1cmxQYXJ0cy5qb2luKCcvJyk7XG4gIH07XG5cbiAgRmlsZUxpc3RpbmcucHJvdG90eXBlLm1ldGFVcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHVybFBhcnRzID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ21ldGEnLCB0aGlzLmZpbGVNZ3IoKV07XG4gICAgaWYgKHRoaXMuc3lzdGVtKXtcbiAgICAgIHVybFBhcnRzLnB1c2godGhpcy5zeXN0ZW0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5pZCAmJiB0aGlzLmlkLmluZGV4T2YoJy8nKSA+IC0xKXtcbiAgICAgIHVybFBhcnRzLnB1c2godGhpcy5pZCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMucGF0aCkge1xuICAgICAgdXJsUGFydHMucHVzaCh0aGlzLnBhdGgpO1xuICAgIH1cbiAgICByZXR1cm4gdXJsUGFydHMuam9pbignLycpO1xuICB9O1xuXG4gIEZpbGVMaXN0aW5nLnByb3RvdHlwZS5zZWFyY2hVcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHVybFBhcnRzID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ3NlYXJjaCcsIHRoaXMuZmlsZU1ncigpXTtcbiAgICBpZiAodGhpcy5zeXN0ZW0pe1xuICAgICAgdXJsUGFydHMucHVzaCh0aGlzLnN5c3RlbSk7XG4gICAgfVxuICAgIHJldHVybiB1cmxQYXJ0cy5qb2luKCcvJyk7XG4gIH07XG5cbiAgRmlsZUxpc3RpbmcucHJvdG90eXBlLmFnYXZlVXJpID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICdhZ2F2ZTovLycgKyB0aGlzLnN5c3RlbSArICcvJyArIHRoaXMucGF0aDtcbiAgfTtcblxuICBGaWxlTGlzdGluZy5wcm90b3R5cGUuYWdhdmVVcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdodHRwczovL2FnYXZlLmRlc2lnbnNhZmUtY2kub3JnL2ZpbGVzL3YyL21lZGlhL3N5c3RlbS8nICsgdGhpcy5zeXN0ZW0gKyAnLycgKyB0aGlzLnBhdGg7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1ha2UgYSBjb3B5IG9mIHRoaXMgRmlsZVJlc291cmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucGF0aF0gVGhlIHBhdGggdG8gY29weSB0b1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubmFtZV0gVGhlIG5ldyBuYW1lIGZvciB0aGUgY29weVxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIEZpbGVMaXN0aW5nLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgYm9keSA9IHtcbiAgICAgIFwiYWN0aW9uXCI6IFwiY29weVwiLFxuICAgICAgXCJzeXN0ZW1cIjogb3B0aW9ucy5zeXN0ZW0sXG4gICAgICBcInBhdGhcIjogb3B0aW9ucy5wYXRoLFxuICAgICAgXCJuYW1lXCI6IG9wdGlvbnMubmFtZSxcbiAgICAgIFwicmVzb3VyY2VcIjogb3B0aW9ucy5yZXNvdXJjZSB8fCBcIlwiXG4gICAgfTtcbiAgICByZXR1cm4gJGh0dHAucHV0KHRoaXMubWVkaWFVcmwoKSwgYm9keSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgcmV0dXJuIG5ldyBGaWxlTGlzdGluZyhyZXNwLmRhdGEpO1xuICAgIH0pO1xuICB9O1xuXG4gIEZpbGVMaXN0aW5nLnByb3RvdHlwZS5kb3dubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYm9keSA9IHtcbiAgICAgIFwiYWN0aW9uXCI6IFwiZG93bmxvYWRcIlxuICAgIH07XG4gICAgcmV0dXJuICRodHRwLnB1dCh0aGlzLm1lZGlhVXJsKCksIGJvZHkpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgIHJldHVybiByZXNwLmRhdGE7XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIuZGF0YSk7XG4gICAgfSk7XG4gIH07XG5cbiAgRmlsZUxpc3RpbmcucHJvdG90eXBlLnNlYXJjaCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gJGh0dHAuZ2V0KHRoaXMuc2VhcmNoVXJsKCksIHtwYXJhbXM6IHBhcmFtc30pLnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNlbGYsIHJlcy5kYXRhKTtcbiAgICAgIGlmIChzZWxmLmNoaWxkcmVuICYmIHNlbGYuY2hpbGRyZW4gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBzZWxmLmNoaWxkcmVuID0gXy5tYXAoc2VsZi5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgdmFyIGZsID0gbmV3IEZpbGVMaXN0aW5nKGNoaWxkLCBzZWxmLmFwaVBhcmFtcyk7XG4gICAgICAgICAgZmwuX3BhcmVudCA9IHNlbGY7XG4gICAgICAgICAgcmV0dXJuIGZsO1xuICAgICAgICB9LCBzZWxmKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyLmRhdGEpO1xuICAgIH0pO1xuICB9O1xuXG4gIEZpbGVMaXN0aW5nLnByb3RvdHlwZS5mZXRjaCA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgc3RvcHBlciA9ICRxLmRlZmVyKCk7XG4gICAgdmFyIHJlcSA9ICRodHRwLmdldCh0aGlzLmxpc3RpbmdVcmwoKSwge3BhcmFtczogcGFyYW1zLCB0aW1lb3V0OnN0b3BwZXIucHJvbWlzZX0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNlbGYsIHJlc3AuZGF0YS5yZXNwb25zZSk7XG5cbiAgICAgIC8vIHdyYXAgY2hpbGRyZW4gYXMgRmlsZUxpc3RpbmcgaW5zdGFuY2VzXG4gICAgICBpZiAoc2VsZi5jaGlsZHJlbiAmJiBzZWxmLmNoaWxkcmVuIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgc2VsZi5jaGlsZHJlbiA9IF8ubWFwKHNlbGYuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgIHZhciBmbCA9IG5ldyBGaWxlTGlzdGluZyhjaGlsZCwgc2VsZi5hcGlQYXJhbXMpO1xuICAgICAgICAgIGZsLl9wYXJlbnQgPSBzZWxmO1xuICAgICAgICAgIHJldHVybiBmbDtcbiAgICAgICAgfSwgc2VsZik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKTtcbiAgICB9KTtcbiAgICByZXEuc3RvcHBlciA9IHN0b3BwZXI7XG4gICAgcmV0dXJuIHJlcTtcbiAgfTtcblxuICBGaWxlTGlzdGluZy5wcm90b3R5cGUuZ2V0TWV0YSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gJGh0dHAuZ2V0KHRoaXMubWV0YVVybCgpKS50aGVuKGZ1bmN0aW9uIChyZXNwKXtcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNlbGYsIHJlc3AuZGF0YSk7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICByZXR1cm4gJHEucmVqZWN0KGVyci5kYXRhKTtcbiAgICB9KTtcbiAgfTtcblxuICBGaWxlTGlzdGluZy5wcm90b3R5cGUudXBkYXRlTWV0YSA9IGZ1bmN0aW9uKG1ldGFPYmope1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gJGh0dHAucHV0KHRoaXMubWV0YVVybCgpLCBtZXRhT2JqKS50aGVuKGZ1bmN0aW9uIChyZXNwKXtcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNlbGYsIHJlc3AuZGF0YSk7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICByZXR1cm4gJHEucmVqZWN0KGVyci5kYXRhKTtcbiAgICB9KTtcbiAgfTtcblxuICBGaWxlTGlzdGluZy5wcm90b3R5cGUuaWNvbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLnR5cGUgPT09ICdkaXInIHx8IHRoaXMudHlwZSA9PT0gJ2ZvbGRlcicpIHtcbiAgICAgIHJldHVybiAnZmEtZm9sZGVyJztcbiAgICB9XG5cbiAgICB2YXIgaWNvbjtcbiAgICB2YXIgZXh0ID0gdGhpcy5uYW1lLnNwbGl0KCcuJykucG9wKCkudG9Mb3dlckNhc2UoKTtcbiAgICBzd2l0Y2ggKGV4dCkge1xuICAgICAgY2FzZSAnemlwJzpcbiAgICAgIGNhc2UgJ3Rhcic6XG4gICAgICBjYXNlICdneic6XG4gICAgICBjYXNlICdiejInOlxuICAgICAgICBpY29uID0gJ2ZhLWZpbGUtYXJjaGl2ZS1vJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwbmcnOlxuICAgICAgY2FzZSAnanBnJzpcbiAgICAgIGNhc2UgJ2pwZWcnOlxuICAgICAgY2FzZSAnZ2lmJzpcbiAgICAgIGNhc2UgJ3RpZic6XG4gICAgICBjYXNlICd0aWZmJzpcbiAgICAgICAgaWNvbiA9ICdmYS1maWxlLWltYWdlLW8nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3BkZic6XG4gICAgICAgIGljb24gPSAnZmEtZmlsZS1wZGYtbyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZG9jJzpcbiAgICAgIGNhc2UgJ2RvY3gnOlxuICAgICAgICBpY29uID0gJ2ZhLWZpbGUtd29yZC1vJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd4bHMnOlxuICAgICAgY2FzZSAneGxzeCc6XG4gICAgICAgIGljb24gPSAnZmEtZmlsZS1leGNlbC1vJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwcHQnOlxuICAgICAgY2FzZSAncHB0eCc6XG4gICAgICAgIGljb24gPSAnZmEtZmlsZS1wb3dlcnBvaW50LW8nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21vdic6XG4gICAgICBjYXNlICdtcDQnOlxuICAgICAgICBpY29uID0gJ2ZhLWZpbGUtdmlkZW8tbyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbXAzJzpcbiAgICAgIGNhc2UgJ3dhdic6XG4gICAgICAgIGljb24gPSAnZmEtZmlsZS1hdWRpby1vJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0eHQnOlxuICAgICAgY2FzZSAnb3V0JzpcbiAgICAgIGNhc2UgJ2Vycic6XG4gICAgICAgIGljb24gPSAnZmEtZmlsZS10ZXh0LW8nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RjbCc6XG4gICAgICBjYXNlICdzaCc6XG4gICAgICBjYXNlICdqc29uJzpcbiAgICAgICAgaWNvbiA9ICdmYS1maWxlLWNvZGUtbyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWNvbiA9ICdmYS1maWxlLW8nO1xuICAgIH1cbiAgICByZXR1cm4gaWNvbjtcbiAgfTtcblxuICAvKipcbiAgICogTWFrZSBhIG5ldyBjaGlsZCBkaXJlY3RvcnkuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLm5hbWUgVGhlIG5hbWUgZm9yIHRoZSBuZXcgZGlyZWN0b3J5XG4gICAqL1xuICBGaWxlTGlzdGluZy5wcm90b3R5cGUubWtkaXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGlmICh0aGlzLnR5cGUgIT09ICdkaXInKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGVMaXN0aW5nLm1rZGlyIGNhbiBvbmx5IGJlIGNhbGxlZCBmb3IgXCJkaXJcIiB0eXBlIEZpbGVMaXN0aW5ncy4nKTtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGJvZHkgPSB7XG4gICAgICBcImFjdGlvblwiOiBcIm1rZGlyXCIsXG4gICAgICBcIm5hbWVcIjogb3B0aW9ucy5uYW1lXG4gICAgfTtcbiAgICByZXR1cm4gJGh0dHAucHV0KHRoaXMubWVkaWFVcmwoKSwgYm9keSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgdmFyIG5ld0RpciA9IG5ldyBGaWxlTGlzdGluZyhyZXNwLmRhdGEpO1xuICAgICAgc2VsZi5jaGlsZHJlbi5wdXNoKG5ld0Rpcik7XG4gICAgICByZXR1cm4gbmV3RGlyO1xuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyLmRhdGEpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNb3ZlIGEgZmlsZSB0byBhIG5ldyBsb2NhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMucGF0aCBUaGUgcGF0aCBvZiB0aGUgZGVzdGluYXRpb24gZGlyZWN0b3J5IGZvciB0aGUgb3BlcmF0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5uYW1lXSBBbiBvcHRpb25hbCBuZXcgbmFtZSBmb3IgdGhlIG1vdmVkIGZpbGVcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBGaWxlTGlzdGluZy5wcm90b3R5cGUubW92ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBib2R5ID0ge1xuICAgICAgXCJhY3Rpb25cIjogXCJtb3ZlXCIsXG4gICAgICBcInN5c3RlbVwiOiBvcHRpb25zLnN5c3RlbSxcbiAgICAgIFwicGF0aFwiOiBvcHRpb25zLnBhdGgsXG4gICAgICBcIm5hbWVcIjogb3B0aW9ucy5uYW1lXG4gICAgfTtcbiAgICByZXR1cm4gJGh0dHAucHV0KHRoaXMubWVkaWFVcmwoKSwgYm9keSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgdmFyIG5ld0RpciA9IG5ldyBGaWxlTGlzdGluZyhyZXNwLmRhdGEpO1xuICAgICAgLyogcmVtb3ZlIHRoaXMgZmlsZSBmcm9tIHByZXZpb3VzIHBhcmVudCdzIGNoaWxkcmVuICovXG4gICAgICBpZiAoc2VsZi5fcGFyZW50KSB7XG4gICAgICAgIHNlbGYuX3BhcmVudC5jaGlsZHJlbiA9IF8ucmVqZWN0KHNlbGYuX3BhcmVudC5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkLnBhdGggPT09IHNlbGYucGF0aDtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGYuX3BhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdEaXI7XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIuZGF0YSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGVybWlzc2lvbnMgZm9yIHRoaXMgRmlsZUxpc3RpbmcuXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBGaWxlTGlzdGluZy5wcm90b3R5cGUubGlzdFBlcm1pc3Npb25zID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX3Blcm1pc3Npb25zKSB7XG4gICAgICByZXR1cm4gJHEucmVzb2x2ZSh0aGlzLl9wZXJtaXNzaW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHJldHVybiAkaHR0cC5nZXQodGhpcy5wZW1zVXJsKCkpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgICAgc2VsZi5fcGVybWlzc2lvbnMgPSByZXNwLmRhdGE7XG4gICAgICAgIHJldHVybiBzZWxmLl9wZXJtaXNzaW9ucztcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIuZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlcXVlc3QgYSBwcmV2aWV3IG9mIHRoZSBmaWxlLiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWRcbiAgICogd2l0aCBhbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBhdHRyaWJ1dGUgYGhyZWZgIHdoZXJlIHRoZSBwcmV2aWV3IGNhbiBiZVxuICAgKiBmZXRjaGVkLiBJZiBhIHByZXZpZXcgaXMgdW5hdmFpbGFibGUgdGhlIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZC5cbiAgICpcbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIEZpbGVMaXN0aW5nLnByb3RvdHlwZS5wcmV2aWV3ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBib2R5ID0ge1xuICAgICAgXCJhY3Rpb25cIjogXCJwcmV2aWV3XCJcbiAgICB9O1xuICAgIHJldHVybiAkaHR0cC5wdXQodGhpcy5tZWRpYVVybCgpLCBib2R5KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICByZXR1cm4gcmVzcC5kYXRhLnJlc3BvbnNlO1xuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyLmRhdGEpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW5hbWUgYSBmaWxlLiBJbXBsaWNpdGx5LCB0aGlzIGlzIGEgbW92ZSBvcGVyYXRpb24gd2l0aCB0aGUgc2FtZSBwYXRoIGFuZCBhIG5ld1xuICAgKiBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5uYW1lIFRoZSBuZXcgbmFtZSBmb3IgdGhpcyBmaWxlLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIEZpbGVMaXN0aW5nLnByb3RvdHlwZS5yZW5hbWUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYm9keSA9IHtcbiAgICAgIFwiYWN0aW9uXCI6IFwicmVuYW1lXCIsXG4gICAgICBcIm5hbWVcIjogb3B0aW9ucy5uYW1lXG4gICAgfTtcbiAgICByZXR1cm4gJGh0dHAucHV0KHRoaXMubWVkaWFVcmwoKSwgYm9keSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgLyogdXBkYXRlIHNlbGYgKi9cbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNlbGYsIHJlc3AuZGF0YSk7XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIuZGF0YSk7XG4gICAgfSk7XG4gIH07XG5cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgY3VycmVudCBmaWxlXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBGaWxlTGlzdGluZy5wcm90b3R5cGUucm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiAkaHR0cC5kZWxldGUodGhpcy5tZWRpYVVybCgpKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAvKiByZW1vdmUgZnJvbSBzZWxmLl9wYXJlbnQuY2hpbGRyZW4gKi9cbiAgICAgIGlmIChzZWxmLl9wYXJlbnQpIHtcbiAgICAgICAgc2VsZi5fcGFyZW50LmNoaWxkcmVuID0gXy5yZWplY3Qoc2VsZi5fcGFyZW50LmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQucGF0aCA9PT0gc2VsZi5wYXRoO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICByZXR1cm4gJHEucmVqZWN0KGVyci5kYXRhKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIHNoYXJpbmcgcGVybWlzc2lvbnMgb24gYSBmaWxlIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gb3B0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudXNlcm5hbWUgVGhlIHVzZXJuYW1lIG9mIHRoZSB1c2VyIHdob3NlIHBlcm1pc3Npb25zIHRvIHVwZGF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5wZXJtaXNzaW9uIFRoZSBuZXcgcGVybWlzc2lvbiB2YWx1ZVxuICAgKi9cbiAgRmlsZUxpc3RpbmcucHJvdG90eXBlLnNoYXJlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gJGh0dHAucG9zdCh0aGlzLnBlbXNVcmwoKSwgb3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgcmV0dXJuIHJlc3AuZGF0YTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICByZXR1cm4gJHEucmVqZWN0KGVyci5kYXRhKTtcbiAgICB9KTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIG11Y2ggbGlrZSBtb3ZlLCBleGNlcHQgd2l0aCB0aGUgaW1wbGljaXQgZGVzdGluYXRpb24gcGF0aCBvZiB+Ly5UcmFzaC5cbiAgICogVGhpcyBhbHNvIHdpbGwgcmVuYW1lIHRoZSBmaWxlIGlmIGEgZmlsZSB3aXRoIHRoZSBzYW1lIG5hbWUgYWxyZWFkeSBleGlzdHMgaW5cbiAgICogfi8uVHJhc2guXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgRmlsZUxpc3RpbmcucHJvdG90eXBlLnRyYXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYm9keSA9IHtcbiAgICAgIFwiYWN0aW9uXCI6IFwidHJhc2hcIlxuICAgIH07XG4gICAgcmV0dXJuICRodHRwLnB1dCh0aGlzLm1lZGlhVXJsKCksIGJvZHkpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgIHZhciB0cmFzaGVkID0gbmV3IEZpbGVMaXN0aW5nKHJlc3AuZGF0YSk7XG5cbiAgICAgIC8qIHJlbW92ZSB0aGlzIGZpbGUgZnJvbSBwcmV2aW91cyBwYXJlbnQncyBjaGlsZHJlbiAqL1xuICAgICAgaWYgKHNlbGYuX3BhcmVudCkge1xuICAgICAgICBzZWxmLl9wYXJlbnQuY2hpbGRyZW4gPSBfLnJlamVjdChzZWxmLl9wYXJlbnQuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgIHJldHVybiBjaGlsZC5wYXRoID09PSBzZWxmLnBhdGg7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxmLl9wYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAodHJhc2hlZC5uYW1lICE9PSBzZWxmLm5hbWUpIHtcbiAgICAgICAgLy8gVE9ETyBub3RpZnkgdXNlciB2aWEgVG9hc3RyXG4gICAgICAgIHdpbmRvdy5hbGVydCgnRmlsZSB3YXMgcmVuYW1lZCB0byBcIicgKyB0cmFzaGVkLm5hbWUgKyAnXCIuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJhc2hlZDtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVXBsb2FkIGFzIGEgbmV3IGZpbGVcbiAgICogQHBhcmFtIHtGb3JtRGF0YX0gZGF0YSBUaGUgTXVsdGlwYXJ0IEZvcm1EYXRhXG4gICAqL1xuICBGaWxlTGlzdGluZy5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICByZXR1cm4gJGh0dHAucG9zdCh0aGlzLm1lZGlhVXJsKCksIGRhdGEsIHtoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH19KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyLmRhdGEpO1xuICAgICAgfSk7XG4gIH07XG5cblxuICAvLyBmdW5jdGlvbiBGaWxlUGVybWlzc2lvbihqc29uKSB7XG4gIC8vICAgYW5ndWxhci5leHRlbmQodGhpcywganNvbik7XG4gIC8vIH1cbiAgLy9cbiAgLy9cbiAgLy8gRmlsZVBlcm1pc3Npb24ucHJvdG90eXBlLnBlcm1pc3Npb25CaXQgPSBmdW5jdGlvbiAoKSB7XG4gIC8vICAgaWYgKHRoaXMucGVybWlzc2lvbi5yZWFkKSB7XG4gIC8vICAgICBpZiAodGhpcy5wZXJtaXNzaW9uLndyaXRlKSB7XG4gIC8vICAgICAgIGlmICh0aGlzLnBlcm1pc3Npb24uZXhlY3V0ZSkge1xuICAvLyAgICAgICAgIHJldHVybiAnQUxMJztcbiAgLy8gICAgICAgfVxuICAvLyAgICAgICByZXR1cm4gJ1JFQURfV1JJVEUnO1xuICAvLyAgICAgfVxuICAvLyAgICAgcmV0dXJuICdSRUFEJztcbiAgLy8gICB9IGVsc2UgaWYgKHRoaXMucGVybWlzc2lvbi53cml0ZSkge1xuICAvLyAgICAgaWYgKHRoaXMucGVybWlzc2lvbi5leGVjdXRlKSB7XG4gIC8vICAgICAgIHJldHVybiAnV1JJVEVfRVhFQ1VURSc7XG4gIC8vICAgICB9XG4gIC8vICAgICByZXR1cm4gJ1dSSVRFJztcbiAgLy8gICB9IGVsc2UgaWYgKHRoaXMucGVybWlzc2lvbi5leGVjdXRlKSB7XG4gIC8vICAgICByZXR1cm4gJ0VYRUNVVEUnO1xuICAvLyAgIH1cbiAgLy8gICByZXR1cm4gJ05PTkUnO1xuICAvLyB9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5zeXN0ZW1cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMucGF0aFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGZ1bmN0aW9uIGdldChvcHRpb25zLCBhcGlQYXJhbXMsIHBhcmFtcykge1xuICAgIHZhciByZXE7XG4gICAgdmFyIGZsID0gbmV3IEZpbGVMaXN0aW5nKG9wdGlvbnMsIGFwaVBhcmFtcyk7XG4gICAgaWYgKHBhcmFtcyl7XG4gICAgICByZXEgPSBmbC5mZXRjaChwYXJhbXMpIDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxID0gZmwuZmV0Y2goKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXQob2JqLCBhcGlQYXJhbXMpe1xuICAgICAgcmV0dXJuIG5ldyBGaWxlTGlzdGluZyhvYmosIGFwaVBhcmFtcyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuc3lzdGVtXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnFcbiAgICogQHBhcmFtIHtpbnR9IG9wdGlvbnMub2Zmc2V0XG4gICAqIEBwYXJhbSB7aW50fSBvcHRpb25zLmxpbWl0XG4gICAqL1xuICBmdW5jdGlvbiBzZWFyY2gob3B0aW9ucywgYXBpUGFyYW1zKXtcbiAgICB2YXIgZmwgPSBuZXcgRmlsZUxpc3Rpbmcob3B0aW9ucywgYXBpUGFyYW1zKTtcbiAgICByZXR1cm4gZmwuc2VhcmNoKG9wdGlvbnMpO1xuICB9XG5cblxuICAvKipcbiAgICogUHVibGljIEFQSVxuICAgKi9cbiAgcmV0dXJuIHtcbiAgICBnZXQ6IGdldCxcbiAgICBzZWFyY2g6IHNlYXJjaCxcbiAgICBpbml0OiBpbml0XG4gIH07XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmlsZUxpc3Rpbmc7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9zZXJ2aWNlcy9maWxlLWxpc3RpbmcuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n");

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _systemsService = __webpack_require__(23);\n\nvar _systemsService2 = _interopRequireDefault(_systemsService);\n\nvar _fileListing = __webpack_require__(20);\n\nvar _fileListing2 = _interopRequireDefault(_fileListing);\n\nvar _dataBrowserService = __webpack_require__(19);\n\nvar _dataBrowserService2 = _interopRequireDefault(_dataBrowserService);\n\nvar _projectService = __webpack_require__(22);\n\nvar _projectService2 = _interopRequireDefault(_projectService);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mod = angular.module('portal.data_depot.services', []);\n\nmod.service('SystemsService', _systemsService2.default);\nmod.factory('FileListing', _fileListing2.default);\nmod.factory('DataBrowserService', _dataBrowserService2.default);\nmod.factory('ProjectService', _projectService2.default);\nconsole.log(mod);\nexports.default = mod;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9zZXJ2aWNlcy9pbmRleC5qcz9iNDEzIl0sIm5hbWVzIjpbIm1vZCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlIiwiZmFjdG9yeSIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFJQSxNQUFNQyxRQUFRQyxNQUFSLENBQWUsNEJBQWYsRUFBNkMsRUFBN0MsQ0FBVjs7QUFFQUYsSUFBSUcsT0FBSixDQUFZLGdCQUFaO0FBQ0FILElBQUlJLE9BQUosQ0FBWSxhQUFaO0FBQ0FKLElBQUlJLE9BQUosQ0FBWSxvQkFBWjtBQUNBSixJQUFJSSxPQUFKLENBQVksZ0JBQVo7QUFDQUMsUUFBUUMsR0FBUixDQUFZTixHQUFaO2tCQUNlQSxHIiwiZmlsZSI6IjIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFN5c3RlbXNTZXJ2aWNlIGZyb20gJy4vc3lzdGVtcy1zZXJ2aWNlJztcbmltcG9ydCBGaWxlTGlzdGluZyBmcm9tICcuL2ZpbGUtbGlzdGluZyc7XG5pbXBvcnQgRGF0YUJyb3dzZXJTZXJ2aWNlIGZyb20gJy4vZGF0YS1icm93c2VyLXNlcnZpY2UnO1xuaW1wb3J0IFByb2plY3RTZXJ2aWNlIGZyb20gJy4vcHJvamVjdC1zZXJ2aWNlJztcblxubGV0IG1vZCA9IGFuZ3VsYXIubW9kdWxlKCdwb3J0YWwuZGF0YV9kZXBvdC5zZXJ2aWNlcycsIFtdKTtcblxubW9kLnNlcnZpY2UoJ1N5c3RlbXNTZXJ2aWNlJywgU3lzdGVtc1NlcnZpY2UpO1xubW9kLmZhY3RvcnkoJ0ZpbGVMaXN0aW5nJywgRmlsZUxpc3RpbmcpO1xubW9kLmZhY3RvcnkoJ0RhdGFCcm93c2VyU2VydmljZScsIERhdGFCcm93c2VyU2VydmljZSk7XG5tb2QuZmFjdG9yeSgnUHJvamVjdFNlcnZpY2UnLCBQcm9qZWN0U2VydmljZSk7XG5jb25zb2xlLmxvZyhtb2QpXG5leHBvcnQgZGVmYXVsdCBtb2Q7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9zZXJ2aWNlcy9pbmRleC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///21\n");

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction ProjectService(httpi, $interpolate, $q, $uibModal) {\n  'ngInject';\n\n  var efs = {\n    'experimental': [{ name: 'atlss', label: 'Advanced Technology for Large Structural Systems (ATLSS) Engineering Research Center, Lehigh University' }, { name: 'cgm-ucdavis', label: 'Center for Geotechnical Modeling, UC Davis' }, { name: 'eqss-utaustin', label: 'Field mobile shakers, UT Austin' }, { name: 'pfsml-florida', label: 'Powell Family Structures and Materials Laboratory, University of Florida' }, { name: 'wwhr-florida', label: 'Wall of Wind International Hurricane Research Center, Florida International University' }, { name: 'lhpost-sandiego', label: 'Large High Performance Outdoor Shake Table, University of California San Diego' }, { name: 'ohhwrl-oregon', label: 'O.H. Hinsdale Wave Research Laboratory, Oregon State University' }, { name: 'other', label: 'Other' }]\n  };\n\n  var equipmentTypes = {\n    'atlss': [{ name: 'hybrid_simulation', label: 'Hybrid Simulation' }, { name: 'other', label: 'Other' }],\n    'cgm-ucdavis': [{ name: '9-m_radius_dynamic_geotechnical_centrifuge', label: '9m Radius Dynamic Geotechnical Centrifuge' }, { name: '1-m_radius_dynamic_geotechnical_centrifuge', label: '1m Radius Dynamic Geotechnical Centrifuge' }, { name: 'other', label: 'Other' }],\n    'eqss-utaustin': [{ name: 'liquidator',\n      label: 'Low Frequency, Two Axis Shaker (Liquidator)' }, { name: 't-rex',\n      label: 'High Force Three Axis Shaker (T Rex)' }, { name: 'tractor-t-rex',\n      label: 'Tractor-Trailer Rig, Big Rig, with T-Rex' }, { name: 'raptor',\n      label: 'Single Axis Vertical Shaker (Raptor)' }, { name: 'rattler',\n      label: 'Single Axis Horizontal Shaker (Rattler)' }, { name: 'thumper',\n      label: 'Urban, Three axis Shaker (Thumper)' }, { name: 'other', label: 'Other' }],\n    'pfsml-florida': [{ name: 'blwt', label: 'Boundary Layer Wind Tunnel (BLWT)' }, { name: 'abl', label: 'Atmospheric Boundary Layer Wind Tunnel Test (ABL)' }, { name: 'wdrt', label: 'Wind Driven Rain Test' }, { name: 'wtdt', label: 'wind_tunnel_destructive_test' }, { name: 'dfs', label: 'Dynamic Flow Simulator (DFS)' }, { name: 'hapla', label: 'High Airflow Pressure Loading Actuator (HAPLA)' }, { name: 'spla', label: 'Spatiotemporal Pressure Loading Actuator (SPLA)' }, { name: 'other', label: 'Other' }],\n    'wwhr-florida': [{ name: 'pmtp', label: 'Physical_measurement_test_protocol' }, { name: 'fmtp', label: 'Failure Mode Test Protocol' }, { name: 'wdrtp', label: 'Wind Driven Rain Test Protocol' }, { name: 'other', label: 'Other' }],\n    'lhpost-sandiego': [{ name: 'lhpost', label: 'Large High Performance Outdoor Shake Table (LHPOST)' }, { name: 'other', label: 'Other' }],\n    'ohhwrl-oregon': [{ name: 'lwf', label: 'Large Wave Flume (LWF)' }, { name: 'dwb', label: 'Directional Wave Basin (DWB)' }, { name: 'mobs', label: 'Mobile Shaker' }, { name: 'pla', label: 'pressure_loading_actuator' }, { name: 'other', label: 'Other' }],\n    'other': [{ name: 'other', label: 'Other' }]\n  };\n\n  var experimentTypes = {\n    'atlss': [{ name: 'hybrid_simulation', label: 'Hybrid Simulation' }, { name: 'other', label: 'Other' }],\n    'cgm-ucdavis': [{ name: 'centrifuge', label: 'Centrifuge' }, { name: 'other', label: 'Other' }],\n    'eqss-utaustin': [{ name: 'mobile_shaker', label: 'Mobile Shaker' }, { name: 'other', label: 'Other' }],\n    'pfsml-florida': [{ name: 'wind', label: 'Wind' }, { name: 'other', label: 'Other' }],\n    'wwhr-florida': [{ name: 'wind', label: 'Wind' }, { name: 'other', label: 'Other' }],\n    'lhpost-sandiego': [{ name: 'shake', label: 'Shake' }, { name: 'other', label: 'Other' }],\n    'ohhwrl-oregon': [{ name: 'wave', label: 'Wave' }, { name: 'other', label: 'Other' }],\n    'other': [{ name: 'other', label: 'Other' }]\n  };\n\n  var service = {};\n\n  var projectResource = httpi.resource('/api/data-depot/projects/:uuid/').setKeepTrailingSlash(true);\n  var collabResource = httpi.resource('/api/projects/:uuid/collaborators/').setKeepTrailingSlash(true);\n  var dataResource = httpi.resource('/api/projects/:uuid/data/:fileId').setKeepTrailingSlash(true);\n  //var entitiesResource = httpi.resource('/api/projects/:uuid/meta/:name/').setKeepTrailingSlash(true);\n  //var entityResource = httpi.resource('/api/projects/meta/:uuid/').setKeepTrailingSlash(true);\n\n\n  /**\n   * Get a list of Projects for the current user\n   * @returns {Project[]}\n   */\n  service.list = function () {\n    return projectResource.get().then(function (resp) {\n      return resp.data.response;\n    });\n  };\n\n  /**\n   * Get a specific Project\n   * @param {Object} options\n   * @param {string} options.uuid The Project UUID\n   * @returns {Promise}\n   */\n  service.get = function (options) {\n    return projectResource.get({ params: options }).then(function (resp) {\n      return new ProjectModel(resp.data);\n    });\n  };\n\n  /**\n   * Save or update a Project\n   * @param {Object} options\n   * @param {string} [options.uuid] The Project uuid, if updating existing record, otherwise null\n   * @param {string} options.title The Project title\n   * @param {string} [options.pi] The username for Project PI\n   * @param {string[]} [options.coPis] List of usernames for Project Co-PIs\n   * @returns {Promise}\n   */\n  service.save = function (options) {\n    return projectResource.post({ data: options }).then(function (resp) {\n      return new ProjectModel(resp.data);\n    });\n  };\n\n  /**\n   * Get a list of usernames for users that are collaborators on the Project\n   * @param {Object} options\n   * @param {string} options.uuid The Project uuid\n   * @returns {Promise}\n   */\n  service.getCollaborators = function (options) {\n    return collabResource.get({ params: options });\n  };\n\n  /**\n   *\n   * @param options\n   * @param {string} options.uuid The Project uuid\n   * @param {string} options.username The username of the collaborator to add\n   * @returns {Promise}\n   */\n  service.addCollaborator = function (options) {\n    return collabResource.post({ data: options });\n  };\n\n  /**\n   *\n   * @param options\n   * @param {string} options.uuid The Project uuid\n   * @param {string} options.username The username of the collaborator to add\n   * @returns {Promise}\n   */\n  service.removeCollaborator = function (options) {\n    return collabResource.delete({ data: options });\n  };\n\n  /**\n   *\n   * @param options\n   * @param {string} options.uuid The Project uuid\n   * @param {string} [options.fileId] the Project data file id to list\n   * @returns {Promise}\n   */\n  service.projectData = function (options) {\n    return dataResource.get({ params: options });\n  };\n\n  /**\n   *\n   * @param options\n   * @param {string} options.uuid The Project uuid\n   * @returns {Promise}\n   */\n  service.manageExperiments = function (options) {\n    var modal = $uibModal.open({\n      templateUrl: '/static/scripts/ng-designsafe/html/modals/project-service-manage-experiments.html',\n      controller: ['$scope', '$uibModalInstance', '$q', 'Django', 'UserService', function ($scope, $uibModalInstance, $q, Django, UserService) {\n        $scope.data = {\n          busy: false,\n          experiments: options.experiments,\n          project: options.project,\n          form: {}\n        };\n        $scope.ui = {\n          experiments: {},\n          efs: efs,\n          experimentTypes: experimentTypes,\n          equipmentTypes: equipmentTypes,\n          updateExperiments: {},\n          showAddReport: {}\n        };\n        $scope.form = {\n          curExperiments: [],\n          addExperiments: [{}],\n          deleteExperiments: [],\n          entitiesToAdd: []\n        };\n        $scope.form.curExperiments = $scope.data.project.experiment_set;\n\n        $scope.addExperiment = function () {\n          $scope.form.addExperiments.push({});\n        };\n\n        $scope.cancel = function () {\n          $uibModalInstance.dismiss();\n        };\n\n        $scope.delNewExperiment = function (index) {\n          $scope.form.addExperiments.splice(index, 1);\n        };\n\n        $scope.getEF = function (str) {\n          var efs = $scope.ui.efs[$scope.data.project.value.projectType];\n          var ef = _.find(efs, function (ef) {\n            return ef.name === str;\n          });\n          return ef;\n        };\n\n        $scope.getET = function (type, str) {\n          var ets = $scope.ui.experimentTypes[type];\n          var et = _.find(ets, function (et) {\n            return et.name === str;\n          });\n          return et;\n        };\n\n        $scope.getTagList = function (entity) {\n          var tags = angular.copy(entyt.tags);\n          var res = [];\n          _.forEach(entity.value.tags, function (val, tagsType) {\n            var r = _.map(Object.keys(val), function (v) {\n              return { tagType: tagsType, name: v, label: v };\n            });\n            res = res.concat(r);\n          });\n          return res;\n        };\n\n        $scope.editExp = function (exp) {\n          $scope.editExpForm = {\n            exp: exp,\n            title: exp.value.title,\n            facility: exp.getEF($scope.data.project.value.projectType, exp.value.experimentalFacility).label,\n            type: exp.value.experimentType,\n            equipment: exp.getET(exp.value.experimentalFacility, exp.value.equipmentType).label,\n            description: exp.value.description\n          };\n          $scope.ui.showEditExperimentForm = true;\n        };\n\n        $scope.moveOrderUp = function ($index, ent, list) {\n          if (typeof ent._ui.order === 'undefined') {\n            ent._ui.order = 0;\n          } else if (ent._ui.order > 0) {\n            var order = ent._ui.order;\n            var _ent = _.find(list, function (e) {\n              return e._ui.order === order - 1;\n            });\n            ent._ui.order -= 1;\n            _ent._ui.order += 1;\n          }\n        };\n\n        $scope.moveOrderDown = function ($index, ent, list) {\n          if (typeof ent._ui.order === 'undefined') {\n            ent._ui.order = 0;\n          } else if (ent._ui.order < list.length - 1) {\n            var _ent = _.find(list, function (e) {\n              return e._ui.order === ent._ui.order + 1;\n            });\n            ent._ui.order += 1;\n            _ent._ui.order -= 1;\n          }\n        };\n\n        $scope.saveEditExperiment = function () {\n          var exp = $scope.editExpForm.exp;\n          exp.value.title = $scope.editExpForm.title;\n          exp.value.description = $scope.editExpForm.description;\n          $scope.ui.savingEditExp = true;\n          ProjectEntitiesService.update({ data: {\n              uuid: exp.uuid,\n              entity: exp\n            } }).then(function (e) {\n            var ent = $scope.data.project.getRelatedByUuid(e.uuid);\n            ent.update(e);\n            $scope.ui.savingEditExp = false;\n            $scope.data.experiments = $scope.data.project.experiment_set;\n            $scope.ui.showEditExperimentForm = false;\n            return e;\n          });\n        };\n\n        $scope.toggleDeleteExperiment = function (uuid) {\n          if (uuid in $scope.ui.experiments && $scope.ui.experiments[uuid].deleted) {\n            var index = $scope.form.deleteExperiments.indexOf(uuid);\n            $scope.form.deleteExperiments.splice(index, 1);\n            $scope.ui.experiments[uuid].deleted = false;\n          } else {\n            $scope.form.deleteExperiments.push(uuid);\n            $scope.ui.experiments[uuid] = {};\n            $scope.ui.experiments[uuid].deleted = true;\n          }\n        };\n\n        $scope.saveExperiment = function ($event) {\n          $event.preventDefault();\n          $scope.data.busy = true;\n          var addActions = _.map($scope.form.addExperiments, function (exp) {\n            exp.description = exp.description || '';\n            if (exp.title && exp.experimentalFacility && exp.experimentType) {\n              return ProjectEntitiesService.create({\n                data: {\n                  uuid: $scope.data.project.uuid,\n                  name: 'designsafe.project.experiment',\n                  entity: exp\n                }\n              }).then(function (res) {\n                $scope.data.project.addEntity(res);\n                //$scope.data.experiments.push(res);\n              });\n            }\n          });\n\n          //var tasks = addActions.concat(removeActions);\n\n          $q.all(addActions).then(function (results) {\n            $scope.data.busy = false;\n            $scope.form.addExperiments = [{}];\n            //$uibModalInstance.close(results);\n          }, function (error) {\n            $scope.data.error = error;\n            //$uibModalInstance.reject(error.data);\n          });\n        };\n\n        $scope.removeExperiments = function ($event) {\n          $scope.data.busy = true;\n\n          var removeActions = _.map($scope.form.deleteExperiments, function (uuid) {\n            return ProjectEntitiesService.delete({\n              data: {\n                uuid: uuid\n              }\n            }).then(function (entity) {\n              var entityAttr = $scope.data.project.getRelatedAttrName(entity.name);\n              var entitiesArray = $scope.data.project[entityAttr];\n              entitiesArray = _.filter(entitiesArray, function (e) {\n                return e.uuid !== entity.uuid;\n              });\n              $scope.data.project[entityAttr] = entitiesArray;\n              $scope.data.experiments = $scope.data.project[entityAttr];\n            });\n          });\n\n          $q.all(removeActions).then(function (results) {\n            $scope.data.busy = false;\n            $scope.form.addExperiments = [{}];\n            //$uibModalInstance.close(results);\n          }, function (error) {\n            $scope.data.busy = false;\n            $scope.data.error = error;\n            //$uibModalInstance.reject(error.data);\n          });\n        };\n\n        $scope.removeAnalysis = function (uuid) {\n          $scope.data.busy = true;\n          ProjectEntitiesService.delete({\n            data: {\n              uuid: uuid\n            }\n          }).then(function (entity) {\n            var entityAttr = $scope.data.project.getRelatedAttrName(entity.name);\n            var entitiesArray = $scope.data.project[entityAttr];\n            entitiesArray = _.filter(entitiesArray, function (e) {\n              return e.uuid !== entity.uuid;\n            });\n            $scope.data.project[entityAttr] = entitiesArray;\n            $scope.data.busy = false;\n          }, function (error) {\n            $scope.data.busy = false;\n            $scope.data.error = error;\n          });\n        };\n\n        $scope.delRelEntity = function (entity, rels) {\n          var _entity = angular.copy(entity);\n          _.each(rels, function (rel, relName) {\n            _entity.associationIds = _.without(_entity.associationIds, rel);\n            _entity.value[relName] = _.without(_entity.value[relName], rel);\n          });\n          ProjectEntitiesService.update({ data: { uuid: entity.uuid, entity: _entity } }).then(function (res) {\n            options.project.getRelatedByUuid(res.uuid).update(res);\n          }, function (err) {\n            $uibModalInstance.reject(err.data);\n          });\n        };\n\n        $scope.saveRelEntity = function (entity, rels) {\n          var _entity = angular.copy(entity);\n          _.each(rels, function (rel, relName) {\n            _entity.associationIds.push(rel);\n            _entity.value[relName].push(rel);\n          });\n          ProjectEntitiesService.update({ data: { uuid: entity.uuid, entity: _entity } }).then(function (res) {\n            var attrName = '';\n            for (var name in options.project._related) {\n              if (options.project._related[name] === res.name) {\n                attrName = name;\n                break;\n              }\n            }\n            var entity = _.find(options.project[attrName], function (entity) {\n              if (entity.uuid === res.uuid) {\n                return entity;\n              }\n            });\n            entity.update(res);\n            $scope.form.updateExperiments = {};\n          }, function (err) {\n            $uibModalInstance.reject(err.data);\n          });\n        };\n\n        $scope.ui.addingTag = false;\n        $scope.ui.tagTypes = [{ label: 'Model Config',\n          name: 'designsafe.project.model_config',\n          yamzId: 'h1312' }, { label: 'Sensor Info',\n          name: 'designsafe.project.sensor_list',\n          yamzId: 'h1557' }, { label: 'Event',\n          name: 'designsafe.project.event',\n          yamzId: 'h1253' }, { label: 'Analysis',\n          name: 'designsafe.project.analysis',\n          yamzId: 'h1333' }, { label: 'Report',\n          name: 'designsafe.project.report',\n          yamzId: '' }];\n        $scope.ui.analysisData = [{ name: 'graph', label: 'Graph' }, { name: 'visualization', label: 'Visualization' }, { name: 'table', label: 'Table' }, { name: 'other', label: 'Other' }];\n        $scope.ui.analysisApplication = [{ name: 'matlab', label: 'Matlab' }, { name: 'r', label: 'R' }, { name: 'jupyter', label: 'Jupyter' }, { name: 'other', label: 'Other' }];\n\n        $scope.data.form.projectTagToAdd = { optional: {} };\n\n        $scope.addProjectTag = function () {\n          var newTag = $scope.data.form.projectTagToAdd;\n          var nameComps = newTag.tagType.split('.');\n          var name = nameComps[nameComps.length - 1];\n          var entity = {};\n          entity.name = newTag.tagType;\n          if (name === 'event') {\n            entity.eventType = newTag.tagAttribute;\n          } else if (name === 'analysis') {\n            entity.analysisType = newTag.tagAttribute;\n          } else if (name === 'sensor_list') {\n            entity.sensorListType = newTag.tagAttibute;\n          } else if (name === 'model_config') {\n            entity.coverage = newTag.tagAttribute;\n          }\n          for (var attr in $scope.data.form.projectTagToAdd.optional) {\n            entity[attr] = $scope.data.form.projectTagToAdd.optional[attr];\n          }\n          $scope.ui.addingTag = true;\n          entity.title = newTag.tagTitle;\n          entity.description = newTag.tagDescription || '';\n          if (typeof $scope.data.files !== 'undefined') {\n            entity.filePaths = _.map($scope.data.files, function (file) {\n              return file.path;\n            });\n          }\n          $scope.ui.addingTag = true;\n          ProjectEntitiesService.create({ data: {\n              uuid: $scope.data.project.uuid,\n              name: newTag.tagType,\n              entity: entity\n            } }).then(function (resp) {\n            $scope.data.form.projectTagToAdd = { optional: {} };\n            //currentState.project.addEntity(resp);\n            $scope.data.project.addEntity(resp);\n            $scope.ui.error = false;\n            $scope.ui.addingTag = false;\n          }, function (err) {\n            $scope.ui.error = true;\n            $scope.error = err;\n          });\n        };\n      }],\n      size: 'lg'\n    });\n\n    return modal.result;\n  };\n\n  /**\n   *\n   * @param options\n   * @param {string} options.uuid The Project uuid\n   * @returns {Promise}\n   */\n  service.manageCollaborators = function (project) {\n    var modal = $uibModal.open({\n      templateUrl: '/static/scripts/ng-designsafe/html/modals/project-service-add-collaborator.html',\n      controller: ['$scope', '$uibModalInstance', '$q', 'Django', 'UserService', function ($scope, $uibModalInstance, $q, Django, UserService) {\n        $scope.data = {\n          busy: true,\n          project: project\n        };\n\n        $scope.initForm = function () {\n          $scope.form = {\n            curUsers: [],\n            addUsers: [{}],\n            curCoPis: [],\n            addCoPis: [{}],\n            authors: {}\n          };\n        };\n        $scope.initForm();\n\n        $scope.loadData = function () {\n          var loads = [\n          //projectResource.get({params: angular.copy(options)}),\n          //service.get(angular.copy(options)),\n          collabResource.get({ params: { uuid: project.uuid } }), ProjectEntitiesService.listEntities({ uuid: project.uuid,\n            name: 'designsafe.project.experiment' })];\n          $q.all(loads).then(function (results) {\n            $scope.data.busy = false;\n            $scope.data.experiments = results[1];\n\n            _.each($scope.data.experiments, function (exp) {\n              $scope.form.authors[exp.uuid] = {};\n              _.each(exp.value.authors, function (auth) {\n                $scope.form.authors[exp.uuid][auth] = true;\n              });\n            });\n\n            $scope.form.curUsers = _.map(results[0].data.teamMembers, function (collab) {\n              return {\n                user: { username: collab },\n                remove: false\n              };\n            });\n            $scope.form.curCoPis = _.map(results[0].data.coPis, function (collab) {\n              return {\n                user: { username: collab },\n                remove: false\n              };\n            });\n          }, function (error) {\n            $scope.data.busy = false;\n            $scope.data.error = error.data.message || error.data;\n          });\n        };\n\n        $scope.loadData();\n\n        $scope.canManage = function (user) {\n          var noManage = $scope.data.project.value.pi === user || Django.user === user || user === 'ds_admin';\n          return !noManage;\n        };\n\n        $scope.formatSelection = function () {\n          if (this.add.user) {\n            return this.add.user.first_name + ' ' + this.add.user.last_name + ' (' + this.add.user.username + ')';\n          }\n        };\n\n        $scope.addAnother = function () {\n          $scope.form.addUsers.push({});\n        };\n\n        $scope.addAnotherCoPi = function () {\n          $scope.form.addCoPis.push({});\n        };\n\n        $scope.searchUsers = function (q) {\n          return UserService.search({ q: q });\n        };\n\n        $scope.authorship = [];\n\n        $scope.toggleUserToExp = function (exp, username) {\n          var add = $scope.form.authors[exp.uuid][username];\n          $scope.authorship.push(exp);\n          if (add) {\n            exp.value.authors.push(username);\n          } else {\n            // $scope.authorship = _.reject($scope.authorship, function(obj){\n            // return obj.username === username; });\n            exp.value.authors = _.filter(exp.value.authors, function (d) {\n              return d !== username;\n            });\n          }\n        };\n\n        $scope.saveCollaborators = function ($event) {\n          if ($event) {\n            $event.preventDefault();\n          }\n          $scope.data.busy = true;\n\n          var removeActions = _.map($scope.form.curUsers, function (cur) {\n            if (cur.remove) {\n              return collabResource.delete({ data: {\n                  uuid: $scope.data.project.uuid,\n                  username: cur.user.username\n                } });\n            }\n          });\n\n          var coPIsRemoveActions = _.map($scope.form.curCoPis, function (cur) {\n            if (cur.remove) {\n              return collabResource.delete({ data: {\n                  uuid: $scope.data.project.uuid,\n                  username: cur.user.username\n                } });\n            }\n          });\n\n          removeActions = removeActions.concat(coPIsRemoveActions);\n\n          var addActions = _.map($scope.form.addUsers, function (add) {\n            if (add.user && add.user.username) {\n              return collabResource.post({ data: {\n                  uuid: $scope.data.project.uuid,\n                  username: add.user.username\n                } });\n            }\n          });\n\n          addActions.concat(_.map($scope.form.addCoPis, function (add) {\n            if (add.user && add.user.username) {\n              return collabResource.post({ data: {\n                  uuid: $scope.data.project.uuid,\n                  username: add.user.username,\n                  memberType: 'coPis'\n                } });\n            }\n          }));\n\n          var expsToUpdate = [];\n          _.each($scope.authorship, function (obj) {\n            expsToUpdate.push(obj);\n          });\n\n          // TODO This should probably be a stack or something...\n          // expsToUpdate = _.uniq(expsToUpdate, function (d) { return d.uuid;});\n          var updateExps = _.map(expsToUpdate, function (_exp) {\n            // var _exp = $scope.data.project.getRelatedByUuid(uuid);\n            return ProjectEntitiesService.update({ data: {\n                uuid: _exp.uuid,\n                entity: _exp\n              } }).then(function (e) {\n              var ent = $scope.data.project.getRelatedByUuid(e.uuid);\n              ent.update(e);\n              return e;\n            });\n          });\n\n          //ProjectEntitiesService.update(\n          //    {data: {uuid: entity.uuid, entity: entity}}\n          //)\n          var tasks = removeActions.concat(addActions);\n          tasks = tasks.concat(updateExps);\n          $q.all(tasks).then(function (results) {\n            // $uibModalInstance.close(results);\n            // $scope.data.busy = true;\n            $scope.initForm();\n            $scope.loadData();\n          }, function (error) {\n            // $uibModalInstance.reject(error.data);\n            $scope.data.busy = true;\n            $scope.initForm();\n            $scope.loadData();\n          });\n        };\n\n        $scope.cancel = function () {\n          $uibModalInstance.close($scope.data.project);\n        };\n      }]\n    });\n\n    return modal.result;\n  };\n\n  /**\n   * @param {Project} [project]\n   * @return {Promise}\n   */\n  service.editProject = function (_project) {\n    var modal = $uibModal.open({\n      size: 'md',\n      templateUrl: '/static/scripts/ng-designsafe/html/modals/project-service-edit-project.html',\n      controller: ['$scope', '$uibModalInstance', 'UserService', 'project', function ($scope, $uibModalInstance, UserService, project) {\n        $scope.ui = { busy: false,\n          error: null };\n        $scope.form = { associatedProjectsAdded: [{}] };\n        $scope.projectTypes = [{\n          id: 'experimental',\n          label: 'Experimental' }, {\n          id: 'simulation',\n          label: 'Simulation' }, {\n          id: 'hybrid_simulation',\n          label: 'Hybrid Simulation' }, {\n          id: 'field_reconnaissance',\n          label: 'Field Reconnaissance' }, {\n          id: 'other',\n          label: 'Other' }];\n        $scope.efs = efs;\n\n        if (project) {\n          $scope.form.uuid = project.uuid;\n          $scope.form.title = project.value.title;\n          $scope.form.awardNumber = project.value.awardNumber || '';\n          $scope.form.projectId = project.value.projectId || '';\n          $scope.form.description = project.value.description || '';\n          $scope.form.experimentalFacility = project.value.experimentalFacility || '';\n          $scope.form.keywords = project.value.keywords || '';\n          if (typeof project.value.projectType !== 'undefined') {\n            $scope.form.projectType = _.find($scope.projectTypes, function (projectType) {\n              return projectType.id === project.value.projectType;\n            });\n          }\n          if (typeof project.value.associatedProjects !== 'undefined') {\n            $scope.form.associatedProjects = _.filter(project.value.associatedProjects, function (associatedProject) {\n              return typeof associatedProject.title !== 'undefined' && associatedProject.title.length > 0;\n            });\n          }\n          UserService.get(project.value.pi).then(function (user) {\n            $scope.form.pi = user;\n          });\n        }\n\n        $scope.searchUsers = function (q) {\n          return UserService.search({ q: q });\n        };\n\n        $scope.formatSelection = function () {\n          if (this.form.pi) {\n            return this.form.pi.first_name + ' ' + this.form.pi.last_name + ' (' + this.form.pi.username + ')';\n          }\n        };\n\n        $scope.addAssociatedProject = function () {\n          $scope.form.associatedProjectsAdded.push({});\n        };\n\n        $scope.cancel = function () {\n          $uibModalInstance.dismiss();\n        };\n\n        $scope.save = function () {\n          $scope.ui.busy = true;\n          var projectData = {\n            title: $scope.form.title,\n            awardNumber: $scope.form.awardNumber,\n            description: $scope.form.description,\n            projectId: $scope.form.projectId\n          };\n          if ($scope.form.pi && $scope.form.pi.username) {\n            projectData.pi = $scope.form.pi.username;\n          }\n\n          //if (typeof $scope.form.experimentalFacility !== 'undefined'){\n          //  projectData.experimentalFacility = $scope.form.experimentalFacility;\n          //}\n          if (typeof $scope.form.projectType.id !== 'undefined') {\n            projectData.projectType = $scope.form.projectType.id;\n          }\n          if ($scope.form.uuid) {\n            projectData.uuid = $scope.form.uuid;\n          }\n          if (typeof $scope.form.associatedProjectsAdded !== 'undefined') {\n            $scope.form.associatedProjectsAdded = _.filter($scope.form.associatedProjectsAdded, function (associatedProject) {\n              return typeof associatedProject.title !== 'undefined' && associatedProject.title.length > 0;\n            });\n            projectData.associatedProjects = $scope.form.associatedProjects || [];\n            projectData.associatedProjects = _.filter(projectData.associatedProjects, function (associatedProject) {\n              return !associatedProject.delete;\n            });\n            projectData.associatedProjects = projectData.associatedProjects.concat($scope.form.associatedProjectsAdded);\n          }\n          if (typeof $scope.form.keywords !== 'undefined') {\n            projectData.keywords = $scope.form.keywords;\n          }\n          service.save(projectData).then(function (project) {\n            $uibModalInstance.close(project);\n            $scope.ui.busy = false;\n          });\n        };\n      }],\n      resolve: {\n        project: function project() {\n          return _project;\n        }\n      }\n    });\n\n    return modal.result;\n  };\n\n  return service;\n};\n\nexports.default = ProjectService;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9zZXJ2aWNlcy9wcm9qZWN0LXNlcnZpY2UuanM/NTlkYyJdLCJuYW1lcyI6WyJQcm9qZWN0U2VydmljZSIsImh0dHBpIiwiJGludGVycG9sYXRlIiwiJHEiLCIkdWliTW9kYWwiLCJlZnMiLCJuYW1lIiwibGFiZWwiLCJlcXVpcG1lbnRUeXBlcyIsImV4cGVyaW1lbnRUeXBlcyIsInNlcnZpY2UiLCJwcm9qZWN0UmVzb3VyY2UiLCJyZXNvdXJjZSIsInNldEtlZXBUcmFpbGluZ1NsYXNoIiwiY29sbGFiUmVzb3VyY2UiLCJkYXRhUmVzb3VyY2UiLCJsaXN0IiwiZ2V0IiwidGhlbiIsInJlc3AiLCJkYXRhIiwicmVzcG9uc2UiLCJvcHRpb25zIiwicGFyYW1zIiwiUHJvamVjdE1vZGVsIiwic2F2ZSIsInBvc3QiLCJnZXRDb2xsYWJvcmF0b3JzIiwiYWRkQ29sbGFib3JhdG9yIiwicmVtb3ZlQ29sbGFib3JhdG9yIiwiZGVsZXRlIiwicHJvamVjdERhdGEiLCJtYW5hZ2VFeHBlcmltZW50cyIsIm1vZGFsIiwib3BlbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiR1aWJNb2RhbEluc3RhbmNlIiwiRGphbmdvIiwiVXNlclNlcnZpY2UiLCJidXN5IiwiZXhwZXJpbWVudHMiLCJwcm9qZWN0IiwiZm9ybSIsInVpIiwidXBkYXRlRXhwZXJpbWVudHMiLCJzaG93QWRkUmVwb3J0IiwiY3VyRXhwZXJpbWVudHMiLCJhZGRFeHBlcmltZW50cyIsImRlbGV0ZUV4cGVyaW1lbnRzIiwiZW50aXRpZXNUb0FkZCIsImV4cGVyaW1lbnRfc2V0IiwiYWRkRXhwZXJpbWVudCIsInB1c2giLCJjYW5jZWwiLCJkaXNtaXNzIiwiZGVsTmV3RXhwZXJpbWVudCIsImluZGV4Iiwic3BsaWNlIiwiZ2V0RUYiLCJzdHIiLCJ2YWx1ZSIsInByb2plY3RUeXBlIiwiZWYiLCJfIiwiZmluZCIsImdldEVUIiwidHlwZSIsImV0cyIsImV0IiwiZ2V0VGFnTGlzdCIsImVudGl0eSIsInRhZ3MiLCJhbmd1bGFyIiwiY29weSIsImVudHl0IiwicmVzIiwiZm9yRWFjaCIsInZhbCIsInRhZ3NUeXBlIiwiciIsIm1hcCIsIk9iamVjdCIsImtleXMiLCJ2IiwidGFnVHlwZSIsImNvbmNhdCIsImVkaXRFeHAiLCJleHAiLCJlZGl0RXhwRm9ybSIsInRpdGxlIiwiZmFjaWxpdHkiLCJleHBlcmltZW50YWxGYWNpbGl0eSIsImV4cGVyaW1lbnRUeXBlIiwiZXF1aXBtZW50IiwiZXF1aXBtZW50VHlwZSIsImRlc2NyaXB0aW9uIiwic2hvd0VkaXRFeHBlcmltZW50Rm9ybSIsIm1vdmVPcmRlclVwIiwiJGluZGV4IiwiZW50IiwiX3VpIiwib3JkZXIiLCJfZW50IiwiZSIsIm1vdmVPcmRlckRvd24iLCJsZW5ndGgiLCJzYXZlRWRpdEV4cGVyaW1lbnQiLCJzYXZpbmdFZGl0RXhwIiwiUHJvamVjdEVudGl0aWVzU2VydmljZSIsInVwZGF0ZSIsInV1aWQiLCJnZXRSZWxhdGVkQnlVdWlkIiwidG9nZ2xlRGVsZXRlRXhwZXJpbWVudCIsImRlbGV0ZWQiLCJpbmRleE9mIiwic2F2ZUV4cGVyaW1lbnQiLCIkZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImFkZEFjdGlvbnMiLCJjcmVhdGUiLCJhZGRFbnRpdHkiLCJhbGwiLCJyZXN1bHRzIiwiZXJyb3IiLCJyZW1vdmVFeHBlcmltZW50cyIsInJlbW92ZUFjdGlvbnMiLCJlbnRpdHlBdHRyIiwiZ2V0UmVsYXRlZEF0dHJOYW1lIiwiZW50aXRpZXNBcnJheSIsImZpbHRlciIsInJlbW92ZUFuYWx5c2lzIiwiZGVsUmVsRW50aXR5IiwicmVscyIsIl9lbnRpdHkiLCJlYWNoIiwicmVsIiwicmVsTmFtZSIsImFzc29jaWF0aW9uSWRzIiwid2l0aG91dCIsImVyciIsInJlamVjdCIsInNhdmVSZWxFbnRpdHkiLCJhdHRyTmFtZSIsIl9yZWxhdGVkIiwiYWRkaW5nVGFnIiwidGFnVHlwZXMiLCJ5YW16SWQiLCJhbmFseXNpc0RhdGEiLCJhbmFseXNpc0FwcGxpY2F0aW9uIiwicHJvamVjdFRhZ1RvQWRkIiwib3B0aW9uYWwiLCJhZGRQcm9qZWN0VGFnIiwibmV3VGFnIiwibmFtZUNvbXBzIiwic3BsaXQiLCJldmVudFR5cGUiLCJ0YWdBdHRyaWJ1dGUiLCJhbmFseXNpc1R5cGUiLCJzZW5zb3JMaXN0VHlwZSIsInRhZ0F0dGlidXRlIiwiY292ZXJhZ2UiLCJhdHRyIiwidGFnVGl0bGUiLCJ0YWdEZXNjcmlwdGlvbiIsImZpbGVzIiwiZmlsZVBhdGhzIiwiZmlsZSIsInBhdGgiLCJzaXplIiwicmVzdWx0IiwibWFuYWdlQ29sbGFib3JhdG9ycyIsImluaXRGb3JtIiwiY3VyVXNlcnMiLCJhZGRVc2VycyIsImN1ckNvUGlzIiwiYWRkQ29QaXMiLCJhdXRob3JzIiwibG9hZERhdGEiLCJsb2FkcyIsImxpc3RFbnRpdGllcyIsImF1dGgiLCJ0ZWFtTWVtYmVycyIsImNvbGxhYiIsInVzZXIiLCJ1c2VybmFtZSIsInJlbW92ZSIsImNvUGlzIiwibWVzc2FnZSIsImNhbk1hbmFnZSIsIm5vTWFuYWdlIiwicGkiLCJmb3JtYXRTZWxlY3Rpb24iLCJhZGQiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiYWRkQW5vdGhlciIsImFkZEFub3RoZXJDb1BpIiwic2VhcmNoVXNlcnMiLCJxIiwic2VhcmNoIiwiYXV0aG9yc2hpcCIsInRvZ2dsZVVzZXJUb0V4cCIsImQiLCJzYXZlQ29sbGFib3JhdG9ycyIsImN1ciIsImNvUElzUmVtb3ZlQWN0aW9ucyIsIm1lbWJlclR5cGUiLCJleHBzVG9VcGRhdGUiLCJvYmoiLCJ1cGRhdGVFeHBzIiwiX2V4cCIsInRhc2tzIiwiY2xvc2UiLCJlZGl0UHJvamVjdCIsImFzc29jaWF0ZWRQcm9qZWN0c0FkZGVkIiwicHJvamVjdFR5cGVzIiwiaWQiLCJhd2FyZE51bWJlciIsInByb2plY3RJZCIsImtleXdvcmRzIiwiYXNzb2NpYXRlZFByb2plY3RzIiwiYXNzb2NpYXRlZFByb2plY3QiLCJhZGRBc3NvY2lhdGVkUHJvamVjdCIsInJlc29sdmUiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsU0FBU0EsY0FBVCxDQUF3QkMsS0FBeEIsRUFBK0JDLFlBQS9CLEVBQTZDQyxFQUE3QyxFQUFpREMsU0FBakQsRUFBNEQ7QUFDMUQ7O0FBQ0EsTUFBSUMsTUFBTTtBQUNSLG9CQUFnQixDQUNkLEVBQUNDLE1BQU0sT0FBUCxFQUFnQkMsT0FBTyx5R0FBdkIsRUFEYyxFQUViLEVBQUNELE1BQU0sYUFBUCxFQUFzQkMsT0FBTyw0Q0FBN0IsRUFGYSxFQUdiLEVBQUNELE1BQU0sZUFBUCxFQUF3QkMsT0FBTyxpQ0FBL0IsRUFIYSxFQUliLEVBQUNELE1BQU0sZUFBUCxFQUF3QkMsT0FBTywwRUFBL0IsRUFKYSxFQUtiLEVBQUNELE1BQU0sY0FBUCxFQUF1QkMsT0FBTyx3RkFBOUIsRUFMYSxFQU1iLEVBQUNELE1BQU0saUJBQVAsRUFBMEJDLE9BQU8sZ0ZBQWpDLEVBTmEsRUFPYixFQUFDRCxNQUFNLGVBQVAsRUFBd0JDLE9BQVEsaUVBQWhDLEVBUGEsRUFRZCxFQUFDRCxNQUFNLE9BQVAsRUFBZ0JDLE9BQU8sT0FBdkIsRUFSYztBQURSLEdBQVY7O0FBYUEsTUFBSUMsaUJBQWlCO0FBQ25CLGFBQVMsQ0FBQyxFQUFDRixNQUFNLG1CQUFQLEVBQTRCQyxPQUFPLG1CQUFuQyxFQUFELEVBQ0MsRUFBQ0QsTUFBTSxPQUFQLEVBQWdCQyxPQUFNLE9BQXRCLEVBREQsQ0FEVTtBQUduQixtQkFBZSxDQUFDLEVBQUNELE1BQU0sNENBQVAsRUFBcURDLE9BQU8sMkNBQTVELEVBQUQsRUFDQyxFQUFDRCxNQUFNLDRDQUFQLEVBQXFEQyxPQUFPLDJDQUE1RCxFQURELEVBRUwsRUFBQ0QsTUFBTSxPQUFQLEVBQWdCQyxPQUFNLE9BQXRCLEVBRkssQ0FISTtBQU1uQixxQkFBaUIsQ0FDZixFQUFDRCxNQUFNLFlBQVA7QUFDQ0MsYUFBTyw2Q0FEUixF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QUFPTyxJQUFQLENBQVlpTCxRQUFuQixLQUFnQyxXQUFwQyxFQUFnRDtBQUM5QzlMLHdCQUFZOEwsUUFBWixHQUF1QnhMLE9BQU9PLElBQVAsQ0FBWWlMLFFBQW5DO0FBQ0Q7QUFDRG5OLGtCQUFRZSxJQUFSLENBQWFNLFdBQWIsRUFBMEJiLElBQTFCLENBQStCLFVBQVV5QixPQUFWLEVBQW1CO0FBQ2hETCw4QkFBa0JnTCxLQUFsQixDQUF3QjNLLE9BQXhCO0FBQ0FOLG1CQUFPUSxFQUFQLENBQVVKLElBQVYsR0FBaUIsS0FBakI7QUFDRCxXQUhEO0FBSUQsU0FsQ0Q7QUFtQ0QsT0EzRlcsQ0FIYTtBQStGekJ3TCxlQUFTO0FBQ1B0TCxpQkFBUyxtQkFBWTtBQUFFLGlCQUFPQSxRQUFQO0FBQWlCO0FBRGpDO0FBL0ZnQixLQUFmLENBQVo7O0FBb0dBLFdBQU9WLE1BQU0wSSxNQUFiO0FBQ0QsR0F0R0Q7O0FBd0dBLFNBQU9qSyxPQUFQO0FBRUQ7O2tCQUVjVixjIiwiZmlsZSI6IjIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gUHJvamVjdFNlcnZpY2UoaHR0cGksICRpbnRlcnBvbGF0ZSwgJHEsICR1aWJNb2RhbCkge1xuICAnbmdJbmplY3QnO1xuICB2YXIgZWZzID0ge1xuICAgICdleHBlcmltZW50YWwnOiBbXG4gICAgICB7bmFtZTogJ2F0bHNzJywgbGFiZWw6ICdBZHZhbmNlZCBUZWNobm9sb2d5IGZvciBMYXJnZSBTdHJ1Y3R1cmFsIFN5c3RlbXMgKEFUTFNTKSBFbmdpbmVlcmluZyBSZXNlYXJjaCBDZW50ZXIsIExlaGlnaCBVbml2ZXJzaXR5J30sXG4gICAgICAge25hbWU6ICdjZ20tdWNkYXZpcycsIGxhYmVsOiAnQ2VudGVyIGZvciBHZW90ZWNobmljYWwgTW9kZWxpbmcsIFVDIERhdmlzJ30sXG4gICAgICAge25hbWU6ICdlcXNzLXV0YXVzdGluJywgbGFiZWw6ICdGaWVsZCBtb2JpbGUgc2hha2VycywgVVQgQXVzdGluJ30sXG4gICAgICAge25hbWU6ICdwZnNtbC1mbG9yaWRhJywgbGFiZWw6ICdQb3dlbGwgRmFtaWx5IFN0cnVjdHVyZXMgYW5kIE1hdGVyaWFscyBMYWJvcmF0b3J5LCBVbml2ZXJzaXR5IG9mIEZsb3JpZGEnfSxcbiAgICAgICB7bmFtZTogJ3d3aHItZmxvcmlkYScsIGxhYmVsOiAnV2FsbCBvZiBXaW5kIEludGVybmF0aW9uYWwgSHVycmljYW5lIFJlc2VhcmNoIENlbnRlciwgRmxvcmlkYSBJbnRlcm5hdGlvbmFsIFVuaXZlcnNpdHknfSxcbiAgICAgICB7bmFtZTogJ2xocG9zdC1zYW5kaWVnbycsIGxhYmVsOiAnTGFyZ2UgSGlnaCBQZXJmb3JtYW5jZSBPdXRkb29yIFNoYWtlIFRhYmxlLCBVbml2ZXJzaXR5IG9mIENhbGlmb3JuaWEgU2FuIERpZWdvJ30sXG4gICAgICAge25hbWU6ICdvaGh3cmwtb3JlZ29uJywgbGFiZWw6ICAnTy5ILiBIaW5zZGFsZSBXYXZlIFJlc2VhcmNoIExhYm9yYXRvcnksIE9yZWdvbiBTdGF0ZSBVbml2ZXJzaXR5J30sXG4gICAgICB7bmFtZTogJ290aGVyJywgbGFiZWw6ICdPdGhlcid9XG4gICAgXVxuICB9O1xuXG4gIHZhciBlcXVpcG1lbnRUeXBlcyA9IHtcbiAgICAnYXRsc3MnOiBbe25hbWU6ICdoeWJyaWRfc2ltdWxhdGlvbicsIGxhYmVsOiAnSHlicmlkIFNpbXVsYXRpb24nfSxcbiAgICAgICAgICAgICAge25hbWU6ICdvdGhlcicsIGxhYmVsOidPdGhlcid9XSxcbiAgICAnY2dtLXVjZGF2aXMnOiBbe25hbWU6ICc5LW1fcmFkaXVzX2R5bmFtaWNfZ2VvdGVjaG5pY2FsX2NlbnRyaWZ1Z2UnLCBsYWJlbDogJzltIFJhZGl1cyBEeW5hbWljIEdlb3RlY2huaWNhbCBDZW50cmlmdWdlJ30sXG4gICAgICAgICAgICAgICAgICAgIHtuYW1lOiAnMS1tX3JhZGl1c19keW5hbWljX2dlb3RlY2huaWNhbF9jZW50cmlmdWdlJywgbGFiZWw6ICcxbSBSYWRpdXMgRHluYW1pYyBHZW90ZWNobmljYWwgQ2VudHJpZnVnZSd9LFxuICAgICAgICAgICAgICB7bmFtZTogJ290aGVyJywgbGFiZWw6J090aGVyJ31dLFxuICAgICdlcXNzLXV0YXVzdGluJzogW1xuICAgICAge25hbWU6ICdsaXF1aWRhdG9yJyxcbiAgICAgICBsYWJlbDogJ0xvdyBGcmVxdWVuY3ksIFR3byBBeGlzIFNoYWtlciAoTGlxdWlkYXRvciknfSxcbiAgICAgIHtuYW1lOiAndC1yZXgnLFxuICAgICAgIGxhYmVsOiAnSGlnaCBGb3JjZSBUaHJlZSBBeGlzIFNoYWtlciAoVCBSZXgpJ30sXG4gICAgICB7bmFtZTogJ3RyYWN0b3ItdC1yZXgnLFxuICAgICAgIGxhYmVsOiAnVHJhY3Rvci1UcmFpbGVyIFJpZywgQmlnIFJpZywgd2l0aCBULVJleCd9LFxuICAgICAge25hbWU6ICdyYXB0b3InLFxuICAgICAgIGxhYmVsOiAnU2luZ2xlIEF4aXMgVmVydGljYWwgU2hha2VyIChSYXB0b3IpJ30sXG4gICAgICB7bmFtZTogJ3JhdHRsZXInLFxuICAgICAgIGxhYmVsOiAnU2luZ2xlIEF4aXMgSG9yaXpvbnRhbCBTaGFrZXIgKFJhdHRsZXIpJ30sXG4gICAgICB7bmFtZTogJ3RodW1wZXInLFxuICAgICAgIGxhYmVsOiAnVXJiYW4sIFRocmVlIGF4aXMgU2hha2VyIChUaHVtcGVyKSd9LFxuICAgICAgICAgICAgICB7bmFtZTogJ290aGVyJywgbGFiZWw6J090aGVyJ31dLFxuICAgICdwZnNtbC1mbG9yaWRhJzogW1xuICAgICAge25hbWU6ICdibHd0JywgbGFiZWw6ICdCb3VuZGFyeSBMYXllciBXaW5kIFR1bm5lbCAoQkxXVCknfSxcbiAgICAgIHtuYW1lOiAnYWJsJywgbGFiZWw6ICdBdG1vc3BoZXJpYyBCb3VuZGFyeSBMYXllciBXaW5kIFR1bm5lbCBUZXN0IChBQkwpJ30sXG4gICAgICB7bmFtZTogJ3dkcnQnLCBsYWJlbDogJ1dpbmQgRHJpdmVuIFJhaW4gVGVzdCd9LFxuICAgICAge25hbWU6ICd3dGR0JywgbGFiZWw6ICd3aW5kX3R1bm5lbF9kZXN0cnVjdGl2ZV90ZXN0J30sXG4gICAgICB7bmFtZTogJ2RmcycsIGxhYmVsOiAnRHluYW1pYyBGbG93IFNpbXVsYXRvciAoREZTKSd9LFxuICAgICAge25hbWU6ICdoYXBsYScsIGxhYmVsOiAnSGlnaCBBaXJmbG93IFByZXNzdXJlIExvYWRpbmcgQWN0dWF0b3IgKEhBUExBKSd9LFxuICAgICAge25hbWU6ICdzcGxhJywgbGFiZWw6ICdTcGF0aW90ZW1wb3JhbCBQcmVzc3VyZSBMb2FkaW5nIEFjdHVhdG9yIChTUExBKSd9LFxuICAgICAgICAgICAgICB7bmFtZTogJ290aGVyJywgbGFiZWw6J090aGVyJ31cbiAgICBdLFxuICAgICd3d2hyLWZsb3JpZGEnOiBbe25hbWU6ICdwbXRwJywgbGFiZWw6ICdQaHlzaWNhbF9tZWFzdXJlbWVudF90ZXN0X3Byb3RvY29sJ30sXG4gICAgICAgICAgICAgICAgICAgICB7bmFtZTogJ2ZtdHAnLCBsYWJlbDogJ0ZhaWx1cmUgTW9kZSBUZXN0IFByb3RvY29sJ30sXG4gICAgICAgICAgICAgICAgICAgICB7bmFtZTogJ3dkcnRwJywgbGFiZWw6ICdXaW5kIERyaXZlbiBSYWluIFRlc3QgUHJvdG9jb2wnfSxcbiAgICAgICAgICAgICAge25hbWU6ICdvdGhlcicsIGxhYmVsOidPdGhlcid9XSxcbiAgICAnbGhwb3N0LXNhbmRpZWdvJzogW3tuYW1lOiAnbGhwb3N0JywgbGFiZWw6ICdMYXJnZSBIaWdoIFBlcmZvcm1hbmNlIE91dGRvb3IgU2hha2UgVGFibGUgKExIUE9TVCknfSxcbiAgICAgICAgICAgICAge25hbWU6ICdvdGhlcicsIGxhYmVsOidPdGhlcid9XSxcbiAgICAnb2hod3JsLW9yZWdvbic6IFt7bmFtZTogJ2x3ZicsIGxhYmVsOiAnTGFyZ2UgV2F2ZSBGbHVtZSAoTFdGKSd9LFxuICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOiAnZHdiJywgbGFiZWw6ICdEaXJlY3Rpb25hbCBXYXZlIEJhc2luIChEV0IpJ30sXG4gICAgICAgICAgICAgICAgICAgICAge25hbWU6ICdtb2JzJywgbGFiZWw6ICdNb2JpbGUgU2hha2VyJ30sXG4gICAgICAgICAgICAgICAgICAgICAge25hbWU6ICdwbGEnLCBsYWJlbDogJ3ByZXNzdXJlX2xvYWRpbmdfYWN0dWF0b3InfSxcbiAgICAgICAgICAgICAge25hbWU6ICdvdGhlcicsIGxhYmVsOidPdGhlcid9XSxcbiAgICAnb3RoZXInOiBbe25hbWU6ICdvdGhlcicsIGxhYmVsOiAnT3RoZXInfV1cbiAgfTtcblxuICB2YXIgZXhwZXJpbWVudFR5cGVzID0ge1xuICAgICdhdGxzcyc6IFt7bmFtZTogJ2h5YnJpZF9zaW11bGF0aW9uJywgbGFiZWw6J0h5YnJpZCBTaW11bGF0aW9uJ30sXG4gICAgICAgICAgICAgIHtuYW1lOiAnb3RoZXInLCBsYWJlbDonT3RoZXInfV0sXG4gICAgJ2NnbS11Y2RhdmlzJzpbe25hbWU6ICdjZW50cmlmdWdlJywgbGFiZWw6J0NlbnRyaWZ1Z2UnfSxcbiAgICAgICAgICAgICAge25hbWU6ICdvdGhlcicsIGxhYmVsOidPdGhlcid9XSxcbiAgICAnZXFzcy11dGF1c3Rpbic6W3tuYW1lOiAnbW9iaWxlX3NoYWtlcicsIGxhYmVsOidNb2JpbGUgU2hha2VyJ30sXG4gICAgICAgICAgICAgIHtuYW1lOiAnb3RoZXInLCBsYWJlbDonT3RoZXInfV0sXG4gICAgJ3Bmc21sLWZsb3JpZGEnOiBbe25hbWU6J3dpbmQnLCBsYWJlbDonV2luZCd9LFxuICAgICAgICAgICAgICB7bmFtZTogJ290aGVyJywgbGFiZWw6J090aGVyJ31dLFxuICAgICd3d2hyLWZsb3JpZGEnOiBbe25hbWU6ICd3aW5kJywgbGFiZWw6J1dpbmQnfSxcbiAgICAgICAgICAgICAge25hbWU6ICdvdGhlcicsIGxhYmVsOidPdGhlcid9XSxcbiAgICAnbGhwb3N0LXNhbmRpZWdvJzogW3tuYW1lOiAnc2hha2UnLCBsYWJlbDogJ1NoYWtlJ30sXG4gICAgICAgICAgICAgIHtuYW1lOiAnb3RoZXInLCBsYWJlbDonT3RoZXInfV0sXG4gICAgJ29oaHdybC1vcmVnb24nOiBbe25hbWU6ICd3YXZlJywgbGFiZWw6J1dhdmUnfSxcbiAgICAgICAgICAgICAge25hbWU6ICdvdGhlcicsIGxhYmVsOidPdGhlcid9XSxcbiAgICAnb3RoZXInOiBbe25hbWU6ICdvdGhlcicsIGxhYmVsOidPdGhlcid9XVxuICB9O1xuXG4gIHZhciBzZXJ2aWNlID0ge307XG5cbiAgdmFyIHByb2plY3RSZXNvdXJjZSA9IGh0dHBpLnJlc291cmNlKCcvYXBpL2RhdGEtZGVwb3QvcHJvamVjdHMvOnV1aWQvJykuc2V0S2VlcFRyYWlsaW5nU2xhc2godHJ1ZSk7XG4gIHZhciBjb2xsYWJSZXNvdXJjZSA9IGh0dHBpLnJlc291cmNlKCcvYXBpL3Byb2plY3RzLzp1dWlkL2NvbGxhYm9yYXRvcnMvJykuc2V0S2VlcFRyYWlsaW5nU2xhc2godHJ1ZSk7XG4gIHZhciBkYXRhUmVzb3VyY2UgPSBodHRwaS5yZXNvdXJjZSgnL2FwaS9wcm9qZWN0cy86dXVpZC9kYXRhLzpmaWxlSWQnKS5zZXRLZWVwVHJhaWxpbmdTbGFzaCh0cnVlKTtcbiAvL3ZhciBlbnRpdGllc1Jlc291cmNlID0gaHR0cGkucmVzb3VyY2UoJy9hcGkvcHJvamVjdHMvOnV1aWQvbWV0YS86bmFtZS8nKS5zZXRLZWVwVHJhaWxpbmdTbGFzaCh0cnVlKTtcbiAvL3ZhciBlbnRpdHlSZXNvdXJjZSA9IGh0dHBpLnJlc291cmNlKCcvYXBpL3Byb2plY3RzL21ldGEvOnV1aWQvJykuc2V0S2VlcFRyYWlsaW5nU2xhc2godHJ1ZSk7XG5cblxuICAvKipcbiAgICogR2V0IGEgbGlzdCBvZiBQcm9qZWN0cyBmb3IgdGhlIGN1cnJlbnQgdXNlclxuICAgKiBAcmV0dXJucyB7UHJvamVjdFtdfVxuICAgKi9cbiAgc2VydmljZS5saXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHByb2plY3RSZXNvdXJjZS5nZXQoKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgIHJldHVybiByZXNwLmRhdGEucmVzcG9uc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCBhIHNwZWNpZmljIFByb2plY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudXVpZCBUaGUgUHJvamVjdCBVVUlEXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgc2VydmljZS5nZXQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHByb2plY3RSZXNvdXJjZS5nZXQoe3BhcmFtczogb3B0aW9uc30pLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9qZWN0TW9kZWwocmVzcC5kYXRhKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU2F2ZSBvciB1cGRhdGUgYSBQcm9qZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51dWlkXSBUaGUgUHJvamVjdCB1dWlkLCBpZiB1cGRhdGluZyBleGlzdGluZyByZWNvcmQsIG90aGVyd2lzZSBudWxsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnRpdGxlIFRoZSBQcm9qZWN0IHRpdGxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5waV0gVGhlIHVzZXJuYW1lIGZvciBQcm9qZWN0IFBJXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IFtvcHRpb25zLmNvUGlzXSBMaXN0IG9mIHVzZXJuYW1lcyBmb3IgUHJvamVjdCBDby1QSXNcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBzZXJ2aWNlLnNhdmUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHByb2plY3RSZXNvdXJjZS5wb3N0KHtkYXRhOiBvcHRpb25zfSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9qZWN0TW9kZWwocmVzcC5kYXRhKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IGEgbGlzdCBvZiB1c2VybmFtZXMgZm9yIHVzZXJzIHRoYXQgYXJlIGNvbGxhYm9yYXRvcnMgb24gdGhlIFByb2plY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudXVpZCBUaGUgUHJvamVjdCB1dWlkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgc2VydmljZS5nZXRDb2xsYWJvcmF0b3JzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiBjb2xsYWJSZXNvdXJjZS5nZXQoe3BhcmFtczogb3B0aW9uc30pO1xuICB9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy51dWlkIFRoZSBQcm9qZWN0IHV1aWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudXNlcm5hbWUgVGhlIHVzZXJuYW1lIG9mIHRoZSBjb2xsYWJvcmF0b3IgdG8gYWRkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgc2VydmljZS5hZGRDb2xsYWJvcmF0b3IgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIGNvbGxhYlJlc291cmNlLnBvc3Qoe2RhdGE6IG9wdGlvbnN9KTtcbiAgfTtcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudXVpZCBUaGUgUHJvamVjdCB1dWlkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnVzZXJuYW1lIFRoZSB1c2VybmFtZSBvZiB0aGUgY29sbGFib3JhdG9yIHRvIGFkZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIHNlcnZpY2UucmVtb3ZlQ29sbGFib3JhdG9yID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiBjb2xsYWJSZXNvdXJjZS5kZWxldGUoe2RhdGE6IG9wdGlvbnN9KTtcbiAgfTtcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudXVpZCBUaGUgUHJvamVjdCB1dWlkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5maWxlSWRdIHRoZSBQcm9qZWN0IGRhdGEgZmlsZSBpZCB0byBsaXN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgc2VydmljZS5wcm9qZWN0RGF0YSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZGF0YVJlc291cmNlLmdldCh7cGFyYW1zOiBvcHRpb25zfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnV1aWQgVGhlIFByb2plY3QgdXVpZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIHNlcnZpY2UubWFuYWdlRXhwZXJpbWVudHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIG1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3NjcmlwdHMvbmctZGVzaWduc2FmZS9odG1sL21vZGFscy9wcm9qZWN0LXNlcnZpY2UtbWFuYWdlLWV4cGVyaW1lbnRzLmh0bWwnLFxuICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnJHEnLCAnRGphbmdvJywgJ1VzZXJTZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsICRxLCBEamFuZ28sIFVzZXJTZXJ2aWNlKSB7XG4gICAgICAgICRzY29wZS5kYXRhID0ge1xuICAgICAgICAgIGJ1c3k6IGZhbHNlLFxuICAgICAgICAgIGV4cGVyaW1lbnRzOiBvcHRpb25zLmV4cGVyaW1lbnRzLFxuICAgICAgICAgIHByb2plY3Q6IG9wdGlvbnMucHJvamVjdCxcbiAgICAgICAgICBmb3JtOiB7fVxuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUudWkgPSB7XG4gICAgICAgICAgICBleHBlcmltZW50czoge30sXG4gICAgICAgICAgICBlZnM6IGVmcyxcbiAgICAgICAgICAgIGV4cGVyaW1lbnRUeXBlczogZXhwZXJpbWVudFR5cGVzLFxuICAgICAgICAgICAgZXF1aXBtZW50VHlwZXM6IGVxdWlwbWVudFR5cGVzLFxuICAgICAgICAgICAgdXBkYXRlRXhwZXJpbWVudHM6IHt9LFxuICAgICAgICAgICAgc2hvd0FkZFJlcG9ydDoge31cbiAgICAgICAgICAgIH07XG4gICAgICAgICRzY29wZS5mb3JtID0ge1xuICAgICAgICAgIGN1ckV4cGVyaW1lbnRzOiBbXSxcbiAgICAgICAgICBhZGRFeHBlcmltZW50czogW3t9XSxcbiAgICAgICAgICBkZWxldGVFeHBlcmltZW50czogW10sXG4gICAgICAgICAgZW50aXRpZXNUb0FkZDpbXVxuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuZm9ybS5jdXJFeHBlcmltZW50cyA9ICRzY29wZS5kYXRhLnByb2plY3QuZXhwZXJpbWVudF9zZXQ7XG5cbiAgICAgICAgJHNjb3BlLmFkZEV4cGVyaW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHNjb3BlLmZvcm0uYWRkRXhwZXJpbWVudHMucHVzaCh7fSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmRlbE5ld0V4cGVyaW1lbnQgPSBmdW5jdGlvbihpbmRleCl7XG4gICAgICAgICAgJHNjb3BlLmZvcm0uYWRkRXhwZXJpbWVudHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZ2V0RUYgPSBmdW5jdGlvbihzdHIpe1xuICAgICAgICAgICAgdmFyIGVmcyA9ICRzY29wZS51aS5lZnNbJHNjb3BlLmRhdGEucHJvamVjdC52YWx1ZS5wcm9qZWN0VHlwZV07XG4gICAgICAgICAgICB2YXIgZWYgPSBfLmZpbmQoZWZzLCBmdW5jdGlvbihlZil7XG4gICAgICAgICAgICAgIHJldHVybiBlZi5uYW1lID09PSBzdHI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBlZjtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZ2V0RVQgPSBmdW5jdGlvbih0eXBlLCBzdHIpe1xuICAgICAgICAgICAgdmFyIGV0cyA9ICRzY29wZS51aS5leHBlcmltZW50VHlwZXNbdHlwZV07XG4gICAgICAgICAgICB2YXIgZXQgPSBfLmZpbmQoZXRzLCBmdW5jdGlvbihldCl7XG4gICAgICAgICAgICAgIHJldHVybiBldC5uYW1lID09PSBzdHI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBldDtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZ2V0VGFnTGlzdCA9IGZ1bmN0aW9uKGVudGl0eSl7XG4gICAgICAgICAgdmFyIHRhZ3MgPSBhbmd1bGFyLmNvcHkoZW50eXQudGFncyk7XG4gICAgICAgICAgdmFyIHJlcyA9IFtdO1xuICAgICAgICAgIF8uZm9yRWFjaChlbnRpdHkudmFsdWUudGFncywgZnVuY3Rpb24odmFsLCB0YWdzVHlwZSl7XG4gICAgICAgICAgICAgIHZhciByID0gXy5tYXAoT2JqZWN0LmtleXModmFsKSwgZnVuY3Rpb24odil7XG4gICAgICAgICAgICAgICAgICByZXR1cm4ge3RhZ1R5cGU6IHRhZ3NUeXBlLCBuYW1lOiB2LCBsYWJlbDogdn07XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXMgPSByZXMuY29uY2F0KHIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmVkaXRFeHAgPSBmdW5jdGlvbihleHApe1xuICAgICAgICAgICRzY29wZS5lZGl0RXhwRm9ybSA9IHtcbiAgICAgICAgICAgICAgZXhwOiBleHAsXG4gICAgICAgICAgICAgIHRpdGxlOiBleHAudmFsdWUudGl0bGUsXG4gICAgICAgICAgICAgIGZhY2lsaXR5OiBleHAuZ2V0RUYoJHNjb3BlLmRhdGEucHJvamVjdC52YWx1ZS5wcm9qZWN0VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHAudmFsdWUuZXhwZXJpbWVudGFsRmFjaWxpdHkpLmxhYmVsLFxuICAgICAgICAgICAgICB0eXBlOiBleHAudmFsdWUuZXhwZXJpbWVudFR5cGUsXG4gICAgICAgICAgICAgIGVxdWlwbWVudDogZXhwLmdldEVUKGV4cC52YWx1ZS5leHBlcmltZW50YWxGYWNpbGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwLnZhbHVlLmVxdWlwbWVudFR5cGUpLmxhYmVsLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZXhwLnZhbHVlLmRlc2NyaXB0aW9uXG4gICAgICAgICAgfTtcbiAgICAgICAgICAkc2NvcGUudWkuc2hvd0VkaXRFeHBlcmltZW50Rm9ybSA9IHRydWU7XG4gICAgICAgIH07XG5cblxuICAgICAgICAkc2NvcGUubW92ZU9yZGVyVXAgPSBmdW5jdGlvbigkaW5kZXgsIGVudCwgbGlzdCl7XG4gICAgICAgICAgaWYgKHR5cGVvZiBlbnQuX3VpLm9yZGVyID09PSAndW5kZWZpbmVkJyl7XG4gICAgICAgICAgICBlbnQuX3VpLm9yZGVyID0gMDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGVudC5fdWkub3JkZXIgPiAwKXtcbiAgICAgICAgICAgIHZhciBvcmRlciA9IGVudC5fdWkub3JkZXI7XG4gICAgICAgICAgICB2YXIgX2VudCA9IF8uZmluZChsaXN0LCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLl91aS5vcmRlciA9PT0gb3JkZXIgLSAxOyB9KTtcbiAgICAgICAgICAgIGVudC5fdWkub3JkZXIgLT0gMTtcbiAgICAgICAgICAgIF9lbnQuX3VpLm9yZGVyICs9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5tb3ZlT3JkZXJEb3duID0gZnVuY3Rpb24oJGluZGV4LCBlbnQsIGxpc3Qpe1xuICAgICAgICAgIGlmICh0eXBlb2YgZW50Ll91aS5vcmRlciA9PT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICAgICAgZW50Ll91aS5vcmRlciA9IDA7XG4gICAgICAgICAgfSBlbHNlIGlmIChlbnQuX3VpLm9yZGVyIDwgbGlzdC5sZW5ndGggLSAxKXtcbiAgICAgICAgICAgIHZhciBfZW50ID0gXy5maW5kKGxpc3QsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuX3VpLm9yZGVyID09PSBlbnQuX3VpLm9yZGVyICsgMTsgfSk7XG4gICAgICAgICAgICBlbnQuX3VpLm9yZGVyICs9IDE7XG4gICAgICAgICAgICBfZW50Ll91aS5vcmRlciAtPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2F2ZUVkaXRFeHBlcmltZW50ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBleHAgPSAkc2NvcGUuZWRpdEV4cEZvcm0uZXhwO1xuICAgICAgICAgICAgZXhwLnZhbHVlLnRpdGxlID0gJHNjb3BlLmVkaXRFeHBGb3JtLnRpdGxlO1xuICAgICAgICAgICAgZXhwLnZhbHVlLmRlc2NyaXB0aW9uID0gJHNjb3BlLmVkaXRFeHBGb3JtLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgJHNjb3BlLnVpLnNhdmluZ0VkaXRFeHAgPSB0cnVlO1xuICAgICAgICAgICAgUHJvamVjdEVudGl0aWVzU2VydmljZS51cGRhdGUoe2RhdGE6IHtcbiAgICAgICAgICAgICAgICB1dWlkOiBleHAudXVpZCxcbiAgICAgICAgICAgICAgICBlbnRpdHk6IGV4cFxuICAgICAgICAgICAgfX0pLnRoZW4oZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgdmFyIGVudCA9ICRzY29wZS5kYXRhLnByb2plY3QuZ2V0UmVsYXRlZEJ5VXVpZChlLnV1aWQpO1xuICAgICAgICAgICAgICAgIGVudC51cGRhdGUoZSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnVpLnNhdmluZ0VkaXRFeHAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YS5leHBlcmltZW50cyA9ICRzY29wZS5kYXRhLnByb2plY3QuZXhwZXJpbWVudF9zZXQ7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnVpLnNob3dFZGl0RXhwZXJpbWVudEZvcm0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS50b2dnbGVEZWxldGVFeHBlcmltZW50ID0gZnVuY3Rpb24odXVpZCl7XG4gICAgICAgICAgaWYgKHV1aWQgaW4gJHNjb3BlLnVpLmV4cGVyaW1lbnRzICYmXG4gICAgICAgICAgICAgICRzY29wZS51aS5leHBlcmltZW50c1t1dWlkXS5kZWxldGVkKXtcbiAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5mb3JtLmRlbGV0ZUV4cGVyaW1lbnRzLmluZGV4T2YodXVpZCk7XG4gICAgICAgICAgICAkc2NvcGUuZm9ybS5kZWxldGVFeHBlcmltZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgJHNjb3BlLnVpLmV4cGVyaW1lbnRzW3V1aWRdLmRlbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHNjb3BlLmZvcm0uZGVsZXRlRXhwZXJpbWVudHMucHVzaCh1dWlkKTtcbiAgICAgICAgICAgICRzY29wZS51aS5leHBlcmltZW50c1t1dWlkXSA9IHt9O1xuICAgICAgICAgICAgJHNjb3BlLnVpLmV4cGVyaW1lbnRzW3V1aWRdLmRlbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2F2ZUV4cGVyaW1lbnQgPSBmdW5jdGlvbigkZXZlbnQpe1xuICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICRzY29wZS5kYXRhLmJ1c3kgPSB0cnVlO1xuICAgICAgICAgIHZhciBhZGRBY3Rpb25zID0gXy5tYXAoJHNjb3BlLmZvcm0uYWRkRXhwZXJpbWVudHMsIGZ1bmN0aW9uKGV4cCl7XG4gICAgICAgICAgICBleHAuZGVzY3JpcHRpb24gPSBleHAuZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgICAgICBpZiAoZXhwLnRpdGxlICYmIGV4cC5leHBlcmltZW50YWxGYWNpbGl0eSAmJiBleHAuZXhwZXJpbWVudFR5cGUpe1xuICAgICAgICAgICAgICByZXR1cm4gUHJvamVjdEVudGl0aWVzU2VydmljZS5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgIHV1aWQ6ICRzY29wZS5kYXRhLnByb2plY3QudXVpZCxcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICdkZXNpZ25zYWZlLnByb2plY3QuZXhwZXJpbWVudCcsXG4gICAgICAgICAgICAgICAgICBlbnRpdHk6IGV4cFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgICAgICRzY29wZS5kYXRhLnByb2plY3QuYWRkRW50aXR5KHJlcyk7XG4gICAgICAgICAgICAgICAgLy8kc2NvcGUuZGF0YS5leHBlcmltZW50cy5wdXNoKHJlcyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy92YXIgdGFza3MgPSBhZGRBY3Rpb25zLmNvbmNhdChyZW1vdmVBY3Rpb25zKTtcblxuICAgICAgICAgICRxLmFsbChhZGRBY3Rpb25zKS50aGVuKFxuICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEuYnVzeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAkc2NvcGUuZm9ybS5hZGRFeHBlcmltZW50cyA9IFt7fV07XG4gICAgICAgICAgICAgIC8vJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UocmVzdWx0cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICRzY29wZS5kYXRhLmVycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgIC8vJHVpYk1vZGFsSW5zdGFuY2UucmVqZWN0KGVycm9yLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnJlbW92ZUV4cGVyaW1lbnRzID0gZnVuY3Rpb24oJGV2ZW50KXtcbiAgICAgICAgICAkc2NvcGUuZGF0YS5idXN5ID0gdHJ1ZTtcblxuICAgICAgICAgIHZhciByZW1vdmVBY3Rpb25zID0gXy5tYXAoJHNjb3BlLmZvcm0uZGVsZXRlRXhwZXJpbWVudHMsIGZ1bmN0aW9uKHV1aWQpe1xuICAgICAgICAgICAgcmV0dXJuIFByb2plY3RFbnRpdGllc1NlcnZpY2UuZGVsZXRlKHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHV1aWQ6IHV1aWQsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZW50aXR5KXtcbiAgICAgICAgICAgICAgdmFyIGVudGl0eUF0dHIgPSAkc2NvcGUuZGF0YS5wcm9qZWN0LmdldFJlbGF0ZWRBdHRyTmFtZShlbnRpdHkubmFtZSk7XG4gICAgICAgICAgICAgIHZhciBlbnRpdGllc0FycmF5ID0gJHNjb3BlLmRhdGEucHJvamVjdFtlbnRpdHlBdHRyXTtcbiAgICAgICAgICAgICAgZW50aXRpZXNBcnJheSA9IF8uZmlsdGVyKGVudGl0aWVzQXJyYXksIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLnV1aWQgIT09IGVudGl0eS51dWlkO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICRzY29wZS5kYXRhLnByb2plY3RbZW50aXR5QXR0cl0gPSBlbnRpdGllc0FycmF5O1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YS5leHBlcmltZW50cyA9ICRzY29wZS5kYXRhLnByb2plY3RbZW50aXR5QXR0cl07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgICRxLmFsbChyZW1vdmVBY3Rpb25zKS50aGVuKFxuICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEuYnVzeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAkc2NvcGUuZm9ybS5hZGRFeHBlcmltZW50cyA9IFt7fV07XG4gICAgICAgICAgICAgIC8vJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UocmVzdWx0cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICRzY29wZS5kYXRhLmJ1c3kgPSBmYWxzZTtcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICAgICAgLy8kdWliTW9kYWxJbnN0YW5jZS5yZWplY3QoZXJyb3IuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcblxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5yZW1vdmVBbmFseXNpcyA9IGZ1bmN0aW9uKHV1aWQpe1xuICAgICAgICAgICRzY29wZS5kYXRhLmJ1c3kgPSB0cnVlO1xuICAgICAgICAgIFByb2plY3RFbnRpdGllc1NlcnZpY2UuZGVsZXRlKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgdXVpZDogdXVpZCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGVudGl0eSl7XG4gICAgICAgICAgICAgIHZhciBlbnRpdHlBdHRyID0gJHNjb3BlLmRhdGEucHJvamVjdC5nZXRSZWxhdGVkQXR0ck5hbWUoZW50aXR5Lm5hbWUpO1xuICAgICAgICAgICAgICB2YXIgZW50aXRpZXNBcnJheSA9ICRzY29wZS5kYXRhLnByb2plY3RbZW50aXR5QXR0cl07XG4gICAgICAgICAgICAgIGVudGl0aWVzQXJyYXkgPSBfLmZpbHRlcihlbnRpdGllc0FycmF5LCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS51dWlkICE9PSBlbnRpdHkudXVpZDtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YS5wcm9qZWN0W2VudGl0eUF0dHJdID0gZW50aXRpZXNBcnJheTtcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEuYnVzeSA9IGZhbHNlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24oZXJyb3Ipe1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YS5idXN5ID0gZmFsc2U7XG4gICAgICAgICAgICAkc2NvcGUuZGF0YS5lcnJvciA9IGVycm9yO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5kZWxSZWxFbnRpdHkgPSBmdW5jdGlvbihlbnRpdHksIHJlbHMpe1xuICAgICAgICAgIHZhciBfZW50aXR5ID0gYW5ndWxhci5jb3B5KGVudGl0eSk7XG4gICAgICAgICAgXy5lYWNoKHJlbHMsIGZ1bmN0aW9uKHJlbCwgcmVsTmFtZSl7XG4gICAgICAgICAgICBfZW50aXR5LmFzc29jaWF0aW9uSWRzID0gXy53aXRob3V0KF9lbnRpdHkuYXNzb2NpYXRpb25JZHMsIHJlbCk7XG4gICAgICAgICAgICBfZW50aXR5LnZhbHVlW3JlbE5hbWVdID0gXy53aXRob3V0KF9lbnRpdHkudmFsdWVbcmVsTmFtZV0sIHJlbCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgUHJvamVjdEVudGl0aWVzU2VydmljZS51cGRhdGUoe2RhdGE6IHt1dWlkOiBlbnRpdHkudXVpZCwgZW50aXR5OiBfZW50aXR5fX0pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgIG9wdGlvbnMucHJvamVjdC5nZXRSZWxhdGVkQnlVdWlkKHJlcy51dWlkKS51cGRhdGUocmVzKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5yZWplY3QoZXJyLmRhdGEpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zYXZlUmVsRW50aXR5ID0gZnVuY3Rpb24oZW50aXR5LCByZWxzKXtcbiAgICAgICAgICB2YXIgX2VudGl0eSA9IGFuZ3VsYXIuY29weShlbnRpdHkpO1xuICAgICAgICAgIF8uZWFjaChyZWxzLCBmdW5jdGlvbihyZWwsIHJlbE5hbWUpe1xuICAgICAgICAgICAgX2VudGl0eS5hc3NvY2lhdGlvbklkcy5wdXNoKHJlbCk7XG4gICAgICAgICAgICBfZW50aXR5LnZhbHVlW3JlbE5hbWVdLnB1c2gocmVsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBQcm9qZWN0RW50aXRpZXNTZXJ2aWNlLnVwZGF0ZSh7ZGF0YToge3V1aWQ6IGVudGl0eS51dWlkLCBlbnRpdHk6IF9lbnRpdHl9fSlcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgdmFyIGF0dHJOYW1lID0gJyc7XG4gICAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIG9wdGlvbnMucHJvamVjdC5fcmVsYXRlZCl7XG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLnByb2plY3QuX3JlbGF0ZWRbbmFtZV0gPT09IHJlcy5uYW1lKXtcbiAgICAgICAgICAgICAgICBhdHRyTmFtZSA9IG5hbWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlbnRpdHkgPSAgXy5maW5kKG9wdGlvbnMucHJvamVjdFthdHRyTmFtZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZW50aXR5KXsgaWYgKGVudGl0eS51dWlkID09PSByZXMudXVpZCl7IHJldHVybiBlbnRpdHk7IH19KTtcbiAgICAgICAgICAgIGVudGl0eS51cGRhdGUocmVzKTtcbiAgICAgICAgICAgICRzY29wZS5mb3JtLnVwZGF0ZUV4cGVyaW1lbnRzID0ge307XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmdW5jdGlvbihlcnIpe1xuICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UucmVqZWN0KGVyci5kYXRhKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUudWkuYWRkaW5nVGFnID0gZmFsc2U7XG4gICAgICAgICRzY29wZS51aS50YWdUeXBlcyA9IFtcbiAgICAgICAgICAgIHtsYWJlbDogJ01vZGVsIENvbmZpZycsXG4gICAgICAgICAgICAgbmFtZTogJ2Rlc2lnbnNhZmUucHJvamVjdC5tb2RlbF9jb25maWcnLFxuICAgICAgICAgICAgIHlhbXpJZDogJ2gxMzEyJ30sXG4gICAgICAgICAgICB7bGFiZWw6ICdTZW5zb3IgSW5mbycsXG4gICAgICAgICAgICAgbmFtZTogJ2Rlc2lnbnNhZmUucHJvamVjdC5zZW5zb3JfbGlzdCcsXG4gICAgICAgICAgICAgeWFteklkOiAnaDE1NTcnfSxcbiAgICAgICAgICAgIHtsYWJlbDogJ0V2ZW50JyxcbiAgICAgICAgICAgICBuYW1lOiAnZGVzaWduc2FmZS5wcm9qZWN0LmV2ZW50JyxcbiAgICAgICAgICAgICB5YW16SWQ6ICdoMTI1Myd9LFxuICAgICAgICAgICAge2xhYmVsOiAnQW5hbHlzaXMnLFxuICAgICAgICAgICAgIG5hbWU6ICdkZXNpZ25zYWZlLnByb2plY3QuYW5hbHlzaXMnLFxuICAgICAgICAgICAgIHlhbXpJZDogJ2gxMzMzJ30sXG4gICAgICAgICAgICB7bGFiZWw6ICdSZXBvcnQnLFxuICAgICAgICAgICAgIG5hbWU6ICdkZXNpZ25zYWZlLnByb2plY3QucmVwb3J0JyxcbiAgICAgICAgICAgICB5YW16SWQ6ICcnfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgJHNjb3BlLnVpLmFuYWx5c2lzRGF0YSA9IFtcbiAgICAgICAgICB7bmFtZTogJ2dyYXBoJywgbGFiZWw6ICdHcmFwaCd9LFxuICAgICAgICAgIHtuYW1lOiAndmlzdWFsaXphdGlvbicsIGxhYmVsOiAnVmlzdWFsaXphdGlvbid9LFxuICAgICAgICAgIHtuYW1lOiAndGFibGUnLCBsYWJlbDogJ1RhYmxlJ30sXG4gICAgICAgICAge25hbWU6ICdvdGhlcicsIGxhYmVsOiAnT3RoZXInfVxuICAgICAgICBdO1xuICAgICAgICAkc2NvcGUudWkuYW5hbHlzaXNBcHBsaWNhdGlvbiA9IFtcbiAgICAgICAgICB7bmFtZTogJ21hdGxhYicsIGxhYmVsOiAnTWF0bGFiJ30sXG4gICAgICAgICAge25hbWU6ICdyJywgbGFiZWw6ICdSJ30sXG4gICAgICAgICAge25hbWU6ICdqdXB5dGVyJywgbGFiZWw6ICdKdXB5dGVyJ30sXG4gICAgICAgICAge25hbWU6ICdvdGhlcicsIGxhYmVsOiAnT3RoZXInfVxuICAgICAgICBdO1xuXG4gICAgICAgICRzY29wZS5kYXRhLmZvcm0ucHJvamVjdFRhZ1RvQWRkID0ge29wdGlvbmFsOnt9fTtcblxuICAgICAgICAkc2NvcGUuYWRkUHJvamVjdFRhZyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgdmFyIG5ld1RhZyA9ICRzY29wZS5kYXRhLmZvcm0ucHJvamVjdFRhZ1RvQWRkO1xuICAgICAgICAgIHZhciBuYW1lQ29tcHMgPSBuZXdUYWcudGFnVHlwZS5zcGxpdCgnLicpO1xuICAgICAgICAgIHZhciBuYW1lID0gbmFtZUNvbXBzW25hbWVDb21wcy5sZW5ndGgtMV07XG4gICAgICAgICAgdmFyIGVudGl0eSA9IHt9O1xuICAgICAgICAgIGVudGl0eS5uYW1lID0gbmV3VGFnLnRhZ1R5cGU7XG4gICAgICAgICAgaWYgKG5hbWUgPT09ICdldmVudCcpe1xuICAgICAgICAgICAgZW50aXR5LmV2ZW50VHlwZSA9IG5ld1RhZy50YWdBdHRyaWJ1dGU7XG4gICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09PSAnYW5hbHlzaXMnKXtcbiAgICAgICAgICAgIGVudGl0eS5hbmFseXNpc1R5cGUgPSBuZXdUYWcudGFnQXR0cmlidXRlO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ3NlbnNvcl9saXN0Jyl7XG4gICAgICAgICAgICBlbnRpdHkuc2Vuc29yTGlzdFR5cGUgPSBuZXdUYWcudGFnQXR0aWJ1dGU7XG4gICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09PSAnbW9kZWxfY29uZmlnJyl7XG4gICAgICAgICAgICBlbnRpdHkuY292ZXJhZ2UgPSBuZXdUYWcudGFnQXR0cmlidXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhciBhdHRyIGluICRzY29wZS5kYXRhLmZvcm0ucHJvamVjdFRhZ1RvQWRkLm9wdGlvbmFsKXtcbiAgICAgICAgICAgIGVudGl0eVthdHRyXSA9ICRzY29wZS5kYXRhLmZvcm0ucHJvamVjdFRhZ1RvQWRkLm9wdGlvbmFsW2F0dHJdO1xuICAgICAgICAgIH1cbiAgICAgICAgICAkc2NvcGUudWkuYWRkaW5nVGFnID0gdHJ1ZTtcbiAgICAgICAgICBlbnRpdHkudGl0bGUgPSBuZXdUYWcudGFnVGl0bGU7XG4gICAgICAgICAgZW50aXR5LmRlc2NyaXB0aW9uID0gbmV3VGFnLnRhZ0Rlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICAgIGlmICh0eXBlb2YgJHNjb3BlLmRhdGEuZmlsZXMgIT09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgICAgIGVudGl0eS5maWxlUGF0aHMgPSBfLm1hcCgkc2NvcGUuZGF0YS5maWxlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZmlsZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsZS5wYXRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgJHNjb3BlLnVpLmFkZGluZ1RhZyA9IHRydWU7XG4gICAgICAgICAgUHJvamVjdEVudGl0aWVzU2VydmljZS5jcmVhdGUoe2RhdGE6IHtcbiAgICAgICAgICAgICAgdXVpZDogJHNjb3BlLmRhdGEucHJvamVjdC51dWlkLFxuICAgICAgICAgICAgICBuYW1lOiBuZXdUYWcudGFnVHlwZSxcbiAgICAgICAgICAgICAgZW50aXR5OiBlbnRpdHlcbiAgICAgICAgICB9fSlcbiAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgICBmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICRzY29wZS5kYXRhLmZvcm0ucHJvamVjdFRhZ1RvQWRkID0ge29wdGlvbmFsOnt9fTtcbiAgICAgICAgICAgICAgIC8vY3VycmVudFN0YXRlLnByb2plY3QuYWRkRW50aXR5KHJlc3ApO1xuICAgICAgICAgICAgICAgJHNjb3BlLmRhdGEucHJvamVjdC5hZGRFbnRpdHkocmVzcCk7XG4gICAgICAgICAgICAgICAkc2NvcGUudWkuZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICRzY29wZS51aS5hZGRpbmdUYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAkc2NvcGUudWkuZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yID0gZXJyO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgIH1dLFxuICAgICAgc2l6ZTonbGcnXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbW9kYWwucmVzdWx0O1xuICB9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy51dWlkIFRoZSBQcm9qZWN0IHV1aWRcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBzZXJ2aWNlLm1hbmFnZUNvbGxhYm9yYXRvcnMgPSBmdW5jdGlvbihwcm9qZWN0KSB7XG4gICAgdmFyIG1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3NjcmlwdHMvbmctZGVzaWduc2FmZS9odG1sL21vZGFscy9wcm9qZWN0LXNlcnZpY2UtYWRkLWNvbGxhYm9yYXRvci5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJyRxJywgJ0RqYW5nbycsICdVc2VyU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCAkcSwgRGphbmdvLCBVc2VyU2VydmljZSkge1xuICAgICAgICAkc2NvcGUuZGF0YSA9IHtcbiAgICAgICAgICBidXN5OiB0cnVlLFxuICAgICAgICAgIHByb2plY3Q6IHByb2plY3RcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaW5pdEZvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHNjb3BlLmZvcm0gPSB7XG4gICAgICAgICAgICBjdXJVc2VyczogW10sXG4gICAgICAgICAgICBhZGRVc2VyczogW3t9XSxcbiAgICAgICAgICAgIGN1ckNvUGlzOiBbXSxcbiAgICAgICAgICAgIGFkZENvUGlzOiBbe31dLFxuICAgICAgICAgICAgYXV0aG9yczp7fVxuICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5pbml0Rm9ybSgpO1xuXG5cblxuICAgICAgICAkc2NvcGUubG9hZERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGxvYWRzID0gW1xuICAgICAgICAgICAgLy9wcm9qZWN0UmVzb3VyY2UuZ2V0KHtwYXJhbXM6IGFuZ3VsYXIuY29weShvcHRpb25zKX0pLFxuICAgICAgICAgICAgLy9zZXJ2aWNlLmdldChhbmd1bGFyLmNvcHkob3B0aW9ucykpLFxuICAgICAgICAgICAgY29sbGFiUmVzb3VyY2UuZ2V0KHtwYXJhbXM6IHt1dWlkOiBwcm9qZWN0LnV1aWR9fSksXG4gICAgICAgICAgICBQcm9qZWN0RW50aXRpZXNTZXJ2aWNlLmxpc3RFbnRpdGllcyh7dXVpZDogcHJvamVjdC51dWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZGVzaWduc2FmZS5wcm9qZWN0LmV4cGVyaW1lbnQnfSlcbiAgICAgICAgICBdO1xuICAgICAgICAgICRxLmFsbChsb2FkcykudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgJHNjb3BlLmRhdGEuYnVzeSA9IGZhbHNlO1xuICAgICAgICAgICAgJHNjb3BlLmRhdGEuZXhwZXJpbWVudHMgPSByZXN1bHRzWzFdO1xuXG4gICAgICAgICAgICBfLmVhY2goJHNjb3BlLmRhdGEuZXhwZXJpbWVudHMsIGZ1bmN0aW9uKGV4cCl7XG4gICAgICAgICAgICAgICRzY29wZS5mb3JtLmF1dGhvcnNbZXhwLnV1aWRdID0ge307XG4gICAgICAgICAgICAgIF8uZWFjaChleHAudmFsdWUuYXV0aG9ycywgZnVuY3Rpb24oYXV0aCl7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9ybS5hdXRob3JzW2V4cC51dWlkXVthdXRoXSA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgJHNjb3BlLmZvcm0uY3VyVXNlcnMgPSBfLm1hcChyZXN1bHRzWzBdLmRhdGEudGVhbU1lbWJlcnMsIGZ1bmN0aW9uIChjb2xsYWIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHVzZXI6IHt1c2VybmFtZTogY29sbGFifSxcbiAgICAgICAgICAgICAgcmVtb3ZlOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkc2NvcGUuZm9ybS5jdXJDb1BpcyA9IF8ubWFwKHJlc3VsdHNbMF0uZGF0YS5jb1BpcywgZnVuY3Rpb24gKGNvbGxhYikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdXNlcjoge3VzZXJuYW1lOiBjb2xsYWJ9LFxuICAgICAgICAgICAgICByZW1vdmU6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgJHNjb3BlLmRhdGEuYnVzeSA9IGZhbHNlO1xuICAgICAgICAgICAgJHNjb3BlLmRhdGEuZXJyb3IgPSBlcnJvci5kYXRhLm1lc3NhZ2UgfHwgZXJyb3IuZGF0YTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUubG9hZERhdGEoKTtcblxuICAgICAgICAkc2NvcGUuY2FuTWFuYWdlID0gZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgICB2YXIgbm9NYW5hZ2UgPSAkc2NvcGUuZGF0YS5wcm9qZWN0LnZhbHVlLnBpID09PSB1c2VyIHx8XG4gICAgICAgICAgICBEamFuZ28udXNlciA9PT0gdXNlciB8fFxuICAgICAgICAgICAgdXNlciA9PT0gJ2RzX2FkbWluJztcbiAgICAgICAgICByZXR1cm4gISBub01hbmFnZTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZm9ybWF0U2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHRoaXMuYWRkLnVzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZC51c2VyLmZpcnN0X25hbWUgK1xuICAgICAgICAgICAgICAnICcgKyB0aGlzLmFkZC51c2VyLmxhc3RfbmFtZSArXG4gICAgICAgICAgICAgICcgKCcgKyB0aGlzLmFkZC51c2VyLnVzZXJuYW1lICsgJyknO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYWRkQW5vdGhlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkc2NvcGUuZm9ybS5hZGRVc2Vycy5wdXNoKHt9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYWRkQW5vdGhlckNvUGkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHNjb3BlLmZvcm0uYWRkQ29QaXMucHVzaCh7fSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNlYXJjaFVzZXJzID0gZnVuY3Rpb24gKHEpIHtcbiAgICAgICAgICByZXR1cm4gVXNlclNlcnZpY2Uuc2VhcmNoKHtxOiBxfSk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAkc2NvcGUuYXV0aG9yc2hpcCA9IFtdO1xuXG4gICAgICAgICRzY29wZS50b2dnbGVVc2VyVG9FeHAgPSBmdW5jdGlvbihleHAsIHVzZXJuYW1lKXtcbiAgICAgICAgICB2YXIgYWRkID0gJHNjb3BlLmZvcm0uYXV0aG9yc1tleHAudXVpZF1bdXNlcm5hbWVdO1xuICAgICAgICAgICRzY29wZS5hdXRob3JzaGlwLnB1c2goZXhwKTtcbiAgICAgICAgICBpZiAoYWRkKXtcbiAgICAgICAgICAgICAgZXhwLnZhbHVlLmF1dGhvcnMucHVzaCh1c2VybmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gJHNjb3BlLmF1dGhvcnNoaXAgPSBfLnJlamVjdCgkc2NvcGUuYXV0aG9yc2hpcCwgZnVuY3Rpb24ob2JqKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gb2JqLnVzZXJuYW1lID09PSB1c2VybmFtZTsgfSk7XG4gICAgICAgICAgICAgIGV4cC52YWx1ZS5hdXRob3JzID0gXy5maWx0ZXIoZXhwLnZhbHVlLmF1dGhvcnMsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQgIT09IHVzZXJuYW1lO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2F2ZUNvbGxhYm9yYXRvcnMgPSBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCRldmVudCkgeyAkZXZlbnQucHJldmVudERlZmF1bHQoKTt9XG4gICAgICAgICAgJHNjb3BlLmRhdGEuYnVzeSA9IHRydWU7XG5cbiAgICAgICAgICB2YXIgcmVtb3ZlQWN0aW9ucyA9IF8ubWFwKCRzY29wZS5mb3JtLmN1clVzZXJzLCBmdW5jdGlvbiAoY3VyKSB7XG4gICAgICAgICAgICBpZiAoY3VyLnJlbW92ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gY29sbGFiUmVzb3VyY2UuZGVsZXRlKHtkYXRhOiB7XG4gICAgICAgICAgICAgICAgdXVpZDogJHNjb3BlLmRhdGEucHJvamVjdC51dWlkLFxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBjdXIudXNlci51c2VybmFtZVxuICAgICAgICAgICAgICB9fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB2YXIgY29QSXNSZW1vdmVBY3Rpb25zID0gXy5tYXAoJHNjb3BlLmZvcm0uY3VyQ29QaXMsIGZ1bmN0aW9uKGN1cil7XG4gICAgICAgICAgICBpZihjdXIucmVtb3ZlKXtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbGxhYlJlc291cmNlLmRlbGV0ZSh7ZGF0YTp7XG4gICAgICAgICAgICAgICAgdXVpZDogJHNjb3BlLmRhdGEucHJvamVjdC51dWlkLFxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBjdXIudXNlci51c2VybmFtZVxuICAgICAgICAgICAgICB9fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZW1vdmVBY3Rpb25zID0gcmVtb3ZlQWN0aW9ucy5jb25jYXQoY29QSXNSZW1vdmVBY3Rpb25zKTtcblxuICAgICAgICAgIHZhciBhZGRBY3Rpb25zID0gXy5tYXAoJHNjb3BlLmZvcm0uYWRkVXNlcnMsIGZ1bmN0aW9uIChhZGQpIHtcbiAgICAgICAgICAgIGlmIChhZGQudXNlciAmJiBhZGQudXNlci51c2VybmFtZSkge1xuICAgICAgICAgICAgICByZXR1cm4gY29sbGFiUmVzb3VyY2UucG9zdCh7ZGF0YToge1xuICAgICAgICAgICAgICAgIHV1aWQ6ICRzY29wZS5kYXRhLnByb2plY3QudXVpZCxcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogYWRkLnVzZXIudXNlcm5hbWVcbiAgICAgICAgICAgICAgfX0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgYWRkQWN0aW9ucy5jb25jYXQoXy5tYXAoJHNjb3BlLmZvcm0uYWRkQ29QaXMsIGZ1bmN0aW9uIChhZGQpIHtcbiAgICAgICAgICAgIGlmIChhZGQudXNlciAmJiBhZGQudXNlci51c2VybmFtZSkge1xuICAgICAgICAgICAgICByZXR1cm4gY29sbGFiUmVzb3VyY2UucG9zdCh7ZGF0YToge1xuICAgICAgICAgICAgICAgIHV1aWQ6ICRzY29wZS5kYXRhLnByb2plY3QudXVpZCxcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogYWRkLnVzZXIudXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgbWVtYmVyVHlwZTogJ2NvUGlzJ1xuICAgICAgICAgICAgICB9fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgdmFyIGV4cHNUb1VwZGF0ZSA9IFtdO1xuICAgICAgICAgIF8uZWFjaCgkc2NvcGUuYXV0aG9yc2hpcCwgZnVuY3Rpb24ob2JqKXtcbiAgICAgICAgICAgIGV4cHNUb1VwZGF0ZS5wdXNoKG9iaik7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBUT0RPIFRoaXMgc2hvdWxkIHByb2JhYmx5IGJlIGEgc3RhY2sgb3Igc29tZXRoaW5nLi4uXG4gICAgICAgICAgLy8gZXhwc1RvVXBkYXRlID0gXy51bmlxKGV4cHNUb1VwZGF0ZSwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQudXVpZDt9KTtcbiAgICAgICAgICB2YXIgdXBkYXRlRXhwcyA9IF8ubWFwKGV4cHNUb1VwZGF0ZSwgZnVuY3Rpb24oX2V4cCl7XG4gICAgICAgICAgICAvLyB2YXIgX2V4cCA9ICRzY29wZS5kYXRhLnByb2plY3QuZ2V0UmVsYXRlZEJ5VXVpZCh1dWlkKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9qZWN0RW50aXRpZXNTZXJ2aWNlLnVwZGF0ZSh7ZGF0YToge1xuICAgICAgICAgICAgICAgIHV1aWQ6IF9leHAudXVpZCxcbiAgICAgICAgICAgICAgICBlbnRpdHk6IF9leHBcbiAgICAgICAgICAgIH19KS50aGVuKGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIHZhciBlbnQgPSAkc2NvcGUuZGF0YS5wcm9qZWN0LmdldFJlbGF0ZWRCeVV1aWQoZS51dWlkKTtcbiAgICAgICAgICAgICAgICBlbnQudXBkYXRlKGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgLy9Qcm9qZWN0RW50aXRpZXNTZXJ2aWNlLnVwZGF0ZShcbiAgICAgICAgICAgICAgLy8gICAge2RhdGE6IHt1dWlkOiBlbnRpdHkudXVpZCwgZW50aXR5OiBlbnRpdHl9fVxuICAgICAgICAgICAgICAvLylcbiAgICAgICAgICB2YXIgdGFza3MgPSByZW1vdmVBY3Rpb25zLmNvbmNhdChhZGRBY3Rpb25zKTtcbiAgICAgICAgICB0YXNrcyA9IHRhc2tzLmNvbmNhdCh1cGRhdGVFeHBzKTtcbiAgICAgICAgICAkcS5hbGwodGFza3MpLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAvLyAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShyZXN1bHRzKTtcbiAgICAgICAgICAgICAgLy8gJHNjb3BlLmRhdGEuYnVzeSA9IHRydWU7XG4gICAgICAgICAgICAgICRzY29wZS5pbml0Rm9ybSgpO1xuICAgICAgICAgICAgICAkc2NvcGUubG9hZERhdGEoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgLy8gJHVpYk1vZGFsSW5zdGFuY2UucmVqZWN0KGVycm9yLmRhdGEpO1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YS5idXN5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgJHNjb3BlLmluaXRGb3JtKCk7XG4gICAgICAgICAgICAgICRzY29wZS5sb2FkRGF0YSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgkc2NvcGUuZGF0YS5wcm9qZWN0KTtcbiAgICAgICAgfTtcbiAgICAgIH1dXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbW9kYWwucmVzdWx0O1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UHJvamVjdH0gW3Byb2plY3RdXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBzZXJ2aWNlLmVkaXRQcm9qZWN0ID0gZnVuY3Rpb24ocHJvamVjdCkge1xuICAgIHZhciBtb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgIHNpemU6ICdtZCcsXG4gICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvc2NyaXB0cy9uZy1kZXNpZ25zYWZlL2h0bWwvbW9kYWxzL3Byb2plY3Qtc2VydmljZS1lZGl0LXByb2plY3QuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdVc2VyU2VydmljZScsICdwcm9qZWN0JywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIFVzZXJTZXJ2aWNlLCBwcm9qZWN0KSB7XG4gICAgICAgICRzY29wZS51aSA9IHtidXN5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBudWxsfTtcbiAgICAgICAgJHNjb3BlLmZvcm0gPSB7YXNzb2NpYXRlZFByb2plY3RzQWRkZWQgOiBbe31dfTtcbiAgICAgICAgJHNjb3BlLnByb2plY3RUeXBlcyA9IFt7XG4gICAgICAgICAgICBpZDogJ2V4cGVyaW1lbnRhbCcsXG4gICAgICAgICAgICBsYWJlbDogJ0V4cGVyaW1lbnRhbCd9LHtcbiAgICAgICAgICAgIGlkOiAnc2ltdWxhdGlvbicsXG4gICAgICAgICAgICBsYWJlbDogJ1NpbXVsYXRpb24nfSx7XG4gICAgICAgICAgICBpZDogJ2h5YnJpZF9zaW11bGF0aW9uJyxcbiAgICAgICAgICAgIGxhYmVsOiAnSHlicmlkIFNpbXVsYXRpb24nfSx7XG4gICAgICAgICAgICBpZDogJ2ZpZWxkX3JlY29ubmFpc3NhbmNlJyxcbiAgICAgICAgICAgIGxhYmVsOiAnRmllbGQgUmVjb25uYWlzc2FuY2UnfSwge1xuICAgICAgICAgICAgaWQ6ICdvdGhlcicsXG4gICAgICAgICAgICBsYWJlbDogJ090aGVyJ31dO1xuICAgICAgICAkc2NvcGUuZWZzID0gZWZzO1xuXG4gICAgICAgIGlmIChwcm9qZWN0KSB7XG4gICAgICAgICAgJHNjb3BlLmZvcm0udXVpZCA9IHByb2plY3QudXVpZDtcbiAgICAgICAgICAkc2NvcGUuZm9ybS50aXRsZSA9IHByb2plY3QudmFsdWUudGl0bGU7XG4gICAgICAgICAgJHNjb3BlLmZvcm0uYXdhcmROdW1iZXIgPSBwcm9qZWN0LnZhbHVlLmF3YXJkTnVtYmVyIHx8ICcnO1xuICAgICAgICAgICRzY29wZS5mb3JtLnByb2plY3RJZCA9IHByb2plY3QudmFsdWUucHJvamVjdElkIHx8ICcnO1xuICAgICAgICAgICRzY29wZS5mb3JtLmRlc2NyaXB0aW9uID0gcHJvamVjdC52YWx1ZS5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgICAkc2NvcGUuZm9ybS5leHBlcmltZW50YWxGYWNpbGl0eSA9IHByb2plY3QudmFsdWUuZXhwZXJpbWVudGFsRmFjaWxpdHkgfHwgJyc7XG4gICAgICAgICAgJHNjb3BlLmZvcm0ua2V5d29yZHMgPSBwcm9qZWN0LnZhbHVlLmtleXdvcmRzIHx8ICcnO1xuICAgICAgICAgIGlmICh0eXBlb2YgcHJvamVjdC52YWx1ZS5wcm9qZWN0VHlwZSAhPT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICAgICAgICRzY29wZS5mb3JtLnByb2plY3RUeXBlID0gXy5maW5kKCRzY29wZS5wcm9qZWN0VHlwZXMsIGZ1bmN0aW9uKHByb2plY3RUeXBlKXsgcmV0dXJuIHByb2plY3RUeXBlLmlkID09PSBwcm9qZWN0LnZhbHVlLnByb2plY3RUeXBlOyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiBwcm9qZWN0LnZhbHVlLmFzc29jaWF0ZWRQcm9qZWN0cyAhPT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICAgICAgICRzY29wZS5mb3JtLmFzc29jaWF0ZWRQcm9qZWN0cyA9IF8uZmlsdGVyKHByb2plY3QudmFsdWUuYXNzb2NpYXRlZFByb2plY3RzLCBmdW5jdGlvbihhc3NvY2lhdGVkUHJvamVjdCl7IHJldHVybiB0eXBlb2YgYXNzb2NpYXRlZFByb2plY3QudGl0bGUgIT09ICd1bmRlZmluZWQnICYmIGFzc29jaWF0ZWRQcm9qZWN0LnRpdGxlLmxlbmd0aCA+IDA7IH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBVc2VyU2VydmljZS5nZXQocHJvamVjdC52YWx1ZS5waSkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgICAgJHNjb3BlLmZvcm0ucGkgPSB1c2VyO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnNlYXJjaFVzZXJzID0gZnVuY3Rpb24ocSkge1xuICAgICAgICAgIHJldHVybiBVc2VyU2VydmljZS5zZWFyY2goe3E6IHF9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZm9ybWF0U2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHRoaXMuZm9ybS5waSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybS5waS5maXJzdF9uYW1lICtcbiAgICAgICAgICAgICAgJyAnICsgdGhpcy5mb3JtLnBpLmxhc3RfbmFtZSArXG4gICAgICAgICAgICAgICcgKCcgKyB0aGlzLmZvcm0ucGkudXNlcm5hbWUgKyAnKSc7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGRBc3NvY2lhdGVkUHJvamVjdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkc2NvcGUuZm9ybS5hc3NvY2lhdGVkUHJvamVjdHNBZGRlZC5wdXNoKHt9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkc2NvcGUudWkuYnVzeSA9IHRydWU7XG4gICAgICAgICAgdmFyIHByb2plY3REYXRhID0ge1xuICAgICAgICAgICAgdGl0bGU6ICRzY29wZS5mb3JtLnRpdGxlLFxuICAgICAgICAgICAgYXdhcmROdW1iZXI6ICRzY29wZS5mb3JtLmF3YXJkTnVtYmVyLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5mb3JtLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgcHJvamVjdElkOiAkc2NvcGUuZm9ybS5wcm9qZWN0SWRcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmICgkc2NvcGUuZm9ybS5waSAmJiAkc2NvcGUuZm9ybS5waS51c2VybmFtZSl7XG4gICAgICAgICAgICBwcm9qZWN0RGF0YS5waSA9ICRzY29wZS5mb3JtLnBpLnVzZXJuYW1lO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vaWYgKHR5cGVvZiAkc2NvcGUuZm9ybS5leHBlcmltZW50YWxGYWNpbGl0eSAhPT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICAgIC8vICBwcm9qZWN0RGF0YS5leHBlcmltZW50YWxGYWNpbGl0eSA9ICRzY29wZS5mb3JtLmV4cGVyaW1lbnRhbEZhY2lsaXR5O1xuICAgICAgICAgIC8vfVxuICAgICAgICAgIGlmICh0eXBlb2YgJHNjb3BlLmZvcm0ucHJvamVjdFR5cGUuaWQgIT09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgICAgIHByb2plY3REYXRhLnByb2plY3RUeXBlID0gJHNjb3BlLmZvcm0ucHJvamVjdFR5cGUuaWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgkc2NvcGUuZm9ybS51dWlkKSB7XG4gICAgICAgICAgICBwcm9qZWN0RGF0YS51dWlkID0gJHNjb3BlLmZvcm0udXVpZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiAkc2NvcGUuZm9ybS5hc3NvY2lhdGVkUHJvamVjdHNBZGRlZCAhPT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICAgICAgICRzY29wZS5mb3JtLmFzc29jaWF0ZWRQcm9qZWN0c0FkZGVkID0gXy5maWx0ZXIoJHNjb3BlLmZvcm0uYXNzb2NpYXRlZFByb2plY3RzQWRkZWQsIGZ1bmN0aW9uKGFzc29jaWF0ZWRQcm9qZWN0KXsgcmV0dXJuIHR5cGVvZiBhc3NvY2lhdGVkUHJvamVjdC50aXRsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgYXNzb2NpYXRlZFByb2plY3QudGl0bGUubGVuZ3RoID4gMDsgfSk7XG4gICAgICAgICAgICAgcHJvamVjdERhdGEuYXNzb2NpYXRlZFByb2plY3RzID0gJHNjb3BlLmZvcm0uYXNzb2NpYXRlZFByb2plY3RzIHx8IFtdO1xuICAgICAgICAgICAgIHByb2plY3REYXRhLmFzc29jaWF0ZWRQcm9qZWN0cyA9IF8uZmlsdGVyKHByb2plY3REYXRhLmFzc29jaWF0ZWRQcm9qZWN0cywgZnVuY3Rpb24oYXNzb2NpYXRlZFByb2plY3QpeyByZXR1cm4gIWFzc29jaWF0ZWRQcm9qZWN0LmRlbGV0ZTsgfSk7XG4gICAgICAgICAgICAgcHJvamVjdERhdGEuYXNzb2NpYXRlZFByb2plY3RzID0gcHJvamVjdERhdGEuYXNzb2NpYXRlZFByb2plY3RzLmNvbmNhdCgkc2NvcGUuZm9ybS5hc3NvY2lhdGVkUHJvamVjdHNBZGRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgJHNjb3BlLmZvcm0ua2V5d29yZHMgIT09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgICAgIHByb2plY3REYXRhLmtleXdvcmRzID0gJHNjb3BlLmZvcm0ua2V5d29yZHM7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlcnZpY2Uuc2F2ZShwcm9qZWN0RGF0YSkudGhlbihmdW5jdGlvbiAocHJvamVjdCkge1xuICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UocHJvamVjdCk7XG4gICAgICAgICAgICAkc2NvcGUudWkuYnVzeSA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfV0sXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIHByb2plY3Q6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb2plY3Q7IH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBtb2RhbC5yZXN1bHQ7XG4gIH07XG5cbiAgcmV0dXJuIHNlcnZpY2U7XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFByb2plY3RTZXJ2aWNlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL2RhdGFfZGVwb3Qvc2VydmljZXMvcHJvamVjdC1zZXJ2aWNlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///22\n");

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nfunction SystemsService($http, $q) {\n  'ngInject';\n\n  var self = this;\n  self.systems = null;\n\n  this.listing = function () {\n    return $http.get('/api/data-depot/systems/list').then(function (resp) {\n      self.systems = resp.data.response;\n      return resp.data.response;\n    });\n  };\n}\n\nexports.default = SystemsService;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9zZXJ2aWNlcy9zeXN0ZW1zLXNlcnZpY2UuanM/NmQ1YSJdLCJuYW1lcyI6WyJTeXN0ZW1zU2VydmljZSIsIiRodHRwIiwiJHEiLCJzZWxmIiwic3lzdGVtcyIsImxpc3RpbmciLCJnZXQiLCJ0aGVuIiwicmVzcCIsImRhdGEiLCJyZXNwb25zZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBLFNBQVNBLGNBQVQsQ0FBd0JDLEtBQXhCLEVBQStCQyxFQUEvQixFQUFtQztBQUNqQzs7QUFDQSxNQUFJQyxPQUFPLElBQVg7QUFDQUEsT0FBS0MsT0FBTCxHQUFlLElBQWY7O0FBRUEsT0FBS0MsT0FBTCxHQUFlLFlBQVk7QUFDekIsV0FBT0osTUFBTUssR0FBTixDQUFVLDhCQUFWLEVBQTBDQyxJQUExQyxDQUErQyxVQUFVQyxJQUFWLEVBQWdCO0FBQ3BFTCxXQUFLQyxPQUFMLEdBQWVJLEtBQUtDLElBQUwsQ0FBVUMsUUFBekI7QUFDQSxhQUFPRixLQUFLQyxJQUFMLENBQVVDLFFBQWpCO0FBQ0QsS0FITSxDQUFQO0FBSUQsR0FMRDtBQU1EOztrQkFFY1YsYyIsImZpbGUiOiIyMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG5mdW5jdGlvbiBTeXN0ZW1zU2VydmljZSgkaHR0cCwgJHEpIHtcbiAgJ25nSW5qZWN0JztcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzZWxmLnN5c3RlbXMgPSBudWxsO1xuXG4gIHRoaXMubGlzdGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2RhdGEtZGVwb3Qvc3lzdGVtcy9saXN0JykudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgc2VsZi5zeXN0ZW1zID0gcmVzcC5kYXRhLnJlc3BvbnNlO1xuICAgICAgcmV0dXJuIHJlc3AuZGF0YS5yZXNwb25zZTtcbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3lzdGVtc1NlcnZpY2U7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvZGF0YV9kZXBvdC9zZXJ2aWNlcy9zeXN0ZW1zLXNlcnZpY2UuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///23\n");

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar mod = angular.module('portal.directives', []);\n\n//sdfsdfsdf\nmod.directive('iframeOnload', [function () {\n  return {\n    scope: {\n      callBack: '&iframeOnload'\n    },\n    link: function link(scope, element, attrs) {\n      element.on('load', function () {\n        return scope.callBack();\n      });\n    }\n  };\n}]);\n\nmod.directive('fileModel', ['$parse', function ($parse) {\n  return {\n    restrict: 'A',\n    link: function link(scope, element, attrs) {\n      var model = $parse(attrs.fileModel);\n      var modelSetter = model.assign;\n      element.bind('change', function () {\n        scope.$apply(function () {\n          if (attrs.multiple) {\n            modelSetter(scope, element[0].files);\n          } else {\n            modelSetter(scope, element[0].files[0]);\n          }\n        });\n      });\n    }\n  };\n}]);\n\nmod.directive('spinnerOnLoad', function () {\n  return {\n    restrict: 'A',\n    link: function link(scope, element) {\n      element.parent().prepend(\"<div class='text-center spinner'><i class='fa fa-spinner fa-pulse fa-3x fa-fw'></i></div>\");\n      element.css('display', 'none');\n      element.on('load', function (ev) {\n        element.parent().find(\".spinner\").remove();\n        element.css('display', 'block');\n      });\n    }\n  };\n});\n\nmod.directive('httpSrc', ['$http', function ($http) {\n  return {\n    restrict: 'A',\n    link: function link(scope, element, attrs) {\n      var conf = {\n        responseType: 'arraybuffer'\n      };\n\n      $http.get(attrs.httpSrc, conf).success(function (data) {\n        var arr = new Uint8Array(data);\n\n        var raw = '';\n        var i,\n            j,\n            subArray,\n            chunk = 5000;\n        for (i = 0, j = arr.length; i < j; i += chunk) {\n          subArray = arr.subarray(i, i + chunk);\n          raw += String.fromCharCode.apply(null, subArray);\n        }\n\n        var b64 = btoa(raw);\n        attrs.$set('src', \"data:image/jpeg;base64,\" + b64);\n      }).error(function (error) {\n        console.log(error);\n      });\n    }\n  };\n}]);\n\nmod.directive('accessfiles', function () {\n  return {\n    scope: {\n      accessfiles: '='\n    },\n    link: function link(scope, element, attributes) {\n\n      element.bind('change', function (event) {\n        scope.$apply(function () {\n          scope.accessfiles = event.target.files;\n        });\n      });\n    }\n  };\n});\n\nmod.directive('selectOnFocus', function () {\n  return {\n    restrict: 'A',\n    link: function link(scope, element, attrs) {\n      element.on('focus', function () {\n        this.select();\n      });\n    }\n  };\n});\n\nmod.directive('dsDataDraggable', function () {\n  function dragStart(e) {\n    var ele = this;\n    ele.style.opacity = '0.4';\n    e.dataTransfer.effectAllowed = 'copyLink';\n    e.dataTransfer.setData('text/plain', ele.getAttribute('data-ds-data'));\n    this.classList.add('drag');\n  }\n\n  function dragOver(e) {\n    e.preventDefault();\n    var ele = this;\n    ele.style.opacity = '1';\n  }\n\n  function onDrop(e) {\n    e.stopPropagation();\n    var ele = this;\n    ele.style.opacity = '1';\n  }\n\n  function dataDraggable($scope, $element) {\n    var el = $element[0];\n    el.draggable = true;\n    el.addEventListener('dragstart', dragStart);\n    el.addEventListener('dragover', dragOver);\n    el.addEventListener('dragend', dragOver);\n    el.addEventListener('drop', onDrop);\n  }\n  return dataDraggable;\n});\n\nmod.directive('dsDraggable', function () {\n\n  return {\n    restrict: 'A',\n    scope: {\n      transferData: '=dsDragTransfer',\n      dragStart: '&dsDragStart',\n      dragEnter: '&dsDragEnter',\n      dragOver: '&dsDragOver',\n      dragLeave: '&dsDragLeave',\n      dragEnd: '&dsDragEnd',\n      dragDrop: '&dsDragDrop',\n      allowDrag: '=dsDragEnabled'\n    },\n    link: function link(scope, element) {\n      if (scope.allowDrag) {\n        element[0].draggable = true;\n      }\n\n      element.addClass('ds-drop-target');\n\n      element[0].addEventListener('dragstart', function (e) {\n        var handler = scope.dragStart();\n        if (handler) {\n          handler(e, scope.transferData);\n        }\n      });\n\n      element[0].addEventListener('dragenter', function (e) {\n        var handler = scope.dragEnter();\n        if (handler) {\n          handler(e, scope.transferData);\n        }\n      });\n\n      element[0].addEventListener('dragover', function (e) {\n        var handler = scope.dragOver();\n        if (handler) {\n          handler(e, scope.transferData);\n        }\n      });\n\n      var dragLeaveHandler = function dragLeaveHandler(e) {\n        var handler = scope.dragLeave();\n        if (handler) {\n          handler(e, scope.transferData);\n        }\n      };\n      element[0].addEventListener('dragleave', dragLeaveHandler);\n      element[0].addEventListener('dragexit', dragLeaveHandler);\n\n      element[0].addEventListener('dragend', function (e) {\n        var handler = scope.dragEnd();\n        if (handler) {\n          handler(e, scope.transferData);\n        }\n      });\n\n      element[0].addEventListener('drop', function (e) {\n        var handler = scope.dragDrop();\n        if (handler) {\n          handler(e, scope.transferData);\n        }\n      });\n    }\n  };\n});\n\nmod.directive('dsInfiniteScroll', function () {\n  return {\n    restrict: 'A',\n    scope: {\n      scrollBottom: '&',\n      scrollTop: '&',\n      bottomHeight: '='\n    },\n    link: function link(scope, element, attrs) {\n      var el = element[0];\n      el.addEventListener('scroll', function (e) {\n        var pos = el.offsetHeight + el.scrollTop;\n        if (pos >= el.scrollHeight - scope.bottomHeight) {\n          scope.scrollBottom(el, pos);\n        }\n        if (pos <= el.offsetHeight) {\n          if (scope.scrollTop) {\n            scope.scrollTop(el, pos);\n          }\n        }\n      });\n    }\n  };\n});\n\nmod.directive('dsUser', ['UserService', function (UserService) {\n  return {\n    restrict: 'EA',\n    scope: {\n      username: '=',\n      format: '@'\n    },\n    link: function link(scope, element) {\n      var format = scope.format || 'name';\n\n      UserService.get(scope.username).then(function (user) {\n        switch (format) {\n          case 'lname':\n            element.text(user.last_name + ', ' + user.first_name + ';');\n            break;\n          case 'name':\n            element.text(user.first_name + ' ' + user.last_name);\n            break;\n          case 'email':\n            element.text(user.email);\n            break;\n          case 'name-email':\n            element.text(user.first_name + ' ' + user.last_name + ' <' + user.email + '>');\n            break;\n          case 'name-username':\n            element.text(user.first_name + ' ' + user.last_name + ' (' + user.username + ')');\n            break;\n          case 'name-username-email':\n            element.text(user.first_name + ' ' + user.last_name + ' (' + user.username + ') <' + user.email + '>');\n            break;\n          default:\n            element.text(user.username);\n        }\n      });\n    }\n  };\n}]);\n\nmod.directive('dsFixTop', function ($window) {\n  var $win = angular.element($window); // wrap window object as jQuery object\n\n  return {\n    restrict: 'A',\n    link: function link(scope, element, attrs) {\n      var topClass = attrs.dsFixTop; // get CSS class from directive's attribute value\n\n      var navbar = $('.navbar-ds');\n      var offsetTop = 0;\n      $win.on('scroll', function (e) {\n        offsetTop = $('.site-banner').height() + navbar.height() / 2;\n        if ($win.scrollTop() >= offsetTop) {\n          element.addClass(topClass);\n          element.css({ top: navbar.position().top + navbar.height() });\n        } else {\n          element.removeClass(topClass);\n        }\n      });\n    }\n  };\n});\n\nmod.directive('yamzTerm', ['$http', function ($http) {\n  return {\n    restrict: 'EA',\n    scope: {\n      termId: '@',\n      title: '='\n    },\n    link: function link(scope, element, attrs) {\n      element.attr('data-toggle', 'tooltip');\n      element.tooltip({ container: 'body',\n        html: true,\n        title: 'Loading...',\n        placement: function placement(tip, el) {\n          var $el = $(el);\n          var pos = $el.position();\n          if (pos.left > $el.width() + 10 && pos.top > $el.height() + 10) {\n            return \"left\";\n          } else if (pos.left < $el.width() + 10 && pos.top > $el.height() + 10) {\n            return \"right\";\n          } else if (pos.top < $el.height() + 10 && pos) {\n            return \"bottom\";\n          } else {\n            return \"top\";\n          }\n        } });\n      element.on('mouseover', function (env) {\n        var title = element.attr('data-original-title');\n        if (typeof title === 'undefined' || title.length === 0 || title === 'Loading...') {\n          $http.get('/api/projects/yamz/' + scope.termId).then(function (res) {\n            var data = res.data;\n            var content = '<p> <strong>Definition: </strong>' + data.definition + '<br/> <br/>' + '<strong>Examples: </strong>' + data.examples + '</p>';\n            element.attr('title', content);\n            element.tooltip('fixTitle');\n            //element.tooltip('show');\n          });\n        }\n      });\n      element.on('mouseleave', function () {\n        //element.tooltip('hide');\n      });\n    }\n  };\n}]);\n\nexports.default = mod;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvbmctZGVzaWduc2FmZS1kaXJlY3RpdmVzLmpzP2Y2MmUiXSwibmFtZXMiOlsibW9kIiwiYW5ndWxhciIsIm1vZHVsZSIsImRpcmVjdGl2ZSIsInNjb3BlIiwiY2FsbEJhY2siLCJsaW5rIiwiZWxlbWVudCIsImF0dHJzIiwib24iLCIkcGFyc2UiLCJyZXN0cmljdCIsIm1vZGVsIiwiZmlsZU1vZGVsIiwibW9kZWxTZXR0ZXIiLCJhc3NpZ24iLCJiaW5kIiwiJGFwcGx5IiwibXVsdGlwbGUiLCJmaWxlcyIsInBhcmVudCIsInByZXBlbmQiLCJjc3MiLCJldiIsImZpbmQiLCJyZW1vdmUiLCIkaHR0cCIsImNvbmYiLCJyZXNwb25zZVR5cGUiLCJnZXQiLCJodHRwU3JjIiwic3VjY2VzcyIsImRhdGEiLCJhcnIiLCJVaW50OEFycmF5IiwicmF3IiwiaSIsImoiLCJzdWJBcnJheSIsImNodW5rIiwibGVuZ3RoIiwic3ViYXJyYXkiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJhcHBseSIsImI2NCIsImJ0b2EiLCIkc2V0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiYWNjZXNzZmlsZXMiLCJhdHRyaWJ1dGVzIiwiZXZlbnQiLCJ0YXJnZXQiLCJzZWxlY3QiLCJkcmFnU3RhcnQiLCJlIiwiZWxlIiwic3R5bGUiLCJvcGFjaXR5IiwiZGF0YVRyYW5zZmVyIiwiZWZmZWN0QWxsb3dlZCIsInNldERhdGEiLCJnZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJkcmFnT3ZlciIsInByZXZlbnREZWZhdWx0Iiwib25Ecm9wIiwic3RvcFByb3BhZ2F0aW9uIiwiZGF0YURyYWdnYWJsZSIsIiRzY29wZSIsIiRlbGVtZW50IiwiZWwiLCJkcmFnZ2FibGUiLCJhZGRFdmVudExpc3RlbmVyIiwidHJhbnNmZXJEYXRhIiwiZHJhZ0VudGVyIiwiZHJhZ0xlYXZlIiwiZHJhZ0VuZCIsImRyYWdEcm9wIiwiYWxsb3dEcmFnIiwiYWRkQ2xhc3MiLCJoYW5kbGVyIiwiZHJhZ0xlYXZlSGFuZGxlciIsInNjcm9sbEJvdHRvbSIsInNjcm9sbFRvcCIsImJvdHRvbUhlaWdodCIsInBvcyIsIm9mZnNldEhlaWdodCIsInNjcm9sbEhlaWdodCIsIlVzZXJTZXJ2aWNlIiwidXNlcm5hbWUiLCJmb3JtYXQiLCJ0aGVuIiwidXNlciIsInRleHQiLCJsYXN0X25hbWUiLCJmaXJzdF9uYW1lIiwiZW1haWwiLCIkd2luZG93IiwiJHdpbiIsInRvcENsYXNzIiwiZHNGaXhUb3AiLCJuYXZiYXIiLCIkIiwib2Zmc2V0VG9wIiwiaGVpZ2h0IiwidG9wIiwicG9zaXRpb24iLCJyZW1vdmVDbGFzcyIsInRlcm1JZCIsInRpdGxlIiwiYXR0ciIsInRvb2x0aXAiLCJjb250YWluZXIiLCJodG1sIiwicGxhY2VtZW50IiwidGlwIiwiJGVsIiwibGVmdCIsIndpZHRoIiwiZW52IiwicmVzIiwiY29udGVudCIsImRlZmluaXRpb24iLCJleGFtcGxlcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsSUFBSUEsTUFBTUMsUUFBUUMsTUFBUixDQUFlLG1CQUFmLEVBQW9DLEVBQXBDLENBQVY7O0FBRUE7QUFDQUYsSUFBSUcsU0FBSixDQUFjLGNBQWQsRUFBOEIsQ0FBQyxZQUFVO0FBQ3ZDLFNBQU87QUFDSEMsV0FBTztBQUNIQyxnQkFBVTtBQURQLEtBREo7QUFJSEMsVUFBTSxjQUFTRixLQUFULEVBQWdCRyxPQUFoQixFQUF5QkMsS0FBekIsRUFBK0I7QUFDakNELGNBQVFFLEVBQVIsQ0FBVyxNQUFYLEVBQW1CLFlBQVU7QUFDekIsZUFBT0wsTUFBTUMsUUFBTixFQUFQO0FBQ0gsT0FGRDtBQUdIO0FBUkUsR0FBUDtBQVVELENBWDZCLENBQTlCOztBQWFBTCxJQUFJRyxTQUFKLENBQWMsV0FBZCxFQUEyQixDQUFDLFFBQUQsRUFBVSxVQUFVTyxNQUFWLEVBQWtCO0FBQ3JELFNBQU87QUFDTEMsY0FBVSxHQURMO0FB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QzdGLEtBQUs4RixVQUEzQyxHQUNBLGFBREEsR0FFQSw2QkFGQSxHQUVnQzlGLEtBQUsrRixRQUZyQyxHQUVnRCxNQUY5RDtBQUdBeEgsb0JBQVEyRyxJQUFSLENBQWEsT0FBYixFQUFzQlcsT0FBdEI7QUFDQXRILG9CQUFRNEcsT0FBUixDQUFnQixVQUFoQjtBQUNBO0FBQ0gsV0FUSDtBQVVEO0FBQ0osT0FkRDtBQWVBNUcsY0FBUUUsRUFBUixDQUFXLFlBQVgsRUFBeUIsWUFBVTtBQUNqQztBQUNELE9BRkQ7QUFHRDtBQTFDRSxHQUFQO0FBNENELENBN0N5QixDQUExQjs7a0JBK0NlVCxHIiwiZmlsZSI6IjI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5sZXQgbW9kID0gYW5ndWxhci5tb2R1bGUoJ3BvcnRhbC5kaXJlY3RpdmVzJywgW10pO1xuXG4vL3NkZnNkZnNkZlxubW9kLmRpcmVjdGl2ZSgnaWZyYW1lT25sb2FkJywgW2Z1bmN0aW9uKCl7XG4gIHJldHVybiB7XG4gICAgICBzY29wZToge1xuICAgICAgICAgIGNhbGxCYWNrOiAnJmlmcmFtZU9ubG9hZCdcbiAgICAgIH0sXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xuICAgICAgICAgIGVsZW1lbnQub24oJ2xvYWQnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuY2FsbEJhY2soKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuXG5tb2QuZGlyZWN0aXZlKCdmaWxlTW9kZWwnLCBbJyRwYXJzZScsZnVuY3Rpb24gKCRwYXJzZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICB2YXIgbW9kZWwgPSAkcGFyc2UoYXR0cnMuZmlsZU1vZGVsKTtcbiAgICAgIHZhciBtb2RlbFNldHRlciA9IG1vZGVsLmFzc2lnbjtcbiAgICAgIGVsZW1lbnQuYmluZCgnY2hhbmdlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgaWYgKGF0dHJzLm11bHRpcGxlKSB7XG4gICAgICAgICAgICBtb2RlbFNldHRlcihzY29wZSwgZWxlbWVudFswXS5maWxlcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbW9kZWxTZXR0ZXIoc2NvcGUsIGVsZW1lbnRbMF0uZmlsZXNbMF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XSk7XG5cbm1vZC5kaXJlY3RpdmUoJ3NwaW5uZXJPbkxvYWQnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnQucGFyZW50KCkucHJlcGVuZChcIjxkaXYgY2xhc3M9J3RleHQtY2VudGVyIHNwaW5uZXInPjxpIGNsYXNzPSdmYSBmYS1zcGlubmVyIGZhLXB1bHNlIGZhLTN4IGZhLWZ3Jz48L2k+PC9kaXY+XCIpO1xuICAgICAgZWxlbWVudC5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgZWxlbWVudC5vbignbG9hZCcsIGZ1bmN0aW9uIChldikge1xuICAgICAgICBlbGVtZW50LnBhcmVudCgpLmZpbmQoXCIuc3Bpbm5lclwiKS5yZW1vdmUoKTtcbiAgICAgICAgZWxlbWVudC5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICAgIH0pO1xuXG4gICAgfVxuICB9O1xuXG59KTtcblxubW9kLmRpcmVjdGl2ZSgnaHR0cFNyYycsIFsnJGh0dHAnLCBmdW5jdGlvbiAoJGh0dHApIHtcbiByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgdmFyIGNvbmYgPSB7XG4gICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInLFxuICAgICAgfTtcblxuICAgICAgJGh0dHAuZ2V0KGF0dHJzLmh0dHBTcmMsIGNvbmYpXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG5cbiAgICAgICAgICB2YXIgcmF3ID0gJyc7XG4gICAgICAgICAgdmFyIGksIGosIHN1YkFycmF5LCBjaHVuayA9IDUwMDA7XG4gICAgICAgICAgZm9yIChpID0gMCwgaiA9IGFyci5sZW5ndGg7IGkgPCBqOyBpICs9IGNodW5rKSB7XG4gICAgICAgICAgICAgIHN1YkFycmF5ID0gYXJyLnN1YmFycmF5KGksIGkgKyBjaHVuayk7XG4gICAgICAgICAgICAgIHJhdyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIHN1YkFycmF5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgYjY0ID0gYnRvYShyYXcpO1xuICAgICAgICAgIGF0dHJzLiRzZXQoJ3NyYycsIFwiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxcIiArIGI2NCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKTtcblxubW9kLmRpcmVjdGl2ZSgnYWNjZXNzZmlsZXMnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICBzY29wZToge1xuICAgICAgYWNjZXNzZmlsZXM6ICc9J1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcblxuICAgICAgZWxlbWVudC5iaW5kKCdjaGFuZ2UnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2NvcGUuYWNjZXNzZmlsZXMgPSBldmVudC50YXJnZXQuZmlsZXM7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbm1vZC5kaXJlY3RpdmUoJ3NlbGVjdE9uRm9jdXMnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgZWxlbWVudC5vbignZm9jdXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5tb2QuZGlyZWN0aXZlKCdkc0RhdGFEcmFnZ2FibGUnLCBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gZHJhZ1N0YXJ0KGUpIHtcbiAgICB2YXIgZWxlID0gdGhpcztcbiAgICBlbGUuc3R5bGUub3BhY2l0eSA9ICcwLjQnO1xuICAgIGUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnY29weUxpbmsnO1xuICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBlbGUuZ2V0QXR0cmlidXRlKCdkYXRhLWRzLWRhdGEnKSk7XG4gICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdkcmFnJyk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmFnT3ZlcihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBlbGUgPSB0aGlzO1xuICAgIGVsZS5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Ecm9wKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHZhciBlbGUgPSB0aGlzO1xuICAgIGVsZS5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuICB9XG5cbiAgZnVuY3Rpb24gZGF0YURyYWdnYWJsZSgkc2NvcGUsICRlbGVtZW50KSB7XG4gICAgdmFyIGVsID0gJGVsZW1lbnRbMF07XG4gICAgZWwuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBkcmFnU3RhcnQpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgZHJhZ092ZXIpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCBkcmFnT3Zlcik7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIG9uRHJvcCk7XG4gIH1cbiAgcmV0dXJuIGRhdGFEcmFnZ2FibGU7XG59KTtcblxubW9kLmRpcmVjdGl2ZSgnZHNEcmFnZ2FibGUnLCBmdW5jdGlvbigpIHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHRyYW5zZmVyRGF0YTogJz1kc0RyYWdUcmFuc2ZlcicsXG4gICAgICBkcmFnU3RhcnQ6ICcmZHNEcmFnU3RhcnQnLFxuICAgICAgZHJhZ0VudGVyOiAnJmRzRHJhZ0VudGVyJyxcbiAgICAgIGRyYWdPdmVyOiAnJmRzRHJhZ092ZXInLFxuICAgICAgZHJhZ0xlYXZlOiAnJmRzRHJhZ0xlYXZlJyxcbiAgICAgIGRyYWdFbmQ6ICcmZHNEcmFnRW5kJyxcbiAgICAgIGRyYWdEcm9wOiAnJmRzRHJhZ0Ryb3AnLFxuICAgICAgYWxsb3dEcmFnOiAnPWRzRHJhZ0VuYWJsZWQnXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCkge1xuICAgICAgaWYgKHNjb3BlLmFsbG93RHJhZykge1xuICAgICAgICBlbGVtZW50WzBdLmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2RzLWRyb3AtdGFyZ2V0Jyk7XG5cbiAgICAgIGVsZW1lbnRbMF0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBzY29wZS5kcmFnU3RhcnQoKTtcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICBoYW5kbGVyKGUsIHNjb3BlLnRyYW5zZmVyRGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gc2NvcGUuZHJhZ0VudGVyKCk7XG4gICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgaGFuZGxlcihlLCBzY29wZS50cmFuc2ZlckRhdGEpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gc2NvcGUuZHJhZ092ZXIoKTtcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICBoYW5kbGVyKGUsIHNjb3BlLnRyYW5zZmVyRGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZHJhZ0xlYXZlSGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBzY29wZS5kcmFnTGVhdmUoKTtcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICBoYW5kbGVyKGUsIHNjb3BlLnRyYW5zZmVyRGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGRyYWdMZWF2ZUhhbmRsZXIpO1xuICAgICAgZWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZXhpdCcsIGRyYWdMZWF2ZUhhbmRsZXIpO1xuXG4gICAgICBlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgaGFuZGxlciA9IHNjb3BlLmRyYWdFbmQoKTtcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICBoYW5kbGVyKGUsIHNjb3BlLnRyYW5zZmVyRGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgaGFuZGxlciA9IHNjb3BlLmRyYWdEcm9wKCk7XG4gICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgaGFuZGxlcihlLCBzY29wZS50cmFuc2ZlckRhdGEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KTtcblxubW9kLmRpcmVjdGl2ZSgnZHNJbmZpbml0ZVNjcm9sbCcsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZToge1xuICAgICAgc2Nyb2xsQm90dG9tOiAnJicsXG4gICAgICBzY3JvbGxUb3A6ICcmJyxcbiAgICAgIGJvdHRvbUhlaWdodDogJz0nXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xuICAgICAgdmFyIGVsID0gZWxlbWVudFswXTtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uKGUpe1xuICAgICAgICB2YXIgcG9zID0gZWwub2Zmc2V0SGVpZ2h0ICsgZWwuc2Nyb2xsVG9wO1xuICAgICAgICBpZiAocG9zID49IGVsLnNjcm9sbEhlaWdodCAtIHNjb3BlLmJvdHRvbUhlaWdodCl7XG4gICAgICAgICAgc2NvcGUuc2Nyb2xsQm90dG9tKGVsLCBwb3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3MgPD0gZWwub2Zmc2V0SGVpZ2h0KXtcbiAgICAgICAgICBpZiAoc2NvcGUuc2Nyb2xsVG9wKXtcbiAgICAgICAgICAgIHNjb3BlLnNjcm9sbFRvcChlbCwgcG9zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5tb2QuZGlyZWN0aXZlKCdkc1VzZXInLCBbJ1VzZXJTZXJ2aWNlJywgZnVuY3Rpb24oVXNlclNlcnZpY2UpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICBzY29wZToge1xuICAgICAgdXNlcm5hbWU6ICc9JyxcbiAgICAgIGZvcm1hdDogJ0AnXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCkge1xuICAgICAgdmFyIGZvcm1hdCA9IHNjb3BlLmZvcm1hdCB8fCAnbmFtZSc7XG5cbiAgICAgIFVzZXJTZXJ2aWNlLmdldChzY29wZS51c2VybmFtZSkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICBzd2l0Y2ggKGZvcm1hdCkge1xuICAgICAgICAgIGNhc2UgJ2xuYW1lJzpcbiAgICAgICAgICAgIGVsZW1lbnQudGV4dCh1c2VyLmxhc3RfbmFtZSArICcsICcgKyB1c2VyLmZpcnN0X25hbWUgKyAnOycpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbmFtZSc6XG4gICAgICAgICAgICBlbGVtZW50LnRleHQodXNlci5maXJzdF9uYW1lICsgJyAnICsgdXNlci5sYXN0X25hbWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICAgICAgZWxlbWVudC50ZXh0KHVzZXIuZW1haWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbmFtZS1lbWFpbCc6XG4gICAgICAgICAgICBlbGVtZW50LnRleHQodXNlci5maXJzdF9uYW1lICsgJyAnICsgdXNlci5sYXN0X25hbWUgKyAnIDwnICsgdXNlci5lbWFpbCArICc+Jyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICduYW1lLXVzZXJuYW1lJzpcbiAgICAgICAgICAgIGVsZW1lbnQudGV4dCh1c2VyLmZpcnN0X25hbWUgKyAnICcgKyB1c2VyLmxhc3RfbmFtZSArICcgKCcgKyB1c2VyLnVzZXJuYW1lICsgJyknKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ25hbWUtdXNlcm5hbWUtZW1haWwnOlxuICAgICAgICAgICAgZWxlbWVudC50ZXh0KHVzZXIuZmlyc3RfbmFtZSArICcgJyArIHVzZXIubGFzdF9uYW1lICsgJyAoJyArIHVzZXIudXNlcm5hbWUgKyAnKSA8JyArIHVzZXIuZW1haWwgKyAnPicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGVsZW1lbnQudGV4dCh1c2VyLnVzZXJuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV0pO1xuXG5tb2QuZGlyZWN0aXZlKCdkc0ZpeFRvcCcsIGZ1bmN0aW9uICgkd2luZG93KSB7XG4gIHZhciAkd2luID0gYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpOyAvLyB3cmFwIHdpbmRvdyBvYmplY3QgYXMgalF1ZXJ5IG9iamVjdFxuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICB2YXIgdG9wQ2xhc3MgPSBhdHRycy5kc0ZpeFRvcDsgLy8gZ2V0IENTUyBjbGFzcyBmcm9tIGRpcmVjdGl2ZSdzIGF0dHJpYnV0ZSB2YWx1ZVxuXG4gICAgICB2YXIgbmF2YmFyID0gJCgnLm5hdmJhci1kcycpO1xuXHR2YXIgb2Zmc2V0VG9wID0gMDtcbiAgICAgICR3aW4ub24oJ3Njcm9sbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgb2Zmc2V0VG9wID0gJCgnLnNpdGUtYmFubmVyJykuaGVpZ2h0KCkgKyAobmF2YmFyLmhlaWdodCgpIC8gMik7XG4gICAgICAgICBpZiAoJHdpbi5zY3JvbGxUb3AoKSA+PSBvZmZzZXRUb3ApIHtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKHRvcENsYXNzKTtcblx0XHRlbGVtZW50LmNzcyh7dG9wOiBuYXZiYXIucG9zaXRpb24oKS50b3AgKyBuYXZiYXIuaGVpZ2h0KCl9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKHRvcENsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbm1vZC5kaXJlY3RpdmUoJ3lhbXpUZXJtJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKXtcbiAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgICB0ZXJtSWQ6ICdAJyxcbiAgICAgICAgICB0aXRsZTogJz0nXG4gICAgICB9LFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcbiAgICAgICAgZWxlbWVudC5hdHRyKCdkYXRhLXRvZ2dsZScsICd0b29sdGlwJyk7XG4gICAgICAgIGVsZW1lbnQudG9vbHRpcCh7Y29udGFpbmVyOiAnYm9keScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTonTG9hZGluZy4uLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiBmdW5jdGlvbih0aXAsIGVsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRlbCA9ICQoZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gJGVsLnBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3MubGVmdCA+ICRlbC53aWR0aCgpICsgMTAgJiYgcG9zLnRvcCA+ICRlbC5oZWlnaHQoKSArIDEwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxlZnRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwb3MubGVmdCA8ICRlbC53aWR0aCgpICsgMTAgJiYgcG9zLnRvcCA+ICRlbC5oZWlnaHQoKSArIDEwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInJpZ2h0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmIChwb3MudG9wIDwgJGVsLmhlaWdodCgpICsgMTAgJiYgcG9zKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImJvdHRvbVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidG9wXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICB9fSk7XG4gICAgICAgIGVsZW1lbnQub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGVudil7XG4gICAgICAgICAgICB2YXIgdGl0bGUgPSBlbGVtZW50LmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGl0bGUgPT09ICd1bmRlZmluZWQnIHx8IHRpdGxlLmxlbmd0aCA9PT0gMCB8fCB0aXRsZSA9PT0gJ0xvYWRpbmcuLi4nKXtcbiAgICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL3Byb2plY3RzL3lhbXovJyArIHNjb3BlLnRlcm1JZClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9ICc8cD4gPHN0cm9uZz5EZWZpbml0aW9uOiA8L3N0cm9uZz4nICsgZGF0YS5kZWZpbml0aW9uICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGJyLz4gPGJyLz4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHN0cm9uZz5FeGFtcGxlczogPC9zdHJvbmc+JyArIGRhdGEuZXhhbXBsZXMgKyAnPC9wPic7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0cigndGl0bGUnLCBjb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC50b29sdGlwKCdmaXhUaXRsZScpO1xuICAgICAgICAgICAgICAgICAgICAvL2VsZW1lbnQudG9vbHRpcCgnc2hvdycpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZWxlbWVudC5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgLy9lbGVtZW50LnRvb2x0aXAoJ2hpZGUnKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gIH07XG59XSk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vZDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BvcnRhbC9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci9uZy1kZXNpZ25zYWZlLWRpcmVjdGl2ZXMuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24\n");

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar mod = angular.module('portal.filters', []);\n\nmod.filter('bytes', function () {\n  return function (bytes, precision) {\n    if (isNaN(parseFloat(bytes)) || !isFinite(bytes)) return '-';\n    if (typeof precision === 'undefined') precision = 1;\n    var units = ['bytes', 'kB', 'MB', 'GB', 'TB', 'PB'];\n    var number = bytes === 0 ? 0 : Math.floor(Math.log(bytes) / Math.log(1024));\n    return (bytes / Math.pow(1024, Math.floor(number))).toFixed(precision) + ' ' + units[number];\n  };\n});\n\nmod.filter('agaveperms', function () {\n  return function (pems) {\n    var options = {\n      'READ': 'Read',\n      'WRITE': 'Write',\n      'READ_WRITE': 'Read/Write',\n      'READ_EXECUTE': 'Read/Execute',\n      'WRITE_EXECUTE': 'Write/Execute',\n      'ALL': 'All',\n      'NONE': 'none'\n    };\n\n    return options[pems];\n  };\n});\n\nmod.filter('keys', function () {\n  return function (obj) {\n    if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object') {\n      return Object.keys(obj);\n    }\n    return [];\n  };\n});\n\nmod.filter('length', function () {\n  return function (obj) {\n    if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object') {\n      if (obj instanceof Array) {\n        return obj.length;\n      } else {\n        return Object.keys(obj).length;\n      }\n    } else if (typeof obj === \"string\") {\n      return obj.length;\n    } else if (typeof obj === \"number\") {\n      return String(obj).length;\n    }\n    return 0;\n  };\n});\n\nmod.filter('toTrusted', function ($sce) {\n  return function (value) {\n    return $sce.trustAsHtml(value);\n  };\n});\n\nexports.default = mod;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvbmctZGVzaWduc2FmZS1maWx0ZXJzLmpzPzFjZjciXSwibmFtZXMiOlsibW9kIiwiYW5ndWxhciIsIm1vZHVsZSIsImZpbHRlciIsImJ5dGVzIiwicHJlY2lzaW9uIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJ1bml0cyIsIm51bWJlciIsIk1hdGgiLCJmbG9vciIsImxvZyIsInBvdyIsInRvRml4ZWQiLCJwZW1zIiwib3B0aW9ucyIsIm9iaiIsIk9iamVjdCIsImtleXMiLCJBcnJheSIsImxlbmd0aCIsIlN0cmluZyIsIiRzY2UiLCJ2YWx1ZSIsInRydXN0QXNIdG1sIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLElBQUlBLE1BQU1DLFFBQVFDLE1BQVIsQ0FBZSxnQkFBZixFQUFpQyxFQUFqQyxDQUFWOztBQUVBRixJQUFJRyxNQUFKLENBQVcsT0FBWCxFQUFvQixZQUFXO0FBQzdCLFNBQU8sVUFBU0MsS0FBVCxFQUFnQkMsU0FBaEIsRUFBMkI7QUFDaEMsUUFBSUMsTUFBTUMsV0FBV0gsS0FBWCxDQUFOLEtBQTRCLENBQUNJLFNBQVNKLEtBQVQsQ0FBakMsRUFBa0QsT0FBTyxHQUFQO0FBQ2xELFFBQUksT0FBT0MsU0FBUCxLQUFxQixXQUF6QixFQUFzQ0EsWUFBWSxDQUFaO0FBQ3RDLFFBQUlJLFFBQVEsQ0FBQyxPQUFELEVBQVUsSUFBVixFQUFnQixJQUFoQixFQUFzQixJQUF0QixFQUE0QixJQUE1QixFQUFrQyxJQUFsQyxDQUFaO0FBQ0EsUUFBSUMsU0FBU04sVUFBVSxDQUFWLEdBQWMsQ0FBZCxHQUFrQk8sS0FBS0MsS0FBTCxDQUFXRCxLQUFLRSxHQUFMLENBQVNULEtBQVQsSUFBa0JPLEtBQUtFLEdBQUwsQ0FBUyxJQUFULENBQTdCLENBQS9CO0FBQ0EsV0FBTyxDQUFDVCxRQUFRTyxLQUFLRyxHQUFMLENBQVMsSUFBVCxFQUFlSCxLQUFLQyxLQUFMLENBQVdGLE1BQVgsQ0FBZixDQUFULEVBQTZDSyxPQUE3QyxDQUFxRFYsU0FBckQsSUFBbUUsR0FBbkUsR0FBeUVJLE1BQU1DLE1BQU4sQ0FBaEY7QUFDRCxHQU5EO0FBT0QsQ0FSRDs7QUFVQVYsSUFBSUcsTUFBSixDQUFXLFlBQVgsRUFBeUIsWUFBWTtBQUNuQyxTQUFPLFVBQVVhLElBQVYsRUFBZ0I7QUFDckIsUUFBTUMsVUFBVTtBQUNkLGNBQVEsTUFETTtBQUVkLGVBQVMsT0FGSztBQUdkLG9CQUFjLFlBSEE7QUFJZCxzQkFBZ0IsY0FKRjtBQUtkLHVCQUFpQixlQUxIO0FBTWQsYUFBTyxLQU5PO0FBT2QsY0FBUTtBQVBNLEtBQWhCOztBQVVBLFdBQU9BLFFBQVFELElBQVIsQ0FBUDtBQUNELEdBWkQ7QUFhRCxDQWREOztBQWdCQWhCLElBQUlHLE1BQUosQ0FBVyxNQUFYLEVBQW1CLFlBQVc7QUFDNUIsU0FBTyxVQUFTZSxHQUFULEVBQWM7QUFDbkIsUUFBSSxRQUFPQSxHQUFQLHlDQUFPQSxHQUFQLE9BQWUsUUFBbkIsRUFBNkI7QUFDM0IsYUFBT0MsT0FBT0MsSUFBUCxDQUFZRixHQUFaLENBQVA7QUFDRDtBQUNELFdBQU8sRUFBUDtBQUNELEdBTEQ7QUFNRCxDQVBEOztBQVNBbEIsSUFBSUcsTUFBSixDQUFXLFFBQVgsRUFBcUIsWUFBVztBQUM5QixTQUFPLFVBQVNlLEdBQVQsRUFBYztBQUNuQixRQUFJLFFBQU9BLEdBQVAseUNBQU9BLEdBQVAsT0FBZSxRQUFuQixFQUE2QjtBQUMzQixVQUFJQSxlQUFlRyxLQUFuQixFQUEwQjtBQUN4QixlQUFPSCxJQUFJSSxNQUFYO0FBQ0QsT0FGRCxNQUVPO0FBQ0wsZUFBT0gsT0FBT0MsSUFBUCxDQUFZRixHQUFaLEVBQWlCSSxNQUF4QjtBQUNEO0FBQ0YsS0FORCxNQU1PLElBQUksT0FBT0osR0FBUCxLQUFlLFFBQW5CLEVBQTZCO0FBQ2xDLGFBQU9BLElBQUlJLE1BQVg7QUFDRCxLQUZNLE1BRUEsSUFBSSxPQUFPSixHQUFQLEtBQWUsUUFBbkIsRUFBNkI7QUFDbEMsYUFBT0ssT0FBT0wsR0FBUCxFQUFZSSxNQUFuQjtBQUNEO0FBQ0QsV0FBTyxDQUFQO0FBQ0QsR0FiRDtBQWNELENBZkQ7O0FBaUJBdEIsSUFBSUcsTUFBSixDQUFXLFdBQVgsRUFBd0IsVUFBVXFCLElBQVYsRUFBZ0I7QUFDdEMsU0FBTyxVQUFVQyxLQUFWLEVBQWlCO0FBQ3BCLFdBQU9ELEtBQUtFLFdBQUwsQ0FBaUJELEtBQWpCLENBQVA7QUFDSCxHQUZEO0FBR0QsQ0FKRDs7a0JBTWV6QixHIiwiZmlsZSI6IjI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IG1vZCA9IGFuZ3VsYXIubW9kdWxlKCdwb3J0YWwuZmlsdGVycycsIFtdKTtcblxubW9kLmZpbHRlcignYnl0ZXMnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGJ5dGVzLCBwcmVjaXNpb24pIHtcbiAgICBpZiAoaXNOYU4ocGFyc2VGbG9hdChieXRlcykpIHx8ICFpc0Zpbml0ZShieXRlcykpIHJldHVybiAnLSc7XG4gICAgaWYgKHR5cGVvZiBwcmVjaXNpb24gPT09ICd1bmRlZmluZWQnKSBwcmVjaXNpb24gPSAxO1xuICAgIHZhciB1bml0cyA9IFsnYnl0ZXMnLCAna0InLCAnTUInLCAnR0InLCAnVEInLCAnUEInXTtcbiAgICB2YXIgbnVtYmVyID0gYnl0ZXMgPT09IDAgPyAwIDogTWF0aC5mbG9vcihNYXRoLmxvZyhieXRlcykgLyBNYXRoLmxvZygxMDI0KSk7XG4gICAgcmV0dXJuIChieXRlcyAvIE1hdGgucG93KDEwMjQsIE1hdGguZmxvb3IobnVtYmVyKSkpLnRvRml4ZWQocHJlY2lzaW9uKSArICAnICcgKyB1bml0c1tudW1iZXJdO1xuICB9O1xufSk7XG5cbm1vZC5maWx0ZXIoJ2FnYXZlcGVybXMnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocGVtcykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAnUkVBRCc6ICdSZWFkJyxcbiAgICAgICdXUklURSc6ICdXcml0ZScsXG4gICAgICAnUkVBRF9XUklURSc6ICdSZWFkL1dyaXRlJyxcbiAgICAgICdSRUFEX0VYRUNVVEUnOiAnUmVhZC9FeGVjdXRlJyxcbiAgICAgICdXUklURV9FWEVDVVRFJzogJ1dyaXRlL0V4ZWN1dGUnLFxuICAgICAgJ0FMTCc6ICdBbGwnLFxuICAgICAgJ05PTkUnOiAnbm9uZSdcbiAgICB9O1xuXG4gICAgcmV0dXJuIG9wdGlvbnNbcGVtc107XG4gIH07XG59KTtcblxubW9kLmZpbHRlcigna2V5cycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9O1xufSk7XG5cbm1vZC5maWx0ZXIoJ2xlbmd0aCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIG9iai5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGg7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gb2JqLmxlbmd0aDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBTdHJpbmcob2JqKS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9O1xufSk7XG5cbm1vZC5maWx0ZXIoJ3RvVHJ1c3RlZCcsIGZ1bmN0aW9uICgkc2NlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKHZhbHVlKTtcbiAgfTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBtb2Q7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvbmctZGVzaWduc2FmZS1maWx0ZXJzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25\n");

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar mod = angular.module('ng.modernizr', []);\nmod.provider('Modernizr', function () {\n  this.$get = function () {\n    return window.Modernizr || {};\n  };\n});\n\nexports.default = mod;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvbmctbW9kZXJuaXpyLmpzPzgxM2UiXSwibmFtZXMiOlsibW9kIiwiYW5ndWxhciIsIm1vZHVsZSIsInByb3ZpZGVyIiwiJGdldCIsIndpbmRvdyIsIk1vZGVybml6ciJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFJQSxNQUFNQyxRQUFRQyxNQUFSLENBQWUsY0FBZixFQUErQixFQUEvQixDQUFWO0FBQ0FGLElBQUlHLFFBQUosQ0FBYSxXQUFiLEVBQTBCLFlBQVc7QUFDbkMsT0FBS0MsSUFBTCxHQUFZLFlBQVc7QUFDckIsV0FBT0MsT0FBT0MsU0FBUCxJQUFvQixFQUEzQjtBQUNELEdBRkQ7QUFHRCxDQUpEOztrQkFNZU4sRyIsImZpbGUiOiIyNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBtb2QgPSBhbmd1bGFyLm1vZHVsZSgnbmcubW9kZXJuaXpyJywgW10pO1xubW9kLnByb3ZpZGVyKCdNb2Rlcm5penInLCBmdW5jdGlvbigpIHtcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5Nb2Rlcm5penIgfHwge307XG4gIH07XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgbW9kO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL25nLW1vZGVybml6ci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///26\n");

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _nav = __webpack_require__(28);\n\nvar _nav2 = _interopRequireDefault(_nav);\n\nvar _searchView = __webpack_require__(29);\n\nvar _searchView2 = _interopRequireDefault(_searchView);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mod = angular.module('portal.search.controllers', []);\n\nmod.controller('NavSearchCtrl', _nav2.default);\nmod.controller('SearchViewCtrl', _searchView2.default);\n\nexports.default = mod;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvc2VhcmNoL2NvbnRyb2xsZXJzL2luZGV4LmpzP2RmZTUiXSwibmFtZXMiOlsibW9kIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7OztBQUNBLElBQUlBLE1BQU1DLFFBQVFDLE1BQVIsQ0FBZSwyQkFBZixFQUE0QyxFQUE1QyxDQUFWOztBQUVBRixJQUFJRyxVQUFKLENBQWUsZUFBZjtBQUNBSCxJQUFJRyxVQUFKLENBQWUsZ0JBQWY7O2tCQUVlSCxHIiwiZmlsZSI6IjI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE5hdlNlYXJjaEN0cmwgZnJvbSAnLi9uYXYnO1xuaW1wb3J0IFNlYXJjaFZpZXdDdHJsIGZyb20gJy4vc2VhcmNoLXZpZXcnO1xubGV0IG1vZCA9IGFuZ3VsYXIubW9kdWxlKCdwb3J0YWwuc2VhcmNoLmNvbnRyb2xsZXJzJywgW10pO1xuXG5tb2QuY29udHJvbGxlcignTmF2U2VhcmNoQ3RybCcsIE5hdlNlYXJjaEN0cmwpO1xubW9kLmNvbnRyb2xsZXIoJ1NlYXJjaFZpZXdDdHJsJywgU2VhcmNoVmlld0N0cmwpO1xuXG5leHBvcnQgZGVmYXVsdCBtb2Q7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvc2VhcmNoL2NvbnRyb2xsZXJzL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///27\n");

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar NavSearchCtrl = function () {\n  function NavSearchCtrl(SearchService, $window) {\n    'ngInject';\n\n    _classCallCheck(this, NavSearchCtrl);\n\n    this.SearchService = SearchService;\n    this.$window = $window;\n  }\n\n  _createClass(NavSearchCtrl, [{\n    key: 'search',\n    value: function search(text) {\n      this.$window.location.href = '/search?q=' + text;\n    }\n  }]);\n\n  return NavSearchCtrl;\n}();\n\nexports.default = NavSearchCtrl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvc2VhcmNoL2NvbnRyb2xsZXJzL25hdi5qcz84MDEwIl0sIm5hbWVzIjpbIk5hdlNlYXJjaEN0cmwiLCJTZWFyY2hTZXJ2aWNlIiwiJHdpbmRvdyIsInRleHQiLCJsb2NhdGlvbiIsImhyZWYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7SUFDcUJBLGE7QUFFbkIseUJBQWFDLGFBQWIsRUFBNEJDLE9BQTVCLEVBQXFDO0FBQ25DOztBQURtQzs7QUFFbkMsU0FBS0QsYUFBTCxHQUFxQkEsYUFBckI7QUFDQSxTQUFLQyxPQUFMLEdBQWVBLE9BQWY7QUFDRDs7OzsyQkFFTUMsSSxFQUFNO0FBQ1gsV0FBS0QsT0FBTCxDQUFhRSxRQUFiLENBQXNCQyxJQUF0QixHQUE2QixlQUFhRixJQUExQztBQUNEOzs7Ozs7a0JBVmtCSCxhIiwiZmlsZSI6IjI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYXZTZWFyY2hDdHJsIHtcblxuICBjb25zdHJ1Y3RvciAoU2VhcmNoU2VydmljZSwgJHdpbmRvdykge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5TZWFyY2hTZXJ2aWNlID0gU2VhcmNoU2VydmljZTtcbiAgICB0aGlzLiR3aW5kb3cgPSAkd2luZG93O1xuICB9XG5cbiAgc2VhcmNoKHRleHQpIHtcbiAgICB0aGlzLiR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvc2VhcmNoP3E9Jyt0ZXh0O1xuICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BvcnRhbC9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci9zZWFyY2gvY29udHJvbGxlcnMvbmF2LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///28\n");

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SearchViewCtrl = function () {\n  function SearchViewCtrl(SearchService, $window, $location, $state) {\n    'ngInject';\n\n    _classCallCheck(this, SearchViewCtrl);\n\n    this.SearchService = SearchService;\n    this.$window = $window;\n    this.$state = $state;\n    this.$location = $location;\n    this.query = this.$location.search();\n    this.text = this.query.q;\n    if (this.text) this.search(this.text);\n  }\n\n  _createClass(SearchViewCtrl, [{\n    key: 'search',\n    value: function search(text) {\n      var _this = this;\n\n      this.SearchService.search(text).then(function (resp) {\n        _this.results = resp;\n      });\n    }\n  }, {\n    key: 'makeUrl',\n    value: function makeUrl(listing) {\n      var url = this.$state.href('db.communityData', { systemId: listing.system, filePath: listing.path });\n      return url;\n    }\n  }]);\n\n  return SearchViewCtrl;\n}();\n\nexports.default = SearchViewCtrl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvc2VhcmNoL2NvbnRyb2xsZXJzL3NlYXJjaC12aWV3LmpzPzZmYTIiXSwibmFtZXMiOlsiU2VhcmNoVmlld0N0cmwiLCJTZWFyY2hTZXJ2aWNlIiwiJHdpbmRvdyIsIiRsb2NhdGlvbiIsIiRzdGF0ZSIsInF1ZXJ5Iiwic2VhcmNoIiwidGV4dCIsInEiLCJ0aGVuIiwicmVzcCIsInJlc3VsdHMiLCJsaXN0aW5nIiwidXJsIiwiaHJlZiIsInN5c3RlbUlkIiwic3lzdGVtIiwiZmlsZVBhdGgiLCJwYXRoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0lBQ3FCQSxjO0FBRW5CLDBCQUFhQyxhQUFiLEVBQTRCQyxPQUE1QixFQUFxQ0MsU0FBckMsRUFBZ0RDLE1BQWhELEVBQXdEO0FBQ3REOztBQURzRDs7QUFFdEQsU0FBS0gsYUFBTCxHQUFxQkEsYUFBckI7QUFDQSxTQUFLQyxPQUFMLEdBQWVBLE9BQWY7QUFDQSxTQUFLRSxNQUFMLEdBQWNBLE1BQWQ7QUFDQSxTQUFLRCxTQUFMLEdBQWlCQSxTQUFqQjtBQUNBLFNBQUtFLEtBQUwsR0FBYSxLQUFLRixTQUFMLENBQWVHLE1BQWYsRUFBYjtBQUNBLFNBQUtDLElBQUwsR0FBWSxLQUFLRixLQUFMLENBQVdHLENBQXZCO0FBQ0EsUUFBSSxLQUFLRCxJQUFULEVBQWUsS0FBS0QsTUFBTCxDQUFZLEtBQUtDLElBQWpCO0FBQ2hCOzs7OzJCQUVNQSxJLEVBQU07QUFBQTs7QUFDWCxXQUFLTixhQUFMLENBQW1CSyxNQUFuQixDQUEwQkMsSUFBMUIsRUFBZ0NFLElBQWhDLENBQXNDLFVBQUNDLElBQUQsRUFBVTtBQUM5QyxjQUFLQyxPQUFMLEdBQWVELElBQWY7QUFDRCxPQUZEO0FBR0Q7Ozs0QkFFT0UsTyxFQUFTO0FBQ2YsVUFBSUMsTUFBTSxLQUFLVCxNQUFMLENBQVlVLElBQVosQ0FBaUIsa0JBQWpCLEVBQXFDLEVBQUNDLFVBQVVILFFBQVFJLE1BQW5CLEVBQTJCQyxVQUFTTCxRQUFRTSxJQUE1QyxFQUFyQyxDQUFWO0FBQ0EsYUFBT0wsR0FBUDtBQUNEOzs7Ozs7a0JBdEJrQmIsYyIsImZpbGUiOiIyOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VhcmNoVmlld0N0cmwge1xuXG4gIGNvbnN0cnVjdG9yIChTZWFyY2hTZXJ2aWNlLCAkd2luZG93LCAkbG9jYXRpb24sICRzdGF0ZSkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5TZWFyY2hTZXJ2aWNlID0gU2VhcmNoU2VydmljZTtcbiAgICB0aGlzLiR3aW5kb3cgPSAkd2luZG93O1xuICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlO1xuICAgIHRoaXMuJGxvY2F0aW9uID0gJGxvY2F0aW9uO1xuICAgIHRoaXMucXVlcnkgPSB0aGlzLiRsb2NhdGlvbi5zZWFyY2goKTtcbiAgICB0aGlzLnRleHQgPSB0aGlzLnF1ZXJ5LnE7XG4gICAgaWYgKHRoaXMudGV4dCkgdGhpcy5zZWFyY2godGhpcy50ZXh0KTtcbiAgfVxuXG4gIHNlYXJjaCh0ZXh0KSB7XG4gICAgdGhpcy5TZWFyY2hTZXJ2aWNlLnNlYXJjaCh0ZXh0KS50aGVuKCAocmVzcCkgPT4ge1xuICAgICAgdGhpcy5yZXN1bHRzID0gcmVzcDtcbiAgICB9KTtcbiAgfVxuXG4gIG1ha2VVcmwobGlzdGluZykge1xuICAgIGxldCB1cmwgPSB0aGlzLiRzdGF0ZS5ocmVmKCdkYi5jb21tdW5pdHlEYXRhJywge3N5c3RlbUlkOiBsaXN0aW5nLnN5c3RlbSwgZmlsZVBhdGg6bGlzdGluZy5wYXRofSk7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvc2VhcmNoL2NvbnRyb2xsZXJzL3NlYXJjaC12aWV3LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///29\n");

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _searchResult = __webpack_require__(31);\n\nvar _searchResult2 = _interopRequireDefault(_searchResult);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mod = angular.module('portal.search.directives', []);\nconsole.log(_searchResult2.default);\n\nmod.directive('searchResult', _searchResult2.default);\n\nexports.default = mod;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvc2VhcmNoL2RpcmVjdGl2ZXMvaW5kZXguanM/MWY1MCJdLCJuYW1lcyI6WyJtb2QiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uc29sZSIsImxvZyIsImRpcmVjdGl2ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7OztBQUNBLElBQUlBLE1BQU1DLFFBQVFDLE1BQVIsQ0FBZSwwQkFBZixFQUEyQyxFQUEzQyxDQUFWO0FBQ0FDLFFBQVFDLEdBQVI7O0FBRUFKLElBQUlLLFNBQUosQ0FBYyxjQUFkOztrQkFFZUwsRyIsImZpbGUiOiIzMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZWFyY2hSZXN1bHQgZnJvbSAnLi9zZWFyY2gtcmVzdWx0JztcbmxldCBtb2QgPSBhbmd1bGFyLm1vZHVsZSgncG9ydGFsLnNlYXJjaC5kaXJlY3RpdmVzJywgW10pO1xuY29uc29sZS5sb2coc2VhcmNoUmVzdWx0KVxuXG5tb2QuZGlyZWN0aXZlKCdzZWFyY2hSZXN1bHQnLCBzZWFyY2hSZXN1bHQpO1xuXG5leHBvcnQgZGVmYXVsdCBtb2Q7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvc2VhcmNoL2RpcmVjdGl2ZXMvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///30\n");

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = searchResult;\nfunction searchResult() {\n  return {\n    restrict: 'E',\n    scope: {\n      listing: '=data',\n      click: '&click',\n      makeUrl: '&makeUrl'\n    },\n    templateUrl: '/static/portal/scripts/angular/search/templates/search-result.html',\n    link: function link($scope, elem, attrs) {\n      $scope.onClick = function (listing) {\n        $scope.click(listing);\n      };\n\n      $scope.url = function (listing) {\n        return $scope.makeUrl(listing);\n      };\n    }\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvc2VhcmNoL2RpcmVjdGl2ZXMvc2VhcmNoLXJlc3VsdC5qcz9mMDk0Il0sIm5hbWVzIjpbInNlYXJjaFJlc3VsdCIsInJlc3RyaWN0Iiwic2NvcGUiLCJsaXN0aW5nIiwiY2xpY2siLCJtYWtlVXJsIiwidGVtcGxhdGVVcmwiLCJsaW5rIiwiJHNjb3BlIiwiZWxlbSIsImF0dHJzIiwib25DbGljayIsInVybCJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBQXdCQSxZO0FBQVQsU0FBU0EsWUFBVCxHQUF3QjtBQUNuQyxTQUFPO0FBQ0xDLGNBQVUsR0FETDtBQUVMQyxXQUFPO0FBQ0xDLGVBQVMsT0FESjtBQUVMQyxhQUFPLFFBRkY7QUFHTEMsZUFBUztBQUhKLEtBRkY7QUFPTEMsaUJBQWEsb0VBUFI7QUFRTEMsVUFBTSxjQUFVQyxNQUFWLEVBQWtCQyxJQUFsQixFQUF3QkMsS0FBeEIsRUFBK0I7QUFDbkNGLGFBQU9HLE9BQVAsR0FBaUIsVUFBVVIsT0FBVixFQUFtQjtBQUNsQ0ssZUFBT0osS0FBUCxDQUFhRCxPQUFiO0FBQ0QsT0FGRDs7QUFJQUssYUFBT0ksR0FBUCxHQUFhLFVBQVVULE9BQVYsRUFBbUI7QUFDOUIsZUFBT0ssT0FBT0gsT0FBUCxDQUFlRixPQUFmLENBQVA7QUFDRCxPQUZEO0FBR0Q7QUFoQkksR0FBUDtBQWtCSCIsImZpbGUiOiIzMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlYXJjaFJlc3VsdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGxpc3Rpbmc6ICc9ZGF0YScsXG4gICAgICAgIGNsaWNrOiAnJmNsaWNrJyxcbiAgICAgICAgbWFrZVVybDogJyZtYWtlVXJsJ1xuICAgICAgfSxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL3NlYXJjaC90ZW1wbGF0ZXMvc2VhcmNoLXJlc3VsdC5odG1sJyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICAgICRzY29wZS5vbkNsaWNrID0gZnVuY3Rpb24gKGxpc3RpbmcpIHtcbiAgICAgICAgICAkc2NvcGUuY2xpY2sobGlzdGluZyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnVybCA9IGZ1bmN0aW9uIChsaXN0aW5nKSB7XG4gICAgICAgICAgcmV0dXJuICRzY29wZS5tYWtlVXJsKGxpc3RpbmcpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvc2VhcmNoL2RpcmVjdGl2ZXMvc2VhcmNoLXJlc3VsdC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///31\n");

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _services = __webpack_require__(33);\n\nvar _controllers = __webpack_require__(27);\n\nvar _directives = __webpack_require__(30);\n\nvar mod = angular.module('portal.search', ['portal.search.services', 'portal.search.controllers', 'portal.search.directives']);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvc2VhcmNoL2luZGV4LmpzP2NhNTciXSwibmFtZXMiOlsibW9kIiwiYW5ndWxhciIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFJQSxNQUFNQyxRQUFRQyxNQUFSLENBQWUsZUFBZixFQUFnQyxDQUN4Qyx3QkFEd0MsRUFFeEMsMkJBRndDLEVBR3hDLDBCQUh3QyxDQUFoQyxDQUFWIiwiZmlsZSI6IjMyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHttb2QgYXMgc2VydmljZXN9IGZyb20gJy4vc2VydmljZXMnO1xuaW1wb3J0IHttb2QgYXMgY29udHJvbGxlcnN9IGZyb20gJy4vY29udHJvbGxlcnMnO1xuaW1wb3J0IHttb2QgYXMgZGlyZWN0aXZlc30gZnJvbSAnLi9kaXJlY3RpdmVzJ1xuXG5sZXQgbW9kID0gYW5ndWxhci5tb2R1bGUoJ3BvcnRhbC5zZWFyY2gnLCBbXG4gICdwb3J0YWwuc2VhcmNoLnNlcnZpY2VzJyxcbiAgJ3BvcnRhbC5zZWFyY2guY29udHJvbGxlcnMnLFxuICAncG9ydGFsLnNlYXJjaC5kaXJlY3RpdmVzJ1xuXSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvc2VhcmNoL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///32\n");

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _searchService = __webpack_require__(34);\n\nvar _searchService2 = _interopRequireDefault(_searchService);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mod = angular.module('portal.search.services', []);\n\nmod.service('SearchService', _searchService2.default);\n\nexports.default = mod;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvc2VhcmNoL3NlcnZpY2VzL2luZGV4LmpzP2IzMzciXSwibmFtZXMiOlsibW9kIiwiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7QUFDQSxJQUFJQSxNQUFNQyxRQUFRQyxNQUFSLENBQWUsd0JBQWYsRUFBeUMsRUFBekMsQ0FBVjs7QUFFQUYsSUFBSUcsT0FBSixDQUFZLGVBQVo7O2tCQUVlSCxHIiwiZmlsZSI6IjMzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlYXJjaFNlcnZpY2UgZnJvbSAnLi9zZWFyY2gtc2VydmljZSc7XG5sZXQgbW9kID0gYW5ndWxhci5tb2R1bGUoJ3BvcnRhbC5zZWFyY2guc2VydmljZXMnLCBbXSk7XG5cbm1vZC5zZXJ2aWNlKCdTZWFyY2hTZXJ2aWNlJywgU2VhcmNoU2VydmljZSk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vZDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BvcnRhbC9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci9zZWFyY2gvc2VydmljZXMvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///33\n");

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SearchService = function () {\n  function SearchService($http) {\n    'ngInject';\n\n    _classCallCheck(this, SearchService);\n\n    this.$http = $http;\n  }\n\n  _createClass(SearchService, [{\n    key: 'search',\n    value: function search(text) {\n      return this.$http.get('/api/search/', { q: text }).then(function (resp) {\n        resp.data.response.forEach(function (d) {\n          d.lastModified = new Date(d.lastModified);\n        });\n        return resp.data.response;\n      });\n    }\n  }]);\n\n  return SearchService;\n}();\n\nexports.default = SearchService;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvc2VhcmNoL3NlcnZpY2VzL3NlYXJjaC1zZXJ2aWNlLmpzPzg3OTIiXSwibmFtZXMiOlsiU2VhcmNoU2VydmljZSIsIiRodHRwIiwidGV4dCIsImdldCIsInEiLCJ0aGVuIiwicmVzcCIsImRhdGEiLCJyZXNwb25zZSIsImZvckVhY2giLCJkIiwibGFzdE1vZGlmaWVkIiwiRGF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUNxQkEsYTtBQUVuQix5QkFBWUMsS0FBWixFQUFtQjtBQUNqQjs7QUFEaUI7O0FBRWpCLFNBQUtBLEtBQUwsR0FBYUEsS0FBYjtBQUNEOzs7OzJCQUVNQyxJLEVBQU07QUFDWCxhQUFPLEtBQUtELEtBQUwsQ0FBV0UsR0FBWCxDQUFlLGNBQWYsRUFBK0IsRUFBQ0MsR0FBR0YsSUFBSixFQUEvQixFQUEwQ0csSUFBMUMsQ0FBZ0QsVUFBQ0MsSUFBRCxFQUFRO0FBQzdEQSxhQUFLQyxJQUFMLENBQVVDLFFBQVYsQ0FBbUJDLE9BQW5CLENBQTJCLFVBQUNDLENBQUQsRUFBTztBQUNoQ0EsWUFBRUMsWUFBRixHQUFpQixJQUFJQyxJQUFKLENBQVNGLEVBQUVDLFlBQVgsQ0FBakI7QUFDRCxTQUZEO0FBR0EsZUFBT0wsS0FBS0MsSUFBTCxDQUFVQyxRQUFqQjtBQUNELE9BTE0sQ0FBUDtBQU1EOzs7Ozs7a0JBZGtCUixhIiwiZmlsZSI6IjM0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWFyY2hTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcigkaHR0cCkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuICB9XG5cbiAgc2VhcmNoKHRleHQpIHtcbiAgICByZXR1cm4gdGhpcy4kaHR0cC5nZXQoJy9hcGkvc2VhcmNoLycsIHtxOiB0ZXh0fSkudGhlbiggKHJlc3ApPT57XG4gICAgICByZXNwLmRhdGEucmVzcG9uc2UuZm9yRWFjaCgoZCkgPT4ge1xuICAgICAgICBkLmxhc3RNb2RpZmllZCA9IG5ldyBEYXRlKGQubGFzdE1vZGlmaWVkKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3AuZGF0YS5yZXNwb25zZTtcbiAgICB9KTtcbiAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvc2VhcmNoL3NlcnZpY2VzL3NlYXJjaC1zZXJ2aWNlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///34\n");

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nfunction ApplicationFormCtrl($scope, $rootScope, $localStorage, $location, $anchorScroll, $translate, Apps, Jobs, SystemsService, Systems) {\n  \"ngInject\";\n\n  $localStorage.systemChecks = {};\n\n  $scope.data = {\n    messages: [],\n    submitting: false,\n    needsLicense: false,\n    app: null,\n    form: {}\n  };\n\n  $scope.$on('launch-app', function (e, app) {\n    $scope.error = '';\n\n    if ($scope.data.app) {\n      $rootScope.$broadcast('close-app', $scope.data.app.id);\n    }\n\n    if (app.value.type === 'agave') {\n      $scope.data.type = app.value.type;\n      Apps.get(app.value.definition.id).then(function (resp) {\n        // check app execution system\n        // Systems.getMonitor(resp.data.response.executionSystem)\n        //   .then(\n        //     function(response){\n        //       if (response.data.response.length > 0){\n        //           // perform check only when monitor is active\n        //           if (response.data[0].active){\n        //             if (response.data[0].lastSuccess !== null){\n        //               var currentDate = new Date();\n        //               var monitorLastSuccessDate = Date.parse(response.data[0].lastSuccess);\n        //               var diff = Math.abs((currentDate - monitorLastSuccessDate) / 60000);\n        //\n        //               if (diff > response.data[0].frequency){\n        //                 toastr.warning($translate.instant('error_system_monitor'));\n        //               }\n        //             } else {\n        //               toastr.warning($translate.instant('error_system_monitor'));\n        //             }\n        //         }\n        //       }\n        //     });\n\n        $scope.data.app = resp.data.response;\n        $scope.resetForm();\n      });\n    } else if (app.value.type === 'html') {\n      Apps.getMeta(app.value.definition.id).then(function (resp) {\n        if (resp.data.length > 0) {\n          $scope.data.type = app.value.type;\n          $scope.data.app = resp.data.response[0].value.definition.html;\n        }\n      });\n    }\n  });\n\n  $scope.resetForm = function () {\n    $scope.data.needsLicense = $scope.data.app.license.type && !$scope.data.app.license.enabled;\n    $scope.form = { model: {}, readonly: $scope.data.needsLicense };\n    $scope.form.schema = Apps.formSchema($scope.data.app);\n    $scope.form.form = [];\n\n    /* inputs */\n    var items = [];\n    if ($scope.form.schema.properties.inputs) {\n      items.push('inputs');\n    }\n    if ($scope.form.schema.properties.parameters) {\n      items.push('parameters');\n    }\n    $scope.form.form.push({\n      type: 'fieldset',\n      readonly: $scope.data.needsLicense,\n      title: 'Inputs',\n      items: items\n    });\n\n    /* job details */\n    $scope.form.form.push({\n      type: 'fieldset',\n      readonly: $scope.data.needsLicense,\n      title: 'Job details',\n      items: ['requestedTime', 'name', 'archivePath']\n    });\n\n    /* buttons */\n    items = [];\n    if (!$scope.data.needsLicense) {\n      items.push({ type: 'submit', title: 'Run', style: 'btn-primary' });\n    }\n    items.push({ type: 'button', title: 'Close', style: 'btn-link', onClick: 'closeApp()' });\n    $scope.form.form.push({\n      type: 'actions',\n      items: items\n    });\n  };\n\n  $scope.onSubmit = function (form) {\n    $scope.data.messages = [];\n    $scope.$broadcast('schemaFormValidate');\n    if (form.$valid) {\n      var jobData = {\n        appId: $scope.data.app.id,\n        archive: true,\n        inputs: {},\n        parameters: {}\n      };\n\n      /* copy form model to disconnect from $scope */\n      _.extend(jobData, angular.copy($scope.form.model));\n\n      /* remove falsy input/parameter */\n      _.each(jobData.inputs, function (v, k) {\n        if (_.isArray(v)) {\n          v = _.compact(v);\n          if (v.length === 0) {\n            delete jobData.inputs[k];\n          }\n        }\n      });\n      _.each(jobData.parameters, function (v, k) {\n        if (_.isArray(v)) {\n          v = _.compact(v);\n          if (v.length === 0) {\n            delete jobData.parameters[k];\n          }\n        }\n      });\n\n      $scope.data.submitting = true;\n      Jobs.submit(jobData).then(function (resp) {\n        $scope.data.submitting = false;\n        $rootScope.$broadcast('job-submitted', resp.data.response);\n        $scope.data.messages.push({\n          type: 'success',\n          header: 'Job Submitted Successfully',\n          body: 'Your job <em>' + resp.data.name + '</em> has been submitted. Monitor its status on the right.'\n        });\n        $scope.resetForm();\n        refocus();\n      }, function (err) {\n        $scope.data.submitting = false;\n        $scope.data.messages.push({\n          type: 'danger',\n          header: 'Job Submit Failed',\n          body: 'Your job submission failed with the following message:<br>' + '<em>' + (err.data.message || 'Unexpected error') + '</em><br>' + 'Please try again. If this problem persists, please ' + '<a href=\"/help\" target=\"_blank\">submit a support ticket</a>.'\n        });\n        refocus();\n      });\n    }\n  };\n\n  function refocus() {\n    $location.hash('workspace');\n    $anchorScroll();\n  }\n\n  function closeApp() {\n    $scope.data.app = null;\n    $scope.data.appLicenseEnabled = false;\n  }\n\n  $scope.$on('close-app', closeApp);\n\n  $scope.closeApp = function () {\n    $rootScope.$broadcast('close-app', $scope.data.app.id);\n    closeApp();\n  };\n};\n\nexports.default = ApplicationFormCtrl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL2NvbnRyb2xsZXJzL2FwcGxpY2F0aW9uLWZvcm0uanM/Y2IwYiJdLCJuYW1lcyI6WyJBcHBsaWNhdGlvbkZvcm1DdHJsIiwiJHNjb3BlIiwiJHJvb3RTY29wZSIsIiRsb2NhbFN0b3JhZ2UiLCIkbG9jYXRpb24iLCIkYW5jaG9yU2Nyb2xsIiwiJHRyYW5zbGF0ZSIsIkFwcHMiLCJKb2JzIiwiU3lzdGVtc1NlcnZpY2UiLCJTeXN0ZW1zIiwic3lzdGVtQ2hlY2tzIiwiZGF0YSIsIm1lc3NhZ2VzIiwic3VibWl0dGluZyIsIm5lZWRzTGljZW5zZSIsImFwcCIsImZvcm0iLCIkb24iLCJlIiwiZXJyb3IiLCIkYnJvYWRjYXN0IiwiaWQiLCJ2YWx1ZSIsInR5cGUiLCJnZXQiLCJkZWZpbml0aW9uIiwidGhlbiIsInJlc3AiLCJyZXNwb25zZSIsInJlc2V0Rm9ybSIsImdldE1ldGEiLCJsZW5ndGgiLCJodG1sIiwibGljZW5zZSIsImVuYWJsZWQiLCJtb2RlbCIsInJlYWRvbmx5Iiwic2NoZW1hIiwiZm9ybVNjaGVtYSIsIml0ZW1zIiwicHJvcGVydGllcyIsImlucHV0cyIsInB1c2giLCJwYXJhbWV0ZXJzIiwidGl0bGUiLCJzdHlsZSIsIm9uQ2xpY2siLCJvblN1Ym1pdCIsIiR2YWxpZCIsImpvYkRhdGEiLCJhcHBJZCIsImFyY2hpdmUiLCJfIiwiZXh0ZW5kIiwiYW5ndWxhciIsImNvcHkiLCJlYWNoIiwidiIsImsiLCJpc0FycmF5IiwiY29tcGFjdCIsInN1Ym1pdCIsImhlYWRlciIsImJvZHkiLCJuYW1lIiwicmVmb2N1cyIsImVyciIsIm1lc3NhZ2UiLCJoYXNoIiwiY2xvc2VBcHAiLCJhcHBMaWNlbnNlRW5hYmxlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBLFNBQVNBLG1CQUFULENBQTZCQyxNQUE3QixFQUFxQ0MsVUFBckMsRUFBaURDLGFBQWpELEVBQWdFQyxTQUFoRSxFQUEyRUMsYUFBM0UsRUFBMEZDLFVBQTFGLEVBQXNHQyxJQUF0RyxFQUE0R0MsSUFBNUcsRUFBa0hDLGNBQWxILEVBQWtJQyxPQUFsSSxFQUEySTtBQUN6STs7QUFDQVAsZ0JBQWNRLFlBQWQsR0FBNkIsRUFBN0I7O0FBRUFWLFNBQU9XLElBQVAsR0FBYztBQUNaQyxjQUFVLEVBREU7QUFFWkMsZ0JBQVksS0FGQTtBQUdaQyxrQkFBYyxLQUhGO0FBSVpDLFNBQUssSUFKTztBQUtaQyxVQUFNO0FBTE0sR0FBZDs7QUFRQWhCLFNBQU9pQixHQUFQLENBQVcsWUFBWCxFQUF5QixVQUFTQyxDQUFULEVBQVlILEdBQVosRUFBaUI7QUFDeENmLFdBQU9tQixLQUFQLEdBQWUsRUFBZjs7QUFFQSxRQUFJbkIsT0FBT1csSUFBUCxDQUFZSSxHQUFoQixFQUFxQjtBQUNuQmQsaUJBQVdtQixVQUFYLENBQXNCLFdBQXRCLEVBQW1DcEIsT0FBT1csSUFBUCxDQUFZSSxHQUFaLENBQWdCTSxFQUFuRDtBQUNEOztBQUVELFFBQUlOLElBQUlPLEtBQUosQ0FBVUMsSUFBVixLQUFtQixPQUF2QixFQUErQjtBQUM3QnZCLGFBQU9XLElBQVAsQ0FBWVksSUFBWixHQUFtQlIsSUFBSU8sS0FBSixDQUFVQyxJQUE3QjtBQUNBakIsV0FBS2tCLEdBQUwsQ0FBU1QsSUFBSU8sS0FBSixDQUFVRyxVQUFWLENBQXFCSixFQUE5QixFQUFrQ0ssSUFBbEMsQ0FDRSxVQUFTQyxJQUFULEVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEzQixlQUFPVyxJQUFQLENBQVlJLEdBQVosR0FBa0JZLEtBQUtoQixJQUFMLENBQVVpQixRQUE1QjtBQUNBNUIsZUFBTzZCLFNBQVA7QUFDRCxPQTFCRDtBQTJCRCxLQTdCRCxNQTZCTyxJQUFJZCxJQUFJTyxLQUFKLENBQVVDLElBQVYsS0FBbUIsTUFBdkIsRUFBOEI7QUFDbkNqQixXQUFLd0IsT0FBTCxDQUFhZixJQUFJTyxLQUFKLENBQVVHLFVBQVYsQ0FBcUJKLEVBQWxDLEVBQXNDSyxJQUF0QyxDQUEyQyxVQUFTQyxJQUFULEVBQWU7QUFDeEQsWUFBSUEsS0FBS2hCLElBQUwsQ0FBVW9CLE1BQVYsR0FBbUIsQ0FBdkIsRUFBeUI7QUFDdkIvQixpQkFBT1csSUFBUCxDQUFZWSxJQUFaLEdBQW1CUixJQUFJTyxLQUFKLENBQVVDLElBQTdCO0FBQ0F2QixpQkFBT1csSUFBUCxDQUFZSSxHQUFaLEdBQWtCWSxLQUFLaEIsSUFBTCxDQUFVaUIsUUFBVixDQUFtQixDQUFuQixFQUFzQk4sS0FBdEIsQ0FBNEJHLFVBQTVCLENBQXVDTyxJQUF6RDtBQUNEO0FBQ0YsT0FMRDtBQU9EO0FBQ0YsR0E3Q0Q7O0FBK0NBaEMsU0FBTzZCLFNBQVAsR0FBbUIsWUFBVztBQUM1QjdCLFdBQU9XLElBQVAsQ0FBWUcsWUFBWixHQUEyQmQsT0FBT1csSUFBUCxDQUFZSSxHQUFaLENBQWdCa0IsT0FBaEIsQ0FBd0JWLElBQXhCLElBQWdDLENBQUN2QixPQUFPVyxJQUFQLENBQVlJLEdBQVosQ0FBZ0JrQixPQUFoQixDQUF3QkMsT0FBcEY7QUFDQWxDLFdBQU9nQixJQUFQLEdBQWMsRUFBQ21CLE9BQU8sRUFBUixFQUFZQyxVQUFVcEMsT0FBT1csSUFBUCxDQUFZRyxZQUFsQyxFQUFkO0FBQ0FkLFdBQU9nQixJQUFQLENBQVlxQixNQUFaLEdBQXFCL0IsS0FBS2dDLFVBQUwsQ0FBZ0J0QyxPQUFPVyxJQUFQLENBQVlJLEdBQTVCLENBQXJCO0FBQ0FmLFdBQU9nQixJQUFQLENBQVlBLElBQVosR0FBbUIsRUFBbkI7O0FBRUE7QUFDQSxRQUFJdUIsUUFBUSxFQUFaO0FBQ0EsUUFBSXZDLE9BQU9nQixJQUFQLENBQVlxQixNQUFaLENBQW1CRyxVQUFuQixDQUE4QkMsTUFBbEMsRUFBMEM7QUFDeENGLFlBQU1HLElBQU4sQ0FBVyxRQUFYO0FBQ0Q7QUFDRCxRQUFJMUMsT0FBT2dCLElBQVAsQ0FBWXFCLE1BQVosQ0FBbUJHLFVBQW5CLENBQThCRyxVQUFsQyxFQUE4QztBQUM1Q0osWUFBTUcsSUFBTixDQUFXLFlBQVg7QUFDRDtBQUNEMUMsV0FBT2dCLElBQVAsQ0FBWUEsSUFBWixDQUFpQjBCLElBQWpCLENBQXNCO0FBQ3BCbkIsWUFBTSxVQURjO0FBRXBCYSxnQkFBVXBDLE9BQU9XLElBQVAsQ0FBWUcsWUFGRjtBQUdwQjhCLGFBQU8sUUFIYTtBQUlwQkwsYUFBT0E7QUFKYSxLQUF0Qjs7QUFPQTtBQUNBdkMsV0FBT2dCLElBQVAsQ0FBWUEsSUFBWixDQUFpQjBCLElBQWpCLENBQXNCO0FBQ3BCbkIsWUFBTSxVQURjO0FBRXBCYSxnQkFBVXBDLE9BQU9XLElBQVAsQ0FBWUcsWUFGRjtBQUdwQjhCLGFBQU8sYUFIYTtBQUlwQkwsYUFBTyxDQUFDLGVBQUQsRUFBaUIsTUFBakIsRUFBeUIsYUFBekI7QUFKYSxLQUF0Qjs7QUFPQTtBQUNBQSxZQUFRLEVBQVI7QUFDQSxRQUFJLENBQUV2QyxPQUFPVyxJQUFQLENBQVlHLFlBQWxCLEVBQWdDO0FBQzlCeUIsWUFBTUcsSUFBTixDQUFXLEVBQUNuQixNQUFNLFFBQVAsRUFBaUJxQixPQUFPLEtBQXhCLEVBQStCQyxPQUFPLGFBQXRDLEVBQVg7QUFDRDtBQUNETixVQUFNRyxJQUFOLENBQVcsRUFBQ25CLE1BQU0sUUFBUCxFQUFpQnFCLE9BQU8sT0FBeEIsRUFBaUNDLE9BQU8sVUFBeEMsRUFBb0RDLFNBQVMsWUFBN0QsRUFBWDtBQUNBOUMsV0FBT2dCLElBQVAsQ0FBWUEsSUFBWixDQUFpQjBCLElBQWpCLENBQXNCO0FBQ3BCbkIsWUFBTSxTQURjO0FBRXBCZ0IsYUFBT0E7QUFGYSxLQUF0QjtBQUlELEdBdkNEOztBQXlDQXZDLFNBQU8rQyxRQUFQLEdBQWtCLFVBQVMvQixJQUFULEVBQWU7QUFDL0JoQixXQUFPVyxJQUFQLENBQVlDLFFBQVosR0FBdUIsRUFBdkI7QUFDQVosV0FBT29CLFVBQVAsQ0FBa0Isb0JBQWxCO0FBQ0EsUUFBSUosS0FBS2dDLE1BQVQsRUFBaUI7QUFDZixVQUFJQyxVQUFVO0FBQ1ZDLGVBQU9sRCxPQUFPVyxJQUFQLENBQVlJLEdBQVosQ0FBZ0JNLEVBRGI7QUFFVjhCLGlCQUFTLElBRkM7QUFHVlYsZ0JBQVEsRUFIRTtBQUlWRSxvQkFBWTtBQUpGLE9BQWQ7O0FBT0E7QUFDQVMsUUFBRUMsTUFBRixDQUFTSixPQUFULEVBQWtCSyxRQUFRQyxJQUFSLENBQWF2RCxPQUFPZ0IsSUFBUCxDQUFZbUIsS0FBekIsQ0FBbEI7O0FBRUE7QUFDQWlCLFFBQUVJLElBQUYsQ0FBT1AsUUFBUVIsTUFBZixFQUF1QixVQUFTZ0IsQ0FBVCxFQUFXQyxDQUFYLEVBQWM7QUFDbkMsWUFBSU4sRUFBRU8sT0FBRixDQUFVRixDQUFWLENBQUosRUFBa0I7QUFDaEJBLGNBQUlMLEVBQUVRLE9BQUYsQ0FBVUgsQ0FBVixDQUFKO0FBQ0EsY0FBSUEsRUFBRTFCLE1BQUYsS0FBYSxDQUFqQixFQUFvQjtBQUNsQixtQkFBT2tCLFFBQVFSLE1BQVIsQ0FBZWlCLENBQWYsQ0FBUDtBQUNEO0FBQ0Y7QUFDRixPQVBEO0FBUUFOLFFBQUVJLElBQUYsQ0FBT1AsUUFBUU4sVUFBZixFQUEyQixVQUFTYyxDQUFULEVBQVdDLENBQVgsRUFBYztBQUN2QyxZQUFJTixFQUFFTyxPQUFGLENBQVVGLENBQVYsQ0FBSixFQUFrQjtBQUNoQkEsY0FBSUwsRUFBRVEsT0FBRixDQUFVSCxDQUFWLENBQUo7QUFDQSxjQUFJQSxFQUFFMUIsTUFBRixLQUFhLENBQWpCLEVBQW9CO0FBQ2xCLG1CQUFPa0IsUUFBUU4sVUFBUixDQUFtQmUsQ0FBbkIsQ0FBUDtBQUNEO0FBQ0Y7QUFDRixPQVBEOztBQVNBMUQsYUFBT1csSUFBUCxDQUFZRSxVQUFaLEdBQXlCLElBQXpCO0FBQ0FOLFdBQUtzRCxNQUFMLENBQVlaLE9BQVosRUFBcUJ2QixJQUFyQixDQUNFLFVBQVNDLElBQVQsRUFBZTtBQUNiM0IsZUFBT1csSUFBUCxDQUFZRSxVQUFaLEdBQXlCLEtBQXpCO0FBQ0FaLG1CQUFXbUIsVUFBWCxDQUFzQixlQUF0QixFQUF1Q08sS0FBS2hCLElBQUwsQ0FBVWlCLFFBQWpEO0FBQ0E1QixlQUFPVyxJQUFQLENBQVlDLFFBQVosQ0FBcUI4QixJQUFyQixDQUEwQjtBQUN4Qm5CLGdCQUFNLFNBRGtCO0FBRXhCdUMsa0JBQVEsNEJBRmdCO0FBR3hCQyxnQkFBTSxrQkFBa0JwQyxLQUFLaEIsSUFBTCxDQUFVcUQsSUFBNUIsR0FBbUM7QUFIakIsU0FBMUI7QUFLQWhFLGVBQU82QixTQUFQO0FBQ0FvQztBQUNELE9BWEgsRUFXSyxVQUFTQyxHQUFULEVBQWM7QUFDZmxFLGVBQU9XLElBQVAsQ0FBWUUsVUFBWixHQUF5QixLQUF6QjtBQUNBYixlQUFPVyxJQUFQLENBQVlDLFFBQVosQ0FBcUI4QixJQUFyQixDQUEwQjtBQUN4Qm5CLGdCQUFNLFFBRGtCO0FBRXhCdUMsa0JBQVEsbUJBRmdCO0FBR3hCQyxnQkFBTSwrREFDQSxNQURBLElBQ1VHLElBQUl2RCxJQUFKLENBQVN3RCxPQUFULElBQW9CLGtCQUQ5QixJQUNvRCxXQURwRCxHQUVBLHFEQUZBLEdBR0E7QUFOa0IsU0FBMUI7QUFRQUY7QUFDRCxPQXRCSDtBQXVCRDtBQUNGLEdBekREOztBQTJEQSxXQUFTQSxPQUFULEdBQW1CO0FBQ2pCOUQsY0FBVWlFLElBQVYsQ0FBZSxXQUFmO0FBQ0FoRTtBQUNEOztBQUVELFdBQVNpRSxRQUFULEdBQW9CO0FBQ2xCckUsV0FBT1csSUFBUCxDQUFZSSxHQUFaLEdBQWtCLElBQWxCO0FBQ0FmLFdBQU9XLElBQVAsQ0FBWTJELGlCQUFaLEdBQWdDLEtBQWhDO0FBQ0Q7O0FBRUR0RSxTQUFPaUIsR0FBUCxDQUFXLFdBQVgsRUFBd0JvRCxRQUF4Qjs7QUFFQXJFLFNBQU9xRSxRQUFQLEdBQWtCLFlBQVc7QUFDM0JwRSxlQUFXbUIsVUFBWCxDQUFzQixXQUF0QixFQUFtQ3BCLE9BQU9XLElBQVAsQ0FBWUksR0FBWixDQUFnQk0sRUFBbkQ7QUFDQWdEO0FBQ0QsR0FIRDtBQUlEOztrQkFFY3RFLG1CIiwiZmlsZSI6IjM1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5mdW5jdGlvbiBBcHBsaWNhdGlvbkZvcm1DdHJsKCRzY29wZSwgJHJvb3RTY29wZSwgJGxvY2FsU3RvcmFnZSwgJGxvY2F0aW9uLCAkYW5jaG9yU2Nyb2xsLCAkdHJhbnNsYXRlLCBBcHBzLCBKb2JzLCBTeXN0ZW1zU2VydmljZSwgU3lzdGVtcykge1xyXG4gIFwibmdJbmplY3RcIjtcclxuICAkbG9jYWxTdG9yYWdlLnN5c3RlbUNoZWNrcyA9IHt9O1xyXG5cclxuICAkc2NvcGUuZGF0YSA9IHtcclxuICAgIG1lc3NhZ2VzOiBbXSxcclxuICAgIHN1Ym1pdHRpbmc6IGZhbHNlLFxyXG4gICAgbmVlZHNMaWNlbnNlOiBmYWxzZSxcclxuICAgIGFwcDogbnVsbCxcclxuICAgIGZvcm06IHt9XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLiRvbignbGF1bmNoLWFwcCcsIGZ1bmN0aW9uKGUsIGFwcCkge1xyXG4gICAgJHNjb3BlLmVycm9yID0gJyc7XHJcblxyXG4gICAgaWYgKCRzY29wZS5kYXRhLmFwcCkge1xyXG4gICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2Nsb3NlLWFwcCcsICRzY29wZS5kYXRhLmFwcC5pZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFwcC52YWx1ZS50eXBlID09PSAnYWdhdmUnKXtcclxuICAgICAgJHNjb3BlLmRhdGEudHlwZSA9IGFwcC52YWx1ZS50eXBlO1xyXG4gICAgICBBcHBzLmdldChhcHAudmFsdWUuZGVmaW5pdGlvbi5pZCkudGhlbihcclxuICAgICAgICBmdW5jdGlvbihyZXNwKSB7XHJcbiAgICAgICAgLy8gY2hlY2sgYXBwIGV4ZWN1dGlvbiBzeXN0ZW1cclxuICAgICAgICAvLyBTeXN0ZW1zLmdldE1vbml0b3IocmVzcC5kYXRhLnJlc3BvbnNlLmV4ZWN1dGlvblN5c3RlbSlcclxuICAgICAgICAvLyAgIC50aGVuKFxyXG4gICAgICAgIC8vICAgICBmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgLy8gICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2UubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgLy8gICAgICAgICAgIC8vIHBlcmZvcm0gY2hlY2sgb25seSB3aGVuIG1vbml0b3IgaXMgYWN0aXZlXHJcbiAgICAgICAgLy8gICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhWzBdLmFjdGl2ZSl7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbMF0ubGFzdFN1Y2Nlc3MgIT09IG51bGwpe1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgIHZhciBtb25pdG9yTGFzdFN1Y2Nlc3NEYXRlID0gRGF0ZS5wYXJzZShyZXNwb25zZS5kYXRhWzBdLmxhc3RTdWNjZXNzKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgIHZhciBkaWZmID0gTWF0aC5hYnMoKGN1cnJlbnREYXRlIC0gbW9uaXRvckxhc3RTdWNjZXNzRGF0ZSkgLyA2MDAwMCk7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyAgICAgICAgICAgICAgIGlmIChkaWZmID4gcmVzcG9uc2UuZGF0YVswXS5mcmVxdWVuY3kpe1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0b2FzdHIud2FybmluZygkdHJhbnNsYXRlLmluc3RhbnQoJ2Vycm9yX3N5c3RlbV9tb25pdG9yJykpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICB0b2FzdHIud2FybmluZygkdHJhbnNsYXRlLmluc3RhbnQoJ2Vycm9yX3N5c3RlbV9tb25pdG9yJykpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG5cclxuICAgICAgICAkc2NvcGUuZGF0YS5hcHAgPSByZXNwLmRhdGEucmVzcG9uc2U7XHJcbiAgICAgICAgJHNjb3BlLnJlc2V0Rm9ybSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoYXBwLnZhbHVlLnR5cGUgPT09ICdodG1sJyl7XHJcbiAgICAgIEFwcHMuZ2V0TWV0YShhcHAudmFsdWUuZGVmaW5pdGlvbi5pZCkudGhlbihmdW5jdGlvbihyZXNwKSB7XHJcbiAgICAgICAgaWYgKHJlc3AuZGF0YS5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICRzY29wZS5kYXRhLnR5cGUgPSBhcHAudmFsdWUudHlwZTtcclxuICAgICAgICAgICRzY29wZS5kYXRhLmFwcCA9IHJlc3AuZGF0YS5yZXNwb25zZVswXS52YWx1ZS5kZWZpbml0aW9uLmh0bWw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gICRzY29wZS5yZXNldEZvcm0gPSBmdW5jdGlvbigpIHtcclxuICAgICRzY29wZS5kYXRhLm5lZWRzTGljZW5zZSA9ICRzY29wZS5kYXRhLmFwcC5saWNlbnNlLnR5cGUgJiYgISRzY29wZS5kYXRhLmFwcC5saWNlbnNlLmVuYWJsZWQ7XHJcbiAgICAkc2NvcGUuZm9ybSA9IHttb2RlbDoge30sIHJlYWRvbmx5OiAkc2NvcGUuZGF0YS5uZWVkc0xpY2Vuc2V9O1xyXG4gICAgJHNjb3BlLmZvcm0uc2NoZW1hID0gQXBwcy5mb3JtU2NoZW1hKCRzY29wZS5kYXRhLmFwcCk7XHJcbiAgICAkc2NvcGUuZm9ybS5mb3JtID0gW107XHJcblxyXG4gICAgLyogaW5wdXRzICovXHJcbiAgICB2YXIgaXRlbXMgPSBbXTtcclxuICAgIGlmICgkc2NvcGUuZm9ybS5zY2hlbWEucHJvcGVydGllcy5pbnB1dHMpIHtcclxuICAgICAgaXRlbXMucHVzaCgnaW5wdXRzJyk7XHJcbiAgICB9XHJcbiAgICBpZiAoJHNjb3BlLmZvcm0uc2NoZW1hLnByb3BlcnRpZXMucGFyYW1ldGVycykge1xyXG4gICAgICBpdGVtcy5wdXNoKCdwYXJhbWV0ZXJzJyk7XHJcbiAgICB9XHJcbiAgICAkc2NvcGUuZm9ybS5mb3JtLnB1c2goe1xyXG4gICAgICB0eXBlOiAnZmllbGRzZXQnLFxyXG4gICAgICByZWFkb25seTogJHNjb3BlLmRhdGEubmVlZHNMaWNlbnNlLFxyXG4gICAgICB0aXRsZTogJ0lucHV0cycsXHJcbiAgICAgIGl0ZW1zOiBpdGVtc1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyogam9iIGRldGFpbHMgKi9cclxuICAgICRzY29wZS5mb3JtLmZvcm0ucHVzaCh7XHJcbiAgICAgIHR5cGU6ICdmaWVsZHNldCcsXHJcbiAgICAgIHJlYWRvbmx5OiAkc2NvcGUuZGF0YS5uZWVkc0xpY2Vuc2UsXHJcbiAgICAgIHRpdGxlOiAnSm9iIGRldGFpbHMnLFxyXG4gICAgICBpdGVtczogWydyZXF1ZXN0ZWRUaW1lJywnbmFtZScsICdhcmNoaXZlUGF0aCddXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKiBidXR0b25zICovXHJcbiAgICBpdGVtcyA9IFtdO1xyXG4gICAgaWYgKCEgJHNjb3BlLmRhdGEubmVlZHNMaWNlbnNlKSB7XHJcbiAgICAgIGl0ZW1zLnB1c2goe3R5cGU6ICdzdWJtaXQnLCB0aXRsZTogJ1J1bicsIHN0eWxlOiAnYnRuLXByaW1hcnknfSk7XHJcbiAgICB9XHJcbiAgICBpdGVtcy5wdXNoKHt0eXBlOiAnYnV0dG9uJywgdGl0bGU6ICdDbG9zZScsIHN0eWxlOiAnYnRuLWxpbmsnLCBvbkNsaWNrOiAnY2xvc2VBcHAoKSd9KTtcclxuICAgICRzY29wZS5mb3JtLmZvcm0ucHVzaCh7XHJcbiAgICAgIHR5cGU6ICdhY3Rpb25zJyxcclxuICAgICAgaXRlbXM6IGl0ZW1zXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUub25TdWJtaXQgPSBmdW5jdGlvbihmb3JtKSB7XHJcbiAgICAkc2NvcGUuZGF0YS5tZXNzYWdlcyA9IFtdO1xyXG4gICAgJHNjb3BlLiRicm9hZGNhc3QoJ3NjaGVtYUZvcm1WYWxpZGF0ZScpO1xyXG4gICAgaWYgKGZvcm0uJHZhbGlkKSB7XHJcbiAgICAgIHZhciBqb2JEYXRhID0ge1xyXG4gICAgICAgICAgYXBwSWQ6ICRzY29wZS5kYXRhLmFwcC5pZCxcclxuICAgICAgICAgIGFyY2hpdmU6IHRydWUsXHJcbiAgICAgICAgICBpbnB1dHM6IHt9LFxyXG4gICAgICAgICAgcGFyYW1ldGVyczoge31cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qIGNvcHkgZm9ybSBtb2RlbCB0byBkaXNjb25uZWN0IGZyb20gJHNjb3BlICovXHJcbiAgICAgIF8uZXh0ZW5kKGpvYkRhdGEsIGFuZ3VsYXIuY29weSgkc2NvcGUuZm9ybS5tb2RlbCkpO1xyXG5cclxuICAgICAgLyogcmVtb3ZlIGZhbHN5IGlucHV0L3BhcmFtZXRlciAqL1xyXG4gICAgICBfLmVhY2goam9iRGF0YS5pbnB1dHMsIGZ1bmN0aW9uKHYsaykge1xyXG4gICAgICAgIGlmIChfLmlzQXJyYXkodikpIHtcclxuICAgICAgICAgIHYgPSBfLmNvbXBhY3Qodik7XHJcbiAgICAgICAgICBpZiAodi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgZGVsZXRlIGpvYkRhdGEuaW5wdXRzW2tdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIF8uZWFjaChqb2JEYXRhLnBhcmFtZXRlcnMsIGZ1bmN0aW9uKHYsaykge1xyXG4gICAgICAgIGlmIChfLmlzQXJyYXkodikpIHtcclxuICAgICAgICAgIHYgPSBfLmNvbXBhY3Qodik7XHJcbiAgICAgICAgICBpZiAodi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgZGVsZXRlIGpvYkRhdGEucGFyYW1ldGVyc1trXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgJHNjb3BlLmRhdGEuc3VibWl0dGluZyA9IHRydWU7XHJcbiAgICAgIEpvYnMuc3VibWl0KGpvYkRhdGEpLnRoZW4oXHJcbiAgICAgICAgZnVuY3Rpb24ocmVzcCkge1xyXG4gICAgICAgICAgJHNjb3BlLmRhdGEuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdqb2Itc3VibWl0dGVkJywgcmVzcC5kYXRhLnJlc3BvbnNlKTtcclxuICAgICAgICAgICRzY29wZS5kYXRhLm1lc3NhZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXHJcbiAgICAgICAgICAgIGhlYWRlcjogJ0pvYiBTdWJtaXR0ZWQgU3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgICAgICAgYm9keTogJ1lvdXIgam9iIDxlbT4nICsgcmVzcC5kYXRhLm5hbWUgKyAnPC9lbT4gaGFzIGJlZW4gc3VibWl0dGVkLiBNb25pdG9yIGl0cyBzdGF0dXMgb24gdGhlIHJpZ2h0LidcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgJHNjb3BlLnJlc2V0Rm9ybSgpO1xyXG4gICAgICAgICAgcmVmb2N1cygpO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICAgJHNjb3BlLmRhdGEuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgJHNjb3BlLmRhdGEubWVzc2FnZXMucHVzaCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxyXG4gICAgICAgICAgICBoZWFkZXI6ICdKb2IgU3VibWl0IEZhaWxlZCcsXHJcbiAgICAgICAgICAgIGJvZHk6ICdZb3VyIGpvYiBzdWJtaXNzaW9uIGZhaWxlZCB3aXRoIHRoZSBmb2xsb3dpbmcgbWVzc2FnZTo8YnI+JyArXHJcbiAgICAgICAgICAgICAgICAgICc8ZW0+JyArIChlcnIuZGF0YS5tZXNzYWdlIHx8ICdVbmV4cGVjdGVkIGVycm9yJykgKyAnPC9lbT48YnI+JyArXHJcbiAgICAgICAgICAgICAgICAgICdQbGVhc2UgdHJ5IGFnYWluLiBJZiB0aGlzIHByb2JsZW0gcGVyc2lzdHMsIHBsZWFzZSAnICtcclxuICAgICAgICAgICAgICAgICAgJzxhIGhyZWY9XCIvaGVscFwiIHRhcmdldD1cIl9ibGFua1wiPnN1Ym1pdCBhIHN1cHBvcnQgdGlja2V0PC9hPi4nXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHJlZm9jdXMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiByZWZvY3VzKCkge1xyXG4gICAgJGxvY2F0aW9uLmhhc2goJ3dvcmtzcGFjZScpO1xyXG4gICAgJGFuY2hvclNjcm9sbCgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2xvc2VBcHAoKSB7XHJcbiAgICAkc2NvcGUuZGF0YS5hcHAgPSBudWxsO1xyXG4gICAgJHNjb3BlLmRhdGEuYXBwTGljZW5zZUVuYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gICRzY29wZS4kb24oJ2Nsb3NlLWFwcCcsIGNsb3NlQXBwKTtcclxuXHJcbiAgJHNjb3BlLmNsb3NlQXBwID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2Nsb3NlLWFwcCcsICRzY29wZS5kYXRhLmFwcC5pZCk7XHJcbiAgICBjbG9zZUFwcCgpO1xyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcHBsaWNhdGlvbkZvcm1DdHJsO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL2NvbnRyb2xsZXJzL2FwcGxpY2F0aW9uLWZvcm0uanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///35\n");

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction ApplicationTrayCtrl($location, $scope, $rootScope, $q, $timeout, $uibModal, $state, $stateParams, $translate, Apps, SimpleList, MultipleList, Notifications) {\n  'ngInject';\n\n  $scope.tabs = [];\n\n  $scope.simpleList = new SimpleList();\n\n  $scope.addDefaultTabs = function (query) {\n    $scope.error = '';\n    var self = this;\n    var deferred = $q.defer();\n\n    $scope.simpleList.getDefaultLists(query).then(function (response) {\n      deferred.resolve(response);\n    }).catch(function (response) {\n      $scope.error = $translate.instant('error_tab_get') + response.data;\n      deferred.reject(response);\n    });\n    return deferred.promise;\n  };\n\n  $scope.addUserTabs = function (query, active) {\n    $scope.error = '';\n    var self = this;\n    var deferred = $q.defer();\n    var query = { 'name': $translate.instant('apps_metadata_list_name') };\n\n    $scope.simpleList.getUserLists(query).then(function (response) {\n      deferred.resolve(response);\n    }).catch(function (response) {\n      $scope.error = $translate.instant('error_tab_get') + response.data;\n      deferred.reject(response);\n    });;\n\n    return deferred.promise;\n  };\n\n  $scope.data = {\n    activeApp: null,\n    publicOnly: false,\n    type: null\n  };\n\n  function closeApp(label) {\n    $rootScope.$broadcast('close-app', label);\n    $scope.data.activeApp = null;\n  }\n\n  $scope.$on('close-app', function (e, label) {\n    if ($scope.data.activeApp && $scope.data.activeApp.label === label) {\n      $scope.data.activeApp = null;\n    }\n  });\n\n  $scope.refreshApps = function () {\n    $scope.error = '';\n    $scope.requesting = true;\n    $scope.tabs = [];\n\n    if ($stateParams.appId) {\n      Apps.getMeta($stateParams.appId).then(function (response) {\n        if (response.data.length > 0) {\n          if (response.data[0].value.definition.available) {\n            $scope.launchApp(response.data[0]);\n          } else {\n            toastr.warning($translate.instant('error_app_disabled'));\n          }\n        } else {\n          toastr.warning($translate.instant('error_app_run'));\n        }\n      }, function (response) {\n        toastr.warning($translate.instant('error_app_run'));\n      });\n    }\n\n    $scope.addDefaultTabs({ 'name': $translate.instant('apps_metadata_name') }).then(function () {\n      var deferred = $q.defer();\n\n      $scope.addUserTabs({ 'name': $translate.instant('apps_metadata_list_name') }).then(function (response) {\n        deferred.resolve(response);\n      });\n\n      return deferred.promise;\n    }).then(function (response) {\n      $scope.tabs.push({\n        title: 'Private',\n        content: $scope.simpleList.lists['Private']\n      });\n\n      $scope.tabs.push({\n        title: 'Public',\n        content: $scope.simpleList.lists['Public']\n      });\n\n      angular.forEach($scope.simpleList.lists, function (list, key) {\n        if (key !== 'Public' && key !== 'Private') {\n          $scope.tabs.push({\n            title: key,\n            content: list\n          });\n        }\n      });\n\n      $scope.requesting = false;\n    });\n  };\n\n  $scope.refreshApps();\n\n  $scope.launchApp = function (app) {\n    $state.go('tray', { appId: app.value.definition.id }, { notify: false });\n\n    if (!$scope.data.activeApp || $scope.data.activeApp.value.definition.id !== app.value.definition.id) {\n      $scope.data.activeApp = app;\n      $rootScope.$broadcast('launch-app', app);\n    }\n  };\n};\n\nexports.default = ApplicationTrayCtrl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL2NvbnRyb2xsZXJzL2FwcGxpY2F0aW9uLXRyYXkuanM/OTQ3NiJdLCJuYW1lcyI6WyJBcHBsaWNhdGlvblRyYXlDdHJsIiwiJGxvY2F0aW9uIiwiJHNjb3BlIiwiJHJvb3RTY29wZSIsIiRxIiwiJHRpbWVvdXQiLCIkdWliTW9kYWwiLCIkc3RhdGUiLCIkc3RhdGVQYXJhbXMiLCIkdHJhbnNsYXRlIiwiQXBwcyIsIlNpbXBsZUxpc3QiLCJNdWx0aXBsZUxpc3QiLCJOb3RpZmljYXRpb25zIiwidGFicyIsInNpbXBsZUxpc3QiLCJhZGREZWZhdWx0VGFicyIsInF1ZXJ5IiwiZXJyb3IiLCJzZWxmIiwiZGVmZXJyZWQiLCJkZWZlciIsImdldERlZmF1bHRMaXN0cyIsInRoZW4iLCJyZXNwb25zZSIsInJlc29sdmUiLCJjYXRjaCIsImluc3RhbnQiLCJkYXRhIiwicmVqZWN0IiwicHJvbWlzZSIsImFkZFVzZXJUYWJzIiwiYWN0aXZlIiwiZ2V0VXNlckxpc3RzIiwiYWN0aXZlQXBwIiwicHVibGljT25seSIsInR5cGUiLCJjbG9zZUFwcCIsImxhYmVsIiwiJGJyb2FkY2FzdCIsIiRvbiIsImUiLCJyZWZyZXNoQXBwcyIsInJlcXVlc3RpbmciLCJhcHBJZCIsImdldE1ldGEiLCJsZW5ndGgiLCJ2YWx1ZSIsImRlZmluaXRpb24iLCJhdmFpbGFibGUiLCJsYXVuY2hBcHAiLCJ0b2FzdHIiLCJ3YXJuaW5nIiwicHVzaCIsInRpdGxlIiwiY29udGVudCIsImxpc3RzIiwiYW5ndWxhciIsImZvckVhY2giLCJsaXN0Iiwia2V5IiwiYXBwIiwiZ28iLCJpZCIsIm5vdGlmeSJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQyxTQUFTQSxtQkFBVCxDQUE2QkMsU0FBN0IsRUFBd0NDLE1BQXhDLEVBQWdEQyxVQUFoRCxFQUE0REMsRUFBNUQsRUFBZ0VDLFFBQWhFLEVBQTBF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Q0VDLGVBQU8sUUFEVDtBQUVFQyxpQkFBU3JELE9BQU9hLFVBQVAsQ0FBa0J5QyxLQUFsQixDQUF3QixRQUF4QjtBQUZYLE9BREY7O0FBT0FDLGNBQVFDLE9BQVIsQ0FBZ0J4RCxPQUFPYSxVQUFQLENBQWtCeUMsS0FBbEMsRUFBeUMsVUFBU0csSUFBVCxFQUFlQyxHQUFmLEVBQW1CO0FBQzFELFlBQUlBLFFBQVEsUUFBUixJQUFvQkEsUUFBUSxTQUFoQyxFQUEyQztBQUN6QzFELGlCQUFPWSxJQUFQLENBQVl1QyxJQUFaLENBQWlCO0FBQ2ZDLG1CQUFPTSxHQURRO0FBRWZMLHFCQUFTSTtBQUZNLFdBQWpCO0FBSUQ7QUFDRixPQVBEOztBQVNBekQsYUFBT3lDLFVBQVAsR0FBb0IsS0FBcEI7QUFDRCxLQXBDSDtBQXFDRCxHQTlERDs7QUFnRUF6QyxTQUFPd0MsV0FBUDs7QUFFQXhDLFNBQU9nRCxTQUFQLEdBQW1CLFVBQVNXLEdBQVQsRUFBYztBQUMvQnRELFdBQU91RCxFQUFQLENBQ0UsTUFERixFQUVFLEVBQUNsQixPQUFPaUIsSUFBSWQsS0FBSixDQUFVQyxVQUFWLENBQXFCZSxFQUE3QixFQUZGLEVBR0UsRUFBQ0MsUUFBUSxLQUFULEVBSEY7O0FBTUEsUUFBSSxDQUFDOUQsT0FBTzBCLElBQVAsQ0FBWU0sU0FBYixJQUEwQmhDLE9BQU8wQixJQUFQLENBQVlNLFNBQVosQ0FBc0JhLEtBQXRCLENBQTRCQyxVQUE1QixDQUF1Q2UsRUFBdkMsS0FBOENGLElBQUlkLEtBQUosQ0FBVUMsVUFBVixDQUFxQmUsRUFBakcsRUFBcUc7QUFDbkc3RCxhQUFPMEIsSUFBUCxDQUFZTSxTQUFaLEdBQXdCMkIsR0FBeEI7QUFDQTFELGlCQUFXb0MsVUFBWCxDQUFzQixZQUF0QixFQUFvQ3NCLEdBQXBDO0FBQ0Q7QUFDRixHQVhEO0FBWUQ7O2tCQUVjN0QsbUIiLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgZnVuY3Rpb24gQXBwbGljYXRpb25UcmF5Q3RybCgkbG9jYXRpb24sICRzY29wZSwgJHJvb3RTY29wZSwgJHEsICR0aW1lb3V0LCAkdWliTW9kYWwsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLCAkdHJhbnNsYXRlLCBBcHBzLCBTaW1wbGVMaXN0LCBNdWx0aXBsZUxpc3QsIE5vdGlmaWNhdGlvbnMpIHtcbiAgJ25nSW5qZWN0JztcbiAgJHNjb3BlLnRhYnMgPSBbXTtcblxuICAkc2NvcGUuc2ltcGxlTGlzdCA9IG5ldyBTaW1wbGVMaXN0KCk7XG5cbiAgJHNjb3BlLmFkZERlZmF1bHRUYWJzID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgJHNjb3BlLmVycm9yID0gJyc7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAkc2NvcGUuc2ltcGxlTGlzdC5nZXREZWZhdWx0TGlzdHMocXVlcnkpXG4gICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICRzY29wZS5lcnJvciA9ICR0cmFuc2xhdGUuaW5zdGFudCgnZXJyb3JfdGFiX2dldCcpICsgcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlc3BvbnNlKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9O1xuXG4gICRzY29wZS5hZGRVc2VyVGFicyA9IGZ1bmN0aW9uKHF1ZXJ5LCBhY3RpdmUpe1xuICAgICRzY29wZS5lcnJvciA9ICcnO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgIHZhciBxdWVyeSA9IHsnbmFtZSc6ICR0cmFuc2xhdGUuaW5zdGFudCgnYXBwc19tZXRhZGF0YV9saXN0X25hbWUnKX07XG5cbiAgICAkc2NvcGUuc2ltcGxlTGlzdC5nZXRVc2VyTGlzdHMocXVlcnkpXG4gICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICRzY29wZS5lcnJvciA9ICR0cmFuc2xhdGUuaW5zdGFudCgnZXJyb3JfdGFiX2dldCcpICsgcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlc3BvbnNlKTtcbiAgICAgIH0pOztcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9O1xuXG4gICRzY29wZS5kYXRhID0ge1xuICAgIGFjdGl2ZUFwcDogbnVsbCxcbiAgICBwdWJsaWNPbmx5OiBmYWxzZSxcbiAgICB0eXBlOiBudWxsXG4gIH07XG5cbiAgZnVuY3Rpb24gY2xvc2VBcHAobGFiZWwpIHtcbiAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2Nsb3NlLWFwcCcsIGxhYmVsKTtcbiAgICAkc2NvcGUuZGF0YS5hY3RpdmVBcHAgPSBudWxsO1xuICB9XG5cbiAgJHNjb3BlLiRvbignY2xvc2UtYXBwJywgZnVuY3Rpb24oZSwgbGFiZWwpIHtcbiAgICBpZiAoJHNjb3BlLmRhdGEuYWN0aXZlQXBwICYmICRzY29wZS5kYXRhLmFjdGl2ZUFwcC5sYWJlbCA9PT0gbGFiZWwpIHtcbiAgICAgICRzY29wZS5kYXRhLmFjdGl2ZUFwcCA9IG51bGw7XG4gICAgfVxuICB9KTtcblxuICAkc2NvcGUucmVmcmVzaEFwcHMgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuZXJyb3IgPSAnJztcbiAgICAkc2NvcGUucmVxdWVzdGluZyA9IHRydWU7XG4gICAgJHNjb3BlLnRhYnMgPSBbXTtcblxuICAgIGlmICgkc3RhdGVQYXJhbXMuYXBwSWQpe1xuICAgICAgQXBwcy5nZXRNZXRhKCRzdGF0ZVBhcmFtcy5hcHBJZClcbiAgICAgICAgLnRoZW4oXG4gICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhWzBdLnZhbHVlLmRlZmluaXRpb24uYXZhaWxhYmxlKXtcbiAgICAgICAgICAgICAgICAkc2NvcGUubGF1bmNoQXBwKHJlc3BvbnNlLmRhdGFbMF0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvYXN0ci53YXJuaW5nKCR0cmFuc2xhdGUuaW5zdGFudCgnZXJyb3JfYXBwX2Rpc2FibGVkJykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0b2FzdHIud2FybmluZygkdHJhbnNsYXRlLmluc3RhbnQoJ2Vycm9yX2FwcF9ydW4nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICB0b2FzdHIud2FybmluZygkdHJhbnNsYXRlLmluc3RhbnQoJ2Vycm9yX2FwcF9ydW4nKSk7XG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgfVxuXG4gICAgJHNjb3BlLmFkZERlZmF1bHRUYWJzKHsnbmFtZSc6ICR0cmFuc2xhdGUuaW5zdGFudCgnYXBwc19tZXRhZGF0YV9uYW1lJyl9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAkc2NvcGUuYWRkVXNlclRhYnMoeyduYW1lJzogJHRyYW5zbGF0ZS5pbnN0YW50KCdhcHBzX21ldGFkYXRhX2xpc3RfbmFtZScpfSlcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICRzY29wZS50YWJzLnB1c2goXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGl0bGU6ICdQcml2YXRlJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICRzY29wZS5zaW1wbGVMaXN0Lmxpc3RzWydQcml2YXRlJ11cbiAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgJHNjb3BlLnRhYnMucHVzaChcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogJ1B1YmxpYycsXG4gICAgICAgICAgICBjb250ZW50OiAkc2NvcGUuc2ltcGxlTGlzdC5saXN0c1snUHVibGljJ11cbiAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zaW1wbGVMaXN0Lmxpc3RzLCBmdW5jdGlvbihsaXN0LCBrZXkpe1xuICAgICAgICAgIGlmIChrZXkgIT09ICdQdWJsaWMnICYmIGtleSAhPT0gJ1ByaXZhdGUnKSB7XG4gICAgICAgICAgICAkc2NvcGUudGFicy5wdXNoKHtcbiAgICAgICAgICAgICAgdGl0bGU6IGtleSxcbiAgICAgICAgICAgICAgY29udGVudDogbGlzdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUucmVxdWVzdGluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnJlZnJlc2hBcHBzKCk7XG5cbiAgJHNjb3BlLmxhdW5jaEFwcCA9IGZ1bmN0aW9uKGFwcCkge1xuICAgICRzdGF0ZS5nbyhcbiAgICAgICd0cmF5JyxcbiAgICAgIHthcHBJZDogYXBwLnZhbHVlLmRlZmluaXRpb24uaWR9LFxuICAgICAge25vdGlmeTogZmFsc2V9XG4gICAgKTtcblxuICAgIGlmICghJHNjb3BlLmRhdGEuYWN0aXZlQXBwIHx8ICRzY29wZS5kYXRhLmFjdGl2ZUFwcC52YWx1ZS5kZWZpbml0aW9uLmlkICE9PSBhcHAudmFsdWUuZGVmaW5pdGlvbi5pZCkge1xuICAgICAgJHNjb3BlLmRhdGEuYWN0aXZlQXBwID0gYXBwO1xuICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdsYXVuY2gtYXBwJywgYXBwKTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBcHBsaWNhdGlvblRyYXlDdHJsO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL3dvcmtzcGFjZS9jb250cm9sbGVycy9hcHBsaWNhdGlvbi10cmF5LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///36\n");

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction DataBrowserCtrl($scope, $controller, $rootScope, SystemsService, DataBrowserService, ProjectService) {\n  'ngInject';\n\n  $controller('WorkspacePanelCtrl', { $scope: $scope });\n\n  if ($(window).width() < 992) {\n    $scope.panel.collapsed = true;\n  }\n\n  $scope.data = {\n    loading: false,\n    wants: null,\n    systemList: [],\n    filesListing: null,\n    system: null,\n    dirPath: [],\n    filePath: '',\n    loadingMore: false,\n    reachedEnd: false,\n    page: 0\n  };\n\n  SystemsService.listing().then(function (data) {\n    var mydata_system = _.find(data, { name: 'My Data' });\n    var comdata_system = _.find(data, { name: 'Community Data' });\n    $scope.data.options = [{ label: 'My Data',\n      conf: { system: mydata_system.systemId, path: '' },\n      apiParams: { fileMgr: 'my-data', baseUrl: '/api/data-depot/files' } }, { label: 'Community Data',\n      conf: { system: comdata_system.systemId, path: '' },\n      apiParams: { fileMgr: 'shared', baseUrl: '/api/data-depot/files' } }, { label: 'My Projects',\n      conf: { system: 'projects', path: '' },\n      apiParams: { fileMgr: 'shared', baseUrl: '/api/data-depot/files' } }];\n    $scope.data.cOption = $scope.data.options[0];\n    $scope.dataSourceUpdated();\n  });\n\n  $scope.dataSourceUpdated = function dataSourceUpdated() {\n    $scope.data.busy = true;\n    DataBrowserService.apiParams.fileMgr = $scope.data.cOption.apiParams.fileMgr;\n    DataBrowserService.apiParams.baseUrl = $scope.data.cOption.apiParams.baseUrl;\n    if ($scope.data.cOption.label !== 'My Projects') {\n      $scope.data.listingProjects = false;\n      $scope.data.project = null;\n      DataBrowserService.browse($scope.data.cOption.conf).then(function (listing) {\n        $scope.data.filesListing = listing;\n        if ($scope.data.filesListing.children.length > 0) {\n          $scope.data.filePath = $scope.data.filesListing.path;\n          $scope.data.dirPath = $scope.data.filePath.split('/');\n        }\n        $scope.data.loading = false;\n      }, function (err) {\n        $scope.data.error = 'Unable to list the selected data source: ' + err.statusText;\n        $scope.data.loading = false;\n      });\n    } else {\n      $scope.data.listingProjects = true;\n      ProjectService.list().then(function (projects) {\n        $scope.data.projects = projects;\n        $scope.data.loading = false;\n      });\n    }\n\n    $scope.data.filesListing = null;\n    $scope.data.loading = true;\n    $scope.data.filePath = '';\n    $scope.data.dirPath = [];\n    // DataBrowserService.apiParams.fileMgr = $scope.data.system.fileMgr;\n    // DataBrowserService.apiParams.baseUrl = '/api/data-depot/files';\n  };\n\n  $scope.scrollToTop = function () {\n    return;\n  };\n\n  $scope.scrollToBottom = function () {\n    if ($scope.data.loadingMore || $scope.data.reachedEnd) {\n      return;\n    }\n    $scope.data.loadingMore = true;\n    if ($scope.data.filesListing && $scope.data.filesListing.children && $scope.data.filesListing.children.length < 95) {\n      $scope.data.reachedEnd = true;\n      return;\n    }\n    $scope.data.page += 1;\n    $scope.data.loadingMore = true;\n    DataBrowserService.browsePage({ system: $scope.data.filesListing.system,\n      path: $scope.data.filesListing.path,\n      page: $scope.data.page }).then(function (listing) {\n      $scope.data.filesListing = listing;\n      $scope.data.filePath = $scope.data.filesListing.path;\n      $scope.data.dirPath = $scope.data.filePath.split('/');\n      $scope.data.loadingMore = false;\n      if (listing.children.length < 95) {\n        $scope.data.reachedEnd = true;\n      }\n      $scope.data.loading = false;\n    }, function (err) {\n      $scope.data.loadingMore = false;\n      $scope.data.reachedEnd = true;\n      $scope.data.loading = false;\n    });\n  };\n\n  $scope.browseTrail = function ($event, index) {\n    $event.stopPropagation();\n    $event.preventDefault();\n    if ($scope.data.dirPath.length <= index + 1) {\n      return;\n    }\n    $scope.browseFile({ type: 'dir',\n      system: $scope.data.filesListing.system,\n      resource: $scope.data.filesListing.resource,\n      path: $scope.data.dirPath.slice(0, index + 1).join('/') });\n  };\n\n  $scope.selectProject = function (project) {\n    $scope.data.project = project;\n    DataBrowserService.apiParams.fileMgr = 'shared';\n    DataBrowserService.apiParams.baseUrl = '/api/data-depot/files';\n    $scope.data.loading = true;\n    DataBrowserService.browse({ system: project.id, path: '' }).then(function (listing) {\n      $scope.data.listingProjects = false;\n      $scope.data.loading = false;\n      $scope.data.filesListing = listing;\n    });\n  };\n\n  $scope.browseFile = function (file) {\n    if (file.type !== 'folder' && file.type !== 'dir') {\n      return;\n    }\n    $scope.data.filesListing = null;\n    $scope.data.loading = true;\n    DataBrowserService.browse(file).then(function (listing) {\n      $scope.data.filesListing = listing;\n      if ($scope.data.filesListing.children.length > 0) {\n        $scope.data.filePath = $scope.data.filesListing.path;\n        $scope.data.dirPath = $scope.data.filePath.split('/');\n        $scope.browser.listing = $scope.data.filesListing;\n      }\n      $scope.data.loading = false;\n    }, function (err) {\n      logger.log(err);\n      $scope.data.error = 'Unable to list the selected data source: ' + error.statusText;\n      $scope.data.loading = false;\n    });\n  };\n\n  $scope.chooseFile = function (file) {\n    if ($scope.data.wants) {\n      $rootScope.$broadcast('provides-file', { requestKey: $scope.data.wants.requestKey, file: file });\n    }\n  };\n\n  $rootScope.$on('wants-file', function ($event, wantArgs) {\n    $scope.data.wants = wantArgs;\n    if ($scope.panel.collapsed) {\n      $scope.data.wants.wasCollapsed = true;\n      $scope.panel.collapsed = false;\n    }\n  });\n\n  $rootScope.$on('cancel-wants-file', function ($event, args) {\n    if ($scope.data.wants && $scope.data.wants.requestKey === args.requestKey) {\n      if ($scope.data.wants.wasCollapsed) {\n        $scope.panel.collapsed = true;\n      }\n      $scope.data.wants = null;\n    }\n  });\n}\n\nexports.default = DataBrowserCtrl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL2NvbnRyb2xsZXJzL2RhdGEtYnJvd3Nlci5qcz8zY2U4Il0sIm5hbWVzIjpbIkRhdGFCcm93c2VyQ3RybCIsIiRzY29wZSIsIiRjb250cm9sbGVyIiwiJHJvb3RTY29wZSIsIlN5c3RlbXNTZXJ2aWNlIiwiRGF0YUJyb3dzZXJTZXJ2aWNlIiwiUHJvamVjdFNlcnZpY2UiLCIkIiwid2luZG93Iiwid2lkdGgiLCJwYW5lbCIsImNvbGxhcHNlZCIsImRhdGEiLCJsb2FkaW5nIiwid2FudHMiLCJzeXN0ZW1MaXN0IiwiZmlsZXNMaXN0aW5nIiwic3lzdGVtIiwiZGlyUGF0aCIsImZpbGVQYXRoIiwibG9hZGluZ01vcmUiLCJyZWFjaGVkRW5kIiwicGFnZSIsImxpc3RpbmciLCJ0aGVuIiwibXlkYXRhX3N5c3RlbSIsIl8iLCJmaW5kIiwibmFtZSIsImNvbWRhdGFfc3lzdGVtIiwib3B0aW9ucyIsImxhYmVsIiwiY29uZiIsInN5c3RlbUlkIiwicGF0aCIsImFwaVBhcmFtcyIsImZpbGVNZ3IiLCJiYXNlVXJsIiwiY09wdGlvbiIsImRhdGFTb3VyY2VVcGRhdGVkIiwiYnVzeSIsImxpc3RpbmdQcm9qZWN0cyIsInByb2plY3QiLCJicm93c2UiLCJjaGlsZHJlbiIsImxlbmd0aCIsInNwbGl0IiwiZXJyIiwiZXJyb3IiLCJzdGF0dXNUZXh0IiwibGlzdCIsInByb2plY3RzIiwic2Nyb2xsVG9Ub3AiLCJzY3JvbGxUb0JvdHRvbSIsImJyb3dzZVBhZ2UiLCJicm93c2VUcmFpbCIsIiRldmVudCIsImluZGV4Iiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJicm93c2VGaWxlIiwidHlwZSIsInJlc291cmNlIiwic2xpY2UiLCJqb2luIiwic2VsZWN0UHJvamVjdCIsImlkIiwiZmlsZSIsImJyb3dzZXIiLCJsb2dnZXIiLCJsb2ciLCJjaG9vc2VGaWxlIiwiJGJyb2FkY2FzdCIsInJlcXVlc3RLZXkiLCIkb24iLCJ3YW50QXJncyIsIndhc0NvbGxhcHNlZCIsImFyZ3MiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLFNBQVNBLGVBQVQsQ0FBeUJDLE1BQXpCLEVBQWlDQyxXQUFqQyxFQUE4Q0MsVUFBOUMsRUFBMERDLGNBQTFELEVBQTBFQyxrQkFBMUUsRUFBOEZDLGNBQTlGLEVBQThHO0FBQzVHOztBQUNBSixjQUFZLG9CQUFaLEVBQWtDLEVBQUNELFFBQVFBLE1BQVQsRUFBbEM7O0FBRUEsTUFBSU0sRUFBRUMsTUFBRixFQUFVQyxLQUFWLEtBQW9CLEdBQXhCLEVBQTZCO0FBQzNCUixXQUFPUyxLQUFQLENBQWFDLFNBQWIsR0FBeUIsSUFBekI7QUFDRDs7QUFFRFYsU0FBT1csSUFBUCxHQUFjO0FBQ1pDLGFBQVMsS0FERztBQUVaQyxXQUFPLElBRks7QUFHWkMsZ0JBQVksRUFIQTtBQUlaQyxrQkFBYyxJQUpGO0FBS1pDLFlBQVEsSUFMSTtBQU1aQyxhQUFTLEVBTkc7QUFPWkMsY0FBVSxFQVBFO0FBUVpDLGlCQUFhLEtBUkQ7QUFTWkMsZ0JBQVksS0FUQTtBQVVaQyxVQUFNO0FBVk0sR0FBZDs7QUFhQWxCLGlCQUFlbUIsT0FBZixHQUF5QkMsSUFBekIsQ0FBOEIsVUFBVVosSUFBVixFQUFlO0FBQzNDLFFBQUlhLGdCQUFnQkMsRUFBRUMsSUFBRixDQUFPZixJQUFQLEVBQWEsRUFBQ2dCLE1BQU0sU0FBUCxFQUFiLENBQXBCO0FBQ0EsUUFBSUMsaUJBQWlCSCxFQUFFQyxJQUFGLENBQU9mLElBQVAsRUFBYSxFQUFDZ0IsTUFBTSxnQkFBUCxFQUFiLENBQXJCO0FBQ0EzQixXQUFPVyxJQUFQLENBQVlrQixPQUFaLEdBQXNCLENBQ3BCLEVBQUNDLE9BQU8sU0FBUjtBQUNDQyxZQUFNLEVBQUNmLFFBQVFRLGNBQWNRLFFBQXZCLEVBQWlDQyxNQUFNLEVBQXZDLEVBRFA7QUFFQ0MsaUJBQVcsRUFBQ0MsU0FBUyxTQUFWLEVBQXFCQyxTQUFTLHVC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QUFxQmIsT0FBT1csSUFBUCxDQUFZRSxLQUFaLENBQWtCMkQsVUFBbEIsS0FBaUNJLEtBQUtKLFVBQS9ELEVBQTJFO0FBQ3pFLFVBQUl4RSxPQUFPVyxJQUFQLENBQVlFLEtBQVosQ0FBa0I4RCxZQUF0QixFQUFvQztBQUNsQzNFLGVBQU9TLEtBQVAsQ0FBYUMsU0FBYixHQUF5QixJQUF6QjtBQUNEO0FBQ0RWLGFBQU9XLElBQVAsQ0FBWUUsS0FBWixHQUFvQixJQUFwQjtBQUNEO0FBQ0YsR0FQRDtBQVNEOztrQkFFY2QsZSIsImZpbGUiOiIzNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuZnVuY3Rpb24gRGF0YUJyb3dzZXJDdHJsKCRzY29wZSwgJGNvbnRyb2xsZXIsICRyb290U2NvcGUsIFN5c3RlbXNTZXJ2aWNlLCBEYXRhQnJvd3NlclNlcnZpY2UsIFByb2plY3RTZXJ2aWNlKSB7XG4gICduZ0luamVjdCc7XG4gICRjb250cm9sbGVyKCdXb3Jrc3BhY2VQYW5lbEN0cmwnLCB7JHNjb3BlOiAkc2NvcGV9KTtcblxuICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA5OTIpIHtcbiAgICAkc2NvcGUucGFuZWwuY29sbGFwc2VkID0gdHJ1ZTtcbiAgfVxuXG4gICRzY29wZS5kYXRhID0ge1xuICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgIHdhbnRzOiBudWxsLFxuICAgIHN5c3RlbUxpc3Q6IFtdLFxuICAgIGZpbGVzTGlzdGluZzogbnVsbCxcbiAgICBzeXN0ZW06IG51bGwsXG4gICAgZGlyUGF0aDogW10sXG4gICAgZmlsZVBhdGg6ICcnLFxuICAgIGxvYWRpbmdNb3JlOiBmYWxzZSxcbiAgICByZWFjaGVkRW5kOiBmYWxzZSxcbiAgICBwYWdlOiAwXG4gIH07XG5cbiAgU3lzdGVtc1NlcnZpY2UubGlzdGluZygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpe1xuICAgIHZhciBteWRhdGFfc3lzdGVtID0gXy5maW5kKGRhdGEsIHtuYW1lOiAnTXkgRGF0YSd9KTtcbiAgICB2YXIgY29tZGF0YV9zeXN0ZW0gPSBfLmZpbmQoZGF0YSwge25hbWU6ICdDb21tdW5pdHkgRGF0YSd9KTtcbiAgICAkc2NvcGUuZGF0YS5vcHRpb25zID0gW1xuICAgICAge2xhYmVsOiAnTXkgRGF0YScsXG4gICAgICAgY29uZjoge3N5c3RlbTogbXlkYXRhX3N5c3RlbS5zeXN0ZW1JZCwgcGF0aDogJyd9LFxuICAgICAgIGFwaVBhcmFtczoge2ZpbGVNZ3I6ICdteS1kYXRhJywgYmFzZVVybDogJy9hcGkvZGF0YS1kZXBvdC9maWxlcyd9fSxcbiAgICAgIHtsYWJlbDogJ0NvbW11bml0eSBEYXRhJyxcbiAgICAgICAgY29uZjoge3N5c3RlbTogY29tZGF0YV9zeXN0ZW0uc3lzdGVtSWQsIHBhdGg6ICcnfSxcbiAgICAgICAgYXBpUGFyYW1zOiB7ZmlsZU1ncjogJ3NoYXJlZCcsIGJhc2VVcmw6ICcvYXBpL2RhdGEtZGVwb3QvZmlsZXMnfX0sXG4gICAgICB7bGFiZWw6ICdNeSBQcm9qZWN0cycsXG4gICAgICAgY29uZjoge3N5c3RlbTogJ3Byb2plY3RzJywgcGF0aDogJyd9LFxuICAgICAgIGFwaVBhcmFtczoge2ZpbGVNZ3I6ICdzaGFyZWQnLCBiYXNlVXJsOiAnL2FwaS9kYXRhLWRlcG90L2ZpbGVzJ319LFxuICAgIF07XG4gICAgJHNjb3BlLmRhdGEuY09wdGlvbiA9ICRzY29wZS5kYXRhLm9wdGlvbnNbMF07XG4gICAgJHNjb3BlLmRhdGFTb3VyY2VVcGRhdGVkKCk7XG4gIH0pO1xuXG4gICRzY29wZS5kYXRhU291cmNlVXBkYXRlZCA9IGZ1bmN0aW9uIGRhdGFTb3VyY2VVcGRhdGVkKCkge1xuICAgICRzY29wZS5kYXRhLmJ1c3kgPSB0cnVlO1xuICAgIERhdGFCcm93c2VyU2VydmljZS5hcGlQYXJhbXMuZmlsZU1nciA9ICRzY29wZS5kYXRhLmNPcHRpb24uYXBpUGFyYW1zLmZpbGVNZ3I7XG4gICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmFwaVBhcmFtcy5iYXNlVXJsID0gJHNjb3BlLmRhdGEuY09wdGlvbi5hcGlQYXJhbXMuYmFzZVVybDtcbiAgICBpZiAoJHNjb3BlLmRhdGEuY09wdGlvbi5sYWJlbCAhPT0gJ015IFByb2plY3RzJyl7XG4gICAgICAkc2NvcGUuZGF0YS5saXN0aW5nUHJvamVjdHMgPSBmYWxzZTtcbiAgICAgICRzY29wZS5kYXRhLnByb2plY3QgPSBudWxsO1xuICAgICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmJyb3dzZSgkc2NvcGUuZGF0YS5jT3B0aW9uLmNvbmYpLnRoZW4oZnVuY3Rpb24obGlzdGluZykge1xuICAgICAgICAkc2NvcGUuZGF0YS5maWxlc0xpc3RpbmcgPSBsaXN0aW5nO1xuICAgICAgICBpZiAoJHNjb3BlLmRhdGEuZmlsZXNMaXN0aW5nLmNoaWxkcmVuLmxlbmd0aCA+IDApe1xuICAgICAgICAgICRzY29wZS5kYXRhLmZpbGVQYXRoID0gJHNjb3BlLmRhdGEuZmlsZXNMaXN0aW5nLnBhdGg7XG4gICAgICAgICAgJHNjb3BlLmRhdGEuZGlyUGF0aCA9ICRzY29wZS5kYXRhLmZpbGVQYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLmRhdGEubG9hZGluZyA9IGZhbHNlO1xuICAgICAgfSwgZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgJHNjb3BlLmRhdGEuZXJyb3IgPSAnVW5hYmxlIHRvIGxpc3QgdGhlIHNlbGVjdGVkIGRhdGEgc291cmNlOiAnICsgZXJyLnN0YXR1c1RleHQ7XG4gICAgICAgICRzY29wZS5kYXRhLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc2NvcGUuZGF0YS5saXN0aW5nUHJvamVjdHMgPSB0cnVlO1xuICAgICAgUHJvamVjdFNlcnZpY2UubGlzdCgpXG4gICAgICAgLnRoZW4oZnVuY3Rpb24ocHJvamVjdHMpe1xuICAgICAgICAgJHNjb3BlLmRhdGEucHJvamVjdHMgPSBwcm9qZWN0cztcbiAgICAgICAgICRzY29wZS5kYXRhLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgJHNjb3BlLmRhdGEuZmlsZXNMaXN0aW5nID0gbnVsbDtcbiAgICAkc2NvcGUuZGF0YS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAkc2NvcGUuZGF0YS5maWxlUGF0aCA9ICcnO1xuICAgICRzY29wZS5kYXRhLmRpclBhdGggPSBbXTtcbiAgICAvLyBEYXRhQnJvd3NlclNlcnZpY2UuYXBpUGFyYW1zLmZpbGVNZ3IgPSAkc2NvcGUuZGF0YS5zeXN0ZW0uZmlsZU1ncjtcbiAgICAvLyBEYXRhQnJvd3NlclNlcnZpY2UuYXBpUGFyYW1zLmJhc2VVcmwgPSAnL2FwaS9kYXRhLWRlcG90L2ZpbGVzJztcblxuICB9O1xuXG4gICRzY29wZS5zY3JvbGxUb1RvcCA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuO1xuICB9O1xuXG4gICRzY29wZS5zY3JvbGxUb0JvdHRvbSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYgKCRzY29wZS5kYXRhLmxvYWRpbmdNb3JlIHx8ICRzY29wZS5kYXRhLnJlYWNoZWRFbmQpe1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAkc2NvcGUuZGF0YS5sb2FkaW5nTW9yZSA9IHRydWU7XG4gICAgaWYgKCRzY29wZS5kYXRhLmZpbGVzTGlzdGluZyAmJiAkc2NvcGUuZGF0YS5maWxlc0xpc3RpbmcuY2hpbGRyZW4gJiZcbiAgICAgICAgJHNjb3BlLmRhdGEuZmlsZXNMaXN0aW5nLmNoaWxkcmVuLmxlbmd0aCA8IDk1KXtcbiAgICAgICRzY29wZS5kYXRhLnJlYWNoZWRFbmQgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAkc2NvcGUuZGF0YS5wYWdlICs9IDE7XG4gICAgJHNjb3BlLmRhdGEubG9hZGluZ01vcmUgPSB0cnVlO1xuICAgIERhdGFCcm93c2VyU2VydmljZS5icm93c2VQYWdlKFxuICAgICAgICAgICAgICAge3N5c3RlbTogJHNjb3BlLmRhdGEuZmlsZXNMaXN0aW5nLnN5c3RlbSxcbiAgICAgICAgICAgICAgICBwYXRoOiAkc2NvcGUuZGF0YS5maWxlc0xpc3RpbmcucGF0aCxcbiAgICAgICAgICAgICAgICBwYWdlOiAkc2NvcGUuZGF0YS5wYWdlfSlcbiAgICAudGhlbihmdW5jdGlvbihsaXN0aW5nKXtcbiAgICAgICAgJHNjb3BlLmRhdGEuZmlsZXNMaXN0aW5nID0gbGlzdGluZztcbiAgICAgICAgJHNjb3BlLmRhdGEuZmlsZVBhdGggPSAkc2NvcGUuZGF0YS5maWxlc0xpc3RpbmcucGF0aDtcbiAgICAgICAgJHNjb3BlLmRhdGEuZGlyUGF0aCA9ICRzY29wZS5kYXRhLmZpbGVQYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgICRzY29wZS5kYXRhLmxvYWRpbmdNb3JlID0gZmFsc2U7XG4gICAgICAgIGlmIChsaXN0aW5nLmNoaWxkcmVuLmxlbmd0aCA8IDk1KSB7XG4gICAgICAgICAgJHNjb3BlLmRhdGEucmVhY2hlZEVuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLmRhdGEubG9hZGluZyA9IGZhbHNlO1xuICAgICAgfSwgZnVuY3Rpb24gKGVycil7XG4gICAgICAgICAgICRzY29wZS5kYXRhLmxvYWRpbmdNb3JlID0gZmFsc2U7XG4gICAgICAgICAgICRzY29wZS5kYXRhLnJlYWNoZWRFbmQgPSB0cnVlO1xuICAgICAgICAgICAkc2NvcGUuZGF0YS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuYnJvd3NlVHJhaWwgPSBmdW5jdGlvbigkZXZlbnQsIGluZGV4KXtcbiAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCRzY29wZS5kYXRhLmRpclBhdGgubGVuZ3RoIDw9IGluZGV4KzEpe1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAkc2NvcGUuYnJvd3NlRmlsZSh7dHlwZTogJ2RpcicsXG4gICAgICAgICAgICAgICAgICAgICAgIHN5c3RlbTogJHNjb3BlLmRhdGEuZmlsZXNMaXN0aW5nLnN5c3RlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2U6ICRzY29wZS5kYXRhLmZpbGVzTGlzdGluZy5yZXNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJHNjb3BlLmRhdGEuZGlyUGF0aC5zbGljZSgwLCBpbmRleCsxKS5qb2luKCcvJyl9KTtcbiAgfTtcblxuICAkc2NvcGUuc2VsZWN0UHJvamVjdCA9IGZ1bmN0aW9uIChwcm9qZWN0KSB7XG4gICAgJHNjb3BlLmRhdGEucHJvamVjdCA9IHByb2plY3Q7XG4gICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmFwaVBhcmFtcy5maWxlTWdyID0gJ3NoYXJlZCc7XG4gICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmFwaVBhcmFtcy5iYXNlVXJsID0gJy9hcGkvZGF0YS1kZXBvdC9maWxlcyc7XG4gICAgJHNjb3BlLmRhdGEubG9hZGluZyA9IHRydWU7XG4gICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmJyb3dzZSh7c3lzdGVtOiBwcm9qZWN0LmlkLCBwYXRoOiAnJ30pLnRoZW4oZnVuY3Rpb24gKGxpc3RpbmcpIHtcbiAgICAgICRzY29wZS5kYXRhLmxpc3RpbmdQcm9qZWN0cyA9IGZhbHNlO1xuICAgICAgJHNjb3BlLmRhdGEubG9hZGluZyA9IGZhbHNlO1xuICAgICAgJHNjb3BlLmRhdGEuZmlsZXNMaXN0aW5nID0gbGlzdGluZztcbiAgICB9KTtcbiAgfTtcblxuXG4gICRzY29wZS5icm93c2VGaWxlID0gZnVuY3Rpb24oZmlsZSl7XG4gICAgaWYgKGZpbGUudHlwZSAhPT0gJ2ZvbGRlcicgJiYgZmlsZS50eXBlICE9PSAnZGlyJyl7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgICRzY29wZS5kYXRhLmZpbGVzTGlzdGluZyA9IG51bGw7XG4gICAgJHNjb3BlLmRhdGEubG9hZGluZyA9IHRydWU7XG4gICAgRGF0YUJyb3dzZXJTZXJ2aWNlLmJyb3dzZShmaWxlKVxuICAgICAgLnRoZW4oZnVuY3Rpb24obGlzdGluZykge1xuICAgICAgICAkc2NvcGUuZGF0YS5maWxlc0xpc3RpbmcgPSBsaXN0aW5nO1xuICAgICAgICBpZiAoJHNjb3BlLmRhdGEuZmlsZXNMaXN0aW5nLmNoaWxkcmVuLmxlbmd0aCA+IDApe1xuICAgICAgICAgICRzY29wZS5kYXRhLmZpbGVQYXRoID0gJHNjb3BlLmRhdGEuZmlsZXNMaXN0aW5nLnBhdGg7XG4gICAgICAgICAgJHNjb3BlLmRhdGEuZGlyUGF0aCA9ICRzY29wZS5kYXRhLmZpbGVQYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgICAgJHNjb3BlLmJyb3dzZXIubGlzdGluZyA9ICRzY29wZS5kYXRhLmZpbGVzTGlzdGluZztcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuZGF0YS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICB9LCBmdW5jdGlvbihlcnIpe1xuICAgICAgICBsb2dnZXIubG9nKGVycik7XG4gICAgICAgICRzY29wZS5kYXRhLmVycm9yID0gJ1VuYWJsZSB0byBsaXN0IHRoZSBzZWxlY3RlZCBkYXRhIHNvdXJjZTogJyArIGVycm9yLnN0YXR1c1RleHQ7XG4gICAgICAgICRzY29wZS5kYXRhLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5jaG9vc2VGaWxlID0gZnVuY3Rpb24oZmlsZSkge1xuICAgICBpZiAoJHNjb3BlLmRhdGEud2FudHMpIHtcbiAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3Byb3ZpZGVzLWZpbGUnLCB7cmVxdWVzdEtleTogJHNjb3BlLmRhdGEud2FudHMucmVxdWVzdEtleSwgZmlsZTogZmlsZX0pO1xuICAgIH1cbiAgfTtcblxuICAkcm9vdFNjb3BlLiRvbignd2FudHMtZmlsZScsIGZ1bmN0aW9uKCRldmVudCwgd2FudEFyZ3MpIHtcbiAgICAkc2NvcGUuZGF0YS53YW50cyA9IHdhbnRBcmdzO1xuICAgIGlmICgkc2NvcGUucGFuZWwuY29sbGFwc2VkKSB7XG4gICAgICAkc2NvcGUuZGF0YS53YW50cy53YXNDb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgJHNjb3BlLnBhbmVsLmNvbGxhcHNlZCA9IGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgJHJvb3RTY29wZS4kb24oJ2NhbmNlbC13YW50cy1maWxlJywgZnVuY3Rpb24oJGV2ZW50LCBhcmdzKSB7XG4gICAgaWYgKCRzY29wZS5kYXRhLndhbnRzICYmICRzY29wZS5kYXRhLndhbnRzLnJlcXVlc3RLZXkgPT09IGFyZ3MucmVxdWVzdEtleSkge1xuICAgICAgaWYgKCRzY29wZS5kYXRhLndhbnRzLndhc0NvbGxhcHNlZCkge1xuICAgICAgICAkc2NvcGUucGFuZWwuY29sbGFwc2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5kYXRhLndhbnRzID0gbnVsbDtcbiAgICB9XG4gIH0pO1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFCcm93c2VyQ3RybDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BvcnRhbC9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci93b3Jrc3BhY2UvY29udHJvbGxlcnMvZGF0YS1icm93c2VyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///37\n");

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _applicationForm = __webpack_require__(35);\n\nvar _applicationForm2 = _interopRequireDefault(_applicationForm);\n\nvar _applicationTray = __webpack_require__(36);\n\nvar _applicationTray2 = _interopRequireDefault(_applicationTray);\n\nvar _dataBrowser = __webpack_require__(37);\n\nvar _dataBrowser2 = _interopRequireDefault(_dataBrowser);\n\nvar _jobsStatus = __webpack_require__(39);\n\nvar _workspacePanel = __webpack_require__(40);\n\nvar _workspacePanel2 = _interopRequireDefault(_workspacePanel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mod = angular.module('portal.workspace.controllers', []);\n\nmod.controller('ApplicationFormCtrl', _applicationForm2.default);\nmod.controller('ApplicationTrayCtrl', _applicationTray2.default);\nmod.controller('DataBrowserCtrl', _dataBrowser2.default);\nmod.controller('JobDetailsModalCtrl', _jobsStatus.JobDetailsModalCtrl);\nmod.controller('WorkspacePanelCtrl', _workspacePanel2.default);\nmod.controller('JobsStatusCtrl', _jobsStatus.JobsStatusCtrl);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL2NvbnRyb2xsZXJzL2luZGV4LmpzP2I3NDAiXSwibmFtZXMiOlsibW9kIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7O0FBRUE7Ozs7OztBQUdBLElBQUlBLE1BQU1DLFFBQVFDLE1BQVIsQ0FBZSw4QkFBZixFQUErQyxFQUEvQyxDQUFWOztBQUVBRixJQUFJRyxVQUFKLENBQWUscUJBQWY7QUFDQUgsSUFBSUcsVUFBSixDQUFlLHFCQUFmO0FBQ0FILElBQUlHLFVBQUosQ0FBZSxpQkFBZjtBQUNBSCxJQUFJRyxVQUFKLENBQWUscUJBQWY7QUFDQUgsSUFBSUcsVUFBSixDQUFlLG9CQUFmO0FBQ0FILElBQUlHLFVBQUosQ0FBZSxnQkFBZiIsImZpbGUiOiIzOC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBcHBsaWNhdGlvbkZvcm1DdHJsIGZyb20gJy4vYXBwbGljYXRpb24tZm9ybSc7XG5pbXBvcnQgQXBwbGljYXRpb25UcmF5Q3RybCBmcm9tICcuL2FwcGxpY2F0aW9uLXRyYXknO1xuaW1wb3J0IERhdGFCcm93c2VyQ3RybCBmcm9tICcuL2RhdGEtYnJvd3Nlcic7XG5pbXBvcnQge0pvYnNTdGF0dXNDdHJsfSBmcm9tICcuL2pvYnMtc3RhdHVzJztcbmltcG9ydCB7Sm9iRGV0YWlsc01vZGFsQ3RybH0gZnJvbSAnLi9qb2JzLXN0YXR1cyc7XG5pbXBvcnQgV29ya3NwYWNlUGFuZWxDdHJsIGZyb20gJy4vd29ya3NwYWNlLXBhbmVsJztcblxuXG5sZXQgbW9kID0gYW5ndWxhci5tb2R1bGUoJ3BvcnRhbC53b3Jrc3BhY2UuY29udHJvbGxlcnMnLCBbXSk7XG5cbm1vZC5jb250cm9sbGVyKCdBcHBsaWNhdGlvbkZvcm1DdHJsJywgQXBwbGljYXRpb25Gb3JtQ3RybCk7XG5tb2QuY29udHJvbGxlcignQXBwbGljYXRpb25UcmF5Q3RybCcsIEFwcGxpY2F0aW9uVHJheUN0cmwpO1xubW9kLmNvbnRyb2xsZXIoJ0RhdGFCcm93c2VyQ3RybCcsIERhdGFCcm93c2VyQ3RybCk7XG5tb2QuY29udHJvbGxlcignSm9iRGV0YWlsc01vZGFsQ3RybCcsIEpvYkRldGFpbHNNb2RhbEN0cmwpO1xubW9kLmNvbnRyb2xsZXIoJ1dvcmtzcGFjZVBhbmVsQ3RybCcsIFdvcmtzcGFjZVBhbmVsQ3RybCk7XG5tb2QuY29udHJvbGxlcignSm9ic1N0YXR1c0N0cmwnLCBKb2JzU3RhdHVzQ3RybCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL2NvbnRyb2xsZXJzL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///38\n");

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction JobsStatusCtrl($scope, $controller, $rootScope, $uibModal, Jobs) {\n  'ngInject';\n  // NotificationService.processors.vnc = {\n  //   'process': function notifyProcessor(msg){\n  //     if('event_type' in msg && msg.event_type === 'VNC') {\n  //       $uibModal.open({\n  //         templateUrl: 'local/vncjob-details-modal.html',\n  //         controller: 'VNCJobDetailsModalCtrl',\n  //         scope: $scope,\n  //         resolve: {\n  //           msg: msg\n  //         }\n  //       });\n  //     }\n  //     else {\n  //       for (var i=0; i < $scope.data.jobs.length; i++){\n  //           if ($scope.data.jobs[i]['id'] == msg.extra.id) {\n  //             $scope.data.jobs[i]['status'] = msg.extra.status;\n  //             $scope.$apply();\n  //             break;\n  //           }\n  //       }\n  //     }\n  //     return msg.extra;\n  //   },\n  //   // 'renderLink': function renderLink(msg){\n  //   //   logger.log('rendering link: ', msg);\n  //   //   return msg.extra['target_path'] // this will only be present when indexing is complete\n  //   // }\n  // };\n\n  $controller('WorkspacePanelCtrl', { $scope: $scope });\n  $scope.data = {\n    hasMoreJobs: true,\n    limit: 10\n  };\n\n  $scope.jobDetails = function (job) {\n    Jobs.get(job.id).then(function (resp) {\n      $scope.data.interactive = false;\n      if (resp.status === 'RUNNING' && resp._embedded.metadata) {\n        for (var i = 0; i < resp._embedded.metadata.length; i++) {\n          if (resp._embedded.metadata[i].name === 'interactiveJobDetails') {\n            var meta = resp._embedded.metadata[i];\n            $scope.data.interactive = true;\n            $scope.data.connection_address = meta.value.extra.target_uri;\n            break;\n          }\n        }\n      }\n\n      $uibModal.open({\n        templateUrl: '/static/portal/scripts/angular/workspace/templates/job-details-modal.html',\n        controller: 'JobDetailsModalCtrl',\n        scope: $scope,\n        resolve: {\n          job: resp\n        }\n      });\n    });\n  };\n\n  $scope.refresh = function () {\n    $scope.data.loading = true;\n    Jobs.list({ limit: $scope.data.limit }).then(function (resp) {\n      $scope.data.loading = false;\n      $scope.data.jobs = resp;\n    });\n  };\n  $scope.refresh();\n\n  $scope.loadMore = function () {\n    $scope.data.limit += 10;\n    $scope.refresh();\n  };\n\n  $scope.$on('job-submitted', function (e, data) {\n    $scope.refresh();\n  });\n\n  $scope.$on('jobs-refresh', function (e, data) {\n    $scope.refresh();\n  });\n\n  /*\n   * Receives the webhook notification from the vnc-type job and opens the\n   * modal dialog in the workspace letting the user know their job is ready\n   * to connect to.\n   */\n  // $scope.$on('ds.wsBus:default', function update_job(e, msg){\n  // $scope.$on('ds.wsBus:notify', function update_job(e, msg){\n  //   if('event_type' in msg && msg.event_type === 'VNC') {\n  //     $uibModal.open({\n  //       templateUrl: 'local/vncjob-details-modal.html',\n  //       controller: 'VNCJobDetailsModalCtrl',\n  //       scope: $scope,\n  //       resolve: {\n  //         msg: msg\n  //       }\n  //     });\n  //   }\n  //   else {\n  //     for (var i=0; i < $scope.data.jobs.length; i++){\n  //         if ($scope.data.jobs[i]['id'] == msg.extra.id) {\n  //           $scope.data.jobs[i]['status'] = msg.extra.status;\n  //           $scope.$apply();\n  //           break;\n  //         }\n  //     }\n  //   }\n  // });\n\n};\n\nfunction JobDetailsModalCtrl($scope, $uibModalInstance, $http, Jobs, job) {\n  'ngInject';\n\n  $scope.job = job;\n  console.log(job);\n\n  $scope.dismiss = function () {\n    $uibModalInstance.dismiss('cancel');\n  };\n\n  $scope.deleteJob = function () {\n    logger.log('deleteJob button clicked with jobId=', job.id);\n    $http.delete('/api/workspace/jobs/', {\n      params: { 'job_id': job.id }\n    }).then(function (response) {\n      $uibModalInstance.dismiss('cancel');\n      $scope.$parent.$broadcast('jobs-refresh');\n    }, function (error) {\n      logger.log('nope!', error); //todo make error handling UI\n    });\n  };\n\n  $scope.cancelJob = function () {\n    logger.log('cancelJob button clicked with jobId=', job.id);\n    $http.post('/api/workspace/jobs/', {\n      'job_id': job.id, params: { 'job_id': job.id, 'action': 'cancel', 'body': '{\"action\":\"stop\"}' }\n    }).then(function (response) {\n      $uibModalInstance.dismiss('cancel');\n      $scope.$parent.$broadcast('jobs-refresh');\n    }, function (error) {\n      logger.log('nope!', error); //todo make error handling UI\n    });\n  };\n};\n\nfunction VNCJobDetailsModalCtrl($scope, $uibModalInstance, msg) {\n  'ngInject';\n\n  $scope.msg = msg;\n  $scope.dismiss = function () {\n    $uibModalInstance.dismiss('cancel');\n  };\n}\n\nexports.JobsStatusCtrl = JobsStatusCtrl;\nexports.JobDetailsModalCtrl = JobDetailsModalCtrl;\nexports.VNCJobDetailsModalCtrl = VNCJobDetailsModalCtrl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL2NvbnRyb2xsZXJzL2pvYnMtc3RhdHVzLmpzPzA5MzUiXSwibmFtZXMiOlsiSm9ic1N0YXR1c0N0cmwiLCIkc2NvcGUiLCIkY29udHJvbGxlciIsIiRyb290U2NvcGUiLCIkdWliTW9kYWwiLCJKb2JzIiwiZGF0YSIsImhhc01vcmVKb2JzIiwibGltaXQiLCJqb2JEZXRhaWxzIiwiam9iIiwiZ2V0IiwiaWQiLCJ0aGVuIiwicmVzcCIsImludGVyYWN0aXZlIiwic3RhdHVzIiwiX2VtYmVkZGVkIiwibWV0YWRhdGEiLCJpIiwibGVuZ3RoIiwibmFtZSIsIm1ldGEiLCJjb25uZWN0aW9uX2FkZHJlc3MiLCJ2YWx1ZSIsImV4dHJhIiwidGFyZ2V0X3VyaSIsIm9wZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJzY29wZSIsInJlc29sdmUiLCJyZWZyZXNoIiwibG9hZGluZyIsImxpc3QiLCJqb2JzIiwibG9hZE1vcmUiLCIkb24iLCJlIiwiSm9iRGV0YWlsc01vZGFsQ3RybCIsIiR1aWJNb2RhbEluc3RhbmNlIiwiJGh0dHAiLCJjb25zb2xlIiwibG9nIiwiZGlzbWlzcyIsImRlbGV0ZUpvYiIsImxvZ2dlciIsImRlbGV0ZSIsInBhcmFtcyIsInJlc3BvbnNlIiwiJHBhcmVudCIsIiRicm9hZGNhc3QiLCJlcnJvciIsImNhbmNlbEpvYiIsInBvc3QiLCJWTkNKb2JEZXRhaWxzTW9kYWxDdHJsIiwibXNnIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDRSxTQUFTQSxjQUFULENBQXdCQyxNQUF4QixFQUFnQ0MsV0FBaEMsRUFBNkNDLFVBQTdDLEVBQXlEQyxTQUF6RCxFQUFvRUMsSUFBcEUsRUFBMEU7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QkFBeEMsRUFBMkRnQixHQUEzRCxFQUFnRTtBQUM5RDs7QUFDQXZELFNBQU91RCxHQUFQLEdBQWFBLEdBQWI7QUFDQXZELFNBQU8yQyxPQUFQLEdBQWlCLFlBQVc7QUFDMUJKLHNCQUFrQkksT0FBbEIsQ0FBMEIsUUFBMUI7QUFDRCxHQUZEO0FBR0Q7O1FBRU81QyxjLEdBQUFBLGM7UUFBZ0J1QyxtQixHQUFBQSxtQjtRQUFxQmdCLHNCLEdBQUFBLHNCIiwiZmlsZSI6IjM5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4gIGZ1bmN0aW9uIEpvYnNTdGF0dXNDdHJsKCRzY29wZSwgJGNvbnRyb2xsZXIsICRyb290U2NvcGUsICR1aWJNb2RhbCwgSm9icykge1xuICAgICduZ0luamVjdCc7XG4gICAgLy8gTm90aWZpY2F0aW9uU2VydmljZS5wcm9jZXNzb3JzLnZuYyA9IHtcbiAgICAvLyAgICdwcm9jZXNzJzogZnVuY3Rpb24gbm90aWZ5UHJvY2Vzc29yKG1zZyl7XG4gICAgLy8gICAgIGlmKCdldmVudF90eXBlJyBpbiBtc2cgJiYgbXNnLmV2ZW50X3R5cGUgPT09ICdWTkMnKSB7XG4gICAgLy8gICAgICAgJHVpYk1vZGFsLm9wZW4oe1xuICAgIC8vICAgICAgICAgdGVtcGxhdGVVcmw6ICdsb2NhbC92bmNqb2ItZGV0YWlscy1tb2RhbC5odG1sJyxcbiAgICAvLyAgICAgICAgIGNvbnRyb2xsZXI6ICdWTkNKb2JEZXRhaWxzTW9kYWxDdHJsJyxcbiAgICAvLyAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgLy8gICAgICAgICByZXNvbHZlOiB7XG4gICAgLy8gICAgICAgICAgIG1zZzogbXNnXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgfSk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgZWxzZSB7XG4gICAgLy8gICAgICAgZm9yICh2YXIgaT0wOyBpIDwgJHNjb3BlLmRhdGEuam9icy5sZW5ndGg7IGkrKyl7XG4gICAgLy8gICAgICAgICAgIGlmICgkc2NvcGUuZGF0YS5qb2JzW2ldWydpZCddID09IG1zZy5leHRyYS5pZCkge1xuICAgIC8vICAgICAgICAgICAgICRzY29wZS5kYXRhLmpvYnNbaV1bJ3N0YXR1cyddID0gbXNnLmV4dHJhLnN0YXR1cztcbiAgICAvLyAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgLy8gICAgICAgICAgICAgYnJlYWs7XG4gICAgLy8gICAgICAgICAgIH1cbiAgICAvLyAgICAgICB9XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgcmV0dXJuIG1zZy5leHRyYTtcbiAgICAvLyAgIH0sXG4gICAgLy8gICAvLyAncmVuZGVyTGluayc6IGZ1bmN0aW9uIHJlbmRlckxpbmsobXNnKXtcbiAgICAvLyAgIC8vICAgbG9nZ2VyLmxvZygncmVuZGVyaW5nIGxpbms6ICcsIG1zZyk7XG4gICAgLy8gICAvLyAgIHJldHVybiBtc2cuZXh0cmFbJ3RhcmdldF9wYXRoJ10gLy8gdGhpcyB3aWxsIG9ubHkgYmUgcHJlc2VudCB3aGVuIGluZGV4aW5nIGlzIGNvbXBsZXRlXG4gICAgLy8gICAvLyB9XG4gICAgLy8gfTtcbiAgICAkY29udHJvbGxlcignV29ya3NwYWNlUGFuZWxDdHJsJywgeyRzY29wZTogJHNjb3BlfSk7XG4gICAgJHNjb3BlLmRhdGEgPSB7XG4gICAgICBoYXNNb3JlSm9iczogdHJ1ZSxcbiAgICAgIGxpbWl0OiAxMFxuICAgIH07XG5cbiAgICAkc2NvcGUuam9iRGV0YWlscyA9IGZ1bmN0aW9uKGpvYikge1xuICAgICAgSm9icy5nZXQoam9iLmlkKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgJHNjb3BlLmRhdGEuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaWYocmVzcC5zdGF0dXMgPT09ICdSVU5OSU5HJyAmJiByZXNwLl9lbWJlZGRlZC5tZXRhZGF0YSkge1xuICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgcmVzcC5fZW1iZWRkZWQubWV0YWRhdGEubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgaWYocmVzcC5fZW1iZWRkZWQubWV0YWRhdGFbaV0ubmFtZSA9PT0gJ2ludGVyYWN0aXZlSm9iRGV0YWlscycpIHtcbiAgICAgICAgICAgICAgdmFyIG1ldGEgPSByZXNwLl9lbWJlZGRlZC5tZXRhZGF0YVtpXTtcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YS5jb25uZWN0aW9uX2FkZHJlc3MgPSBtZXRhLnZhbHVlLmV4dHJhLnRhcmdldF91cmk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci93b3Jrc3BhY2UvdGVtcGxhdGVzL2pvYi1kZXRhaWxzLW1vZGFsLmh0bWwnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdKb2JEZXRhaWxzTW9kYWxDdHJsJyxcbiAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgIGpvYjogcmVzcCxcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuZGF0YS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgIEpvYnMubGlzdCh7bGltaXQ6ICRzY29wZS5kYXRhLmxpbWl0fSkudGhlbihcbiAgICAgICAgZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICRzY29wZS5kYXRhLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAkc2NvcGUuZGF0YS5qb2JzID0gcmVzcDtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAkc2NvcGUucmVmcmVzaCgpO1xuXG4gICAgJHNjb3BlLmxvYWRNb3JlID0gZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuZGF0YS5saW1pdCArPSAxMDtcbiAgICAgICRzY29wZS5yZWZyZXNoKCk7XG4gICAgfTtcblxuICAgICRzY29wZS4kb24oJ2pvYi1zdWJtaXR0ZWQnLCBmdW5jdGlvbihlLCBkYXRhKSB7XG4gICAgICAkc2NvcGUucmVmcmVzaCgpO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLiRvbignam9icy1yZWZyZXNoJywgZnVuY3Rpb24oZSwgZGF0YSkge1xuICAgICAgJHNjb3BlLnJlZnJlc2goKTtcbiAgICB9KTtcblxuICAgIC8qXG4gICAgICogUmVjZWl2ZXMgdGhlIHdlYmhvb2sgbm90aWZpY2F0aW9uIGZyb20gdGhlIHZuYy10eXBlIGpvYiBhbmQgb3BlbnMgdGhlXG4gICAgICogbW9kYWwgZGlhbG9nIGluIHRoZSB3b3Jrc3BhY2UgbGV0dGluZyB0aGUgdXNlciBrbm93IHRoZWlyIGpvYiBpcyByZWFkeVxuICAgICAqIHRvIGNvbm5lY3QgdG8uXG4gICAgICovXG4gICAgLy8gJHNjb3BlLiRvbignZHMud3NCdXM6ZGVmYXVsdCcsIGZ1bmN0aW9uIHVwZGF0ZV9qb2IoZSwgbXNnKXtcbiAgICAvLyAkc2NvcGUuJG9uKCdkcy53c0J1czpub3RpZnknLCBmdW5jdGlvbiB1cGRhdGVfam9iKGUsIG1zZyl7XG4gICAgLy8gICBpZignZXZlbnRfdHlwZScgaW4gbXNnICYmIG1zZy5ldmVudF90eXBlID09PSAnVk5DJykge1xuICAgIC8vICAgICAkdWliTW9kYWwub3Blbih7XG4gICAgLy8gICAgICAgdGVtcGxhdGVVcmw6ICdsb2NhbC92bmNqb2ItZGV0YWlscy1tb2RhbC5odG1sJyxcbiAgICAvLyAgICAgICBjb250cm9sbGVyOiAnVk5DSm9iRGV0YWlsc01vZGFsQ3RybCcsXG4gICAgLy8gICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAvLyAgICAgICByZXNvbHZlOiB7XG4gICAgLy8gICAgICAgICBtc2c6IG1zZ1xuICAgIC8vICAgICAgIH1cbiAgICAvLyAgICAgfSk7XG4gICAgLy8gICB9XG4gICAgLy8gICBlbHNlIHtcbiAgICAvLyAgICAgZm9yICh2YXIgaT0wOyBpIDwgJHNjb3BlLmRhdGEuam9icy5sZW5ndGg7IGkrKyl7XG4gICAgLy8gICAgICAgICBpZiAoJHNjb3BlLmRhdGEuam9ic1tpXVsnaWQnXSA9PSBtc2cuZXh0cmEuaWQpIHtcbiAgICAvLyAgICAgICAgICAgJHNjb3BlLmRhdGEuam9ic1tpXVsnc3RhdHVzJ10gPSBtc2cuZXh0cmEuc3RhdHVzO1xuICAgIC8vICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgLy8gICAgICAgICAgIGJyZWFrO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gICB9XG4gICAgLy8gfSk7XG5cblxuICB9O1xuXG5mdW5jdGlvbiBKb2JEZXRhaWxzTW9kYWxDdHJsKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsICRodHRwLCBKb2JzLCBqb2IpIHtcbiAgJ25nSW5qZWN0JztcbiAgJHNjb3BlLmpvYiA9IGpvYjtcbiAgY29uc29sZS5sb2coam9iKVxuXG4gICRzY29wZS5kaXNtaXNzID0gZnVuY3Rpb24oKSB7XG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gIH07XG5cbiAgJHNjb3BlLmRlbGV0ZUpvYiA9IGZ1bmN0aW9uKCkge1xuICAgIGxvZ2dlci5sb2coJ2RlbGV0ZUpvYiBidXR0b24gY2xpY2tlZCB3aXRoIGpvYklkPScsam9iLmlkKTtcbiAgICAkaHR0cC5kZWxldGUoJy9hcGkvd29ya3NwYWNlL2pvYnMvJywge1xuICAgICAgcGFyYW1zOiB7J2pvYl9pZCc6IGpvYi5pZH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgICAgJHNjb3BlLiRwYXJlbnQuJGJyb2FkY2FzdCgnam9icy1yZWZyZXNoJyk7XG4gICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5sb2coJ25vcGUhJywgZXJyb3IpOyAvL3RvZG8gbWFrZSBlcnJvciBoYW5kbGluZyBVSVxuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5jYW5jZWxKb2IgPSBmdW5jdGlvbigpIHtcbiAgICBsb2dnZXIubG9nKCdjYW5jZWxKb2IgYnV0dG9uIGNsaWNrZWQgd2l0aCBqb2JJZD0nLGpvYi5pZCk7XG4gICAgJGh0dHAucG9zdCgnL2FwaS93b3Jrc3BhY2Uvam9icy8nLCB7XG4gICAgICAnam9iX2lkJzogam9iLmlkLCBwYXJhbXM6IHsnam9iX2lkJzogam9iLmlkLCAnYWN0aW9uJzonY2FuY2VsJywgJ2JvZHknOid7XCJhY3Rpb25cIjpcInN0b3BcIn0nfSxcbiAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgICAgJHNjb3BlLiRwYXJlbnQuJGJyb2FkY2FzdCgnam9icy1yZWZyZXNoJyk7XG4gICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5sb2coJ25vcGUhJywgZXJyb3IpOyAvL3RvZG8gbWFrZSBlcnJvciBoYW5kbGluZyBVSVxuICAgIH0pO1xuICB9O1xuXG59O1xuXG5mdW5jdGlvbiBWTkNKb2JEZXRhaWxzTW9kYWxDdHJsKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIG1zZykge1xuICAnbmdJbmplY3QnO1xuICAkc2NvcGUubXNnID0gbXNnO1xuICAkc2NvcGUuZGlzbWlzcyA9IGZ1bmN0aW9uKCkge1xuICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICB9O1xufVxuXG5leHBvcnQge0pvYnNTdGF0dXNDdHJsLCBKb2JEZXRhaWxzTW9kYWxDdHJsLCBWTkNKb2JEZXRhaWxzTW9kYWxDdHJsfTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BvcnRhbC9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci93b3Jrc3BhY2UvY29udHJvbGxlcnMvam9icy1zdGF0dXMuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///39\n");

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction WorkspacePanelCtrl($scope) {\n  'ngInject';\n\n  $scope.panel = {\n    collapsed: false\n  };\n\n  $scope.togglePanel = function togglePanel() {\n    $scope.panel.collapsed = !$scope.panel.collapsed;\n  };\n\n  $scope.openPanel = function openPanel() {\n    $scope.panel.collapsed = false;\n  };\n\n  $scope.$on('job-submitted', function (e, data) {\n    $scope.openPanel();\n  });\n};\n\nexports.default = WorkspacePanelCtrl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL2NvbnRyb2xsZXJzL3dvcmtzcGFjZS1wYW5lbC5qcz8zZTZkIl0sIm5hbWVzIjpbIldvcmtzcGFjZVBhbmVsQ3RybCIsIiRzY29wZSIsInBhbmVsIiwiY29sbGFwc2VkIiwidG9nZ2xlUGFuZWwiLCJvcGVuUGFuZWwiLCIkb24iLCJlIiwiZGF0YSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsU0FBU0Esa0JBQVQsQ0FBNEJDLE1BQTVCLEVBQW9DO0FBQ2xDOztBQUNBQSxTQUFPQyxLQUFQLEdBQWU7QUFDYkMsZUFBVztBQURFLEdBQWY7O0FBSUFGLFNBQU9HLFdBQVAsR0FBcUIsU0FBU0EsV0FBVCxHQUF1QjtBQUMxQ0gsV0FBT0MsS0FBUCxDQUFhQyxTQUFiLEdBQXlCLENBQUVGLE9BQU9DLEtBQVAsQ0FBYUMsU0FBeEM7QUFDRCxHQUZEOztBQUlBRixTQUFPSSxTQUFQLEdBQW1CLFNBQVNBLFNBQVQsR0FBcUI7QUFDdENKLFdBQU9DLEtBQVAsQ0FBYUMsU0FBYixHQUF5QixLQUF6QjtBQUNELEdBRkQ7O0FBSUFGLFNBQU9LLEdBQVAsQ0FBVyxlQUFYLEVBQTRCLFVBQVNDLENBQVQsRUFBWUMsSUFBWixFQUFrQjtBQUM1Q1AsV0FBT0ksU0FBUDtBQUNELEdBRkQ7QUFNRDs7a0JBRWNMLGtCIiwiZmlsZSI6IjQwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5mdW5jdGlvbiBXb3Jrc3BhY2VQYW5lbEN0cmwoJHNjb3BlKSB7XG4gICduZ0luamVjdCc7XG4gICRzY29wZS5wYW5lbCA9IHtcbiAgICBjb2xsYXBzZWQ6IGZhbHNlXG4gIH07XG5cbiAgJHNjb3BlLnRvZ2dsZVBhbmVsID0gZnVuY3Rpb24gdG9nZ2xlUGFuZWwoKSB7XG4gICAgJHNjb3BlLnBhbmVsLmNvbGxhcHNlZCA9ICEgJHNjb3BlLnBhbmVsLmNvbGxhcHNlZDtcbiAgfTtcblxuICAkc2NvcGUub3BlblBhbmVsID0gZnVuY3Rpb24gb3BlblBhbmVsKCkge1xuICAgICRzY29wZS5wYW5lbC5jb2xsYXBzZWQgPSBmYWxzZTtcbiAgfTtcblxuICAkc2NvcGUuJG9uKCdqb2Itc3VibWl0dGVkJywgZnVuY3Rpb24oZSwgZGF0YSkge1xuICAgICRzY29wZS5vcGVuUGFuZWwoKTtcbiAgfSk7XG5cblxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBXb3Jrc3BhY2VQYW5lbEN0cmw7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL2NvbnRyb2xsZXJzL3dvcmtzcGFjZS1wYW5lbC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///40\n");

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction agaveFilePicker() {\n  return {\n    restrict: 'EA',\n    require: 'ngModel',\n    replace: true,\n    templateUrl: '/static/portal/scripts/angular/workspace/templates/agave-file-picker.html',\n    link: function link($scope, $element, attrs, $ngModel) {\n      var formKey = $scope.form.key.join('.');\n\n      $scope.requesting = false;\n\n      $scope.data = {\n        input: null\n      };\n\n      $scope.wantFile = function wantFile($event) {\n        $event.preventDefault();\n        $element.parent().addClass('wants');\n        $scope.$emit('wants-file', {\n          requestKey: formKey,\n          title: $scope.form.title || formKey,\n          description: $scope.form.description || ''\n        });\n        $scope.requesting = true;\n      };\n\n      function stopWant() {\n        $element.parent().removeClass('wants');\n        $scope.$emit('cancel-wants-file', { requestKey: formKey });\n        $scope.requesting = false;\n      }\n\n      $scope.stopWant = function ($event) {\n        $event.preventDefault();\n        stopWant();\n      };\n\n      $scope.$on('provides-file', function ($event, args) {\n        var requestKey = args.requestKey || '';\n        var file = args.file || {};\n        var agavePath = 'agave://' + file.system + file.path;\n        if (formKey === requestKey) {\n          $scope.data.input = agavePath;\n          $ngModel.$setViewValue(agavePath);\n          stopWant();\n        }\n      });\n\n      $element.find('input').on('change', function () {\n        $ngModel.$setViewValue($scope.data.input);\n      });\n    }\n  };\n};\n\nexports.default = agaveFilePicker;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL2RpcmVjdGl2ZXMvYWdhdmUtZmlsZS1waWNrZXIuanM/ZThiMCJdLCJuYW1lcyI6WyJhZ2F2ZUZpbGVQaWNrZXIiLCJyZXN0cmljdCIsInJlcXVpcmUiLCJyZXBsYWNlIiwidGVtcGxhdGVVcmwiLCJsaW5rIiwiJHNjb3BlIiwiJGVsZW1lbnQiLCJhdHRycyIsIiRuZ01vZGVsIiwiZm9ybUtleSIsImZvcm0iLCJrZXkiLCJqb2luIiwicmVxdWVzdGluZyIsImRhdGEiLCJpbnB1dCIsIndhbnRGaWxlIiwiJGV2ZW50IiwicHJldmVudERlZmF1bHQiLCJwYXJlbnQiLCJhZGRDbGFzcyIsIiRlbWl0IiwicmVxdWVzdEtleSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJzdG9wV2FudCIsInJlbW92ZUNsYXNzIiwiJG9uIiwiYXJncyIsImZpbGUiLCJhZ2F2ZVBhdGgiLCJzeXN0ZW0iLCJwYXRoIiwiJHNldFZpZXdWYWx1ZSIsImZpbmQiLCJvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBRSxTQUFTQSxlQUFULEdBQTJCO0FBQ3pCLFNBQU87QUFDTEMsY0FBVSxJQURMO0FBRUxDLGFBQVMsU0FGSjtBQUdMQyxhQUFTLElBSEo7QUFJTEMsaUJBQWEsMkVBSlI7QUFLTEMsVUFBTSxjQUFTQyxNQUFULEVBQWlCQyxRQUFqQixFQUEyQkMsS0FBM0IsRUFBa0NDLFFBQWxDLEVBQTRDO0FBQ2hELFVBQUlDLFVBQVVKLE9BQU9LLElBQVAsQ0FBWUMsR0FBWixDQUFnQkMsSUFBaEIsQ0FBcUIsR0FBckIsQ0FBZDs7QUFFQVAsYUFBT1EsVUFBUCxHQUFvQixLQUFwQjs7QUFFQVIsYUFBT1MsSUFBUCxHQUFjO0FBQ1pDLGVBQU87QUFESyxPQUFkOztBQUlBVixhQUFPVyxRQUFQLEdBQWtCLFNBQVNBLFFBQVQsQ0FBa0JDLE1BQWxCLEVBQTBCO0FBQzFDQSxlQUFPQyxjQUFQO0FBQ0FaLGlCQUFTYSxNQUFULEdBQWtCQyxRQUFsQixDQUEyQixPQUEzQjtBQUNBZixlQUFPZ0IsS0FBUCxDQUFhLFlBQWIsRUFBMkI7QUFDekJDLHNCQUFZYixPQURhO0FBRXpCYyxpQkFBT2xCLE9BQU9LLElBQVAsQ0FBWWEsS0FBWixJQUFxQmQsT0FGSDtBQUd6QmUsdUJBQWFuQixPQUFPSyxJQUFQLENBQVljLFdBQVosSUFBMkI7QUFIZixTQUEzQjtBQUtBbkIsZUFBT1EsVUFBUCxHQUFvQixJQUFwQjtBQUNELE9BVEQ7O0FBV0EsZUFBU1ksUUFBVCxHQUFvQjtBQUNsQm5CLGlCQUFTYSxNQUFULEdBQWtCTyxXQUFsQixDQUE4QixPQUE5QjtBQUNBckIsZUFBT2dCLEtBQVAsQ0FBYSxtQkFBYixFQUFrQyxFQUFDQyxZQUFZYixPQUFiLEVBQWxDO0FBQ0FKLGVBQU9RLFVBQVAsR0FBb0IsS0FBcEI7QUFDRDs7QUFFRFIsYUFBT29CLFFBQVAsR0FBa0IsVUFBU1IsTUFBVCxFQUFpQjtBQUNqQ0EsZUFBT0MsY0FBUDtBQUNBTztBQUNELE9BSEQ7O0FBS0FwQixhQUFPc0IsR0FBUCxDQUFXLGVBQVgsRUFBNEIsVUFBU1YsTUFBVCxFQUFpQlcsSUFBakIsRUFBdUI7QUFDakQsWUFBSU4sYUFBYU0sS0FBS04sVUFBTCxJQUFtQixFQUFwQztBQUNBLFlBQUlPLE9BQU9ELEtBQUtDLElBQUwsSUFBYSxFQUF4QjtBQUNBLFlBQUlDLFlBQVksYUFBYUQsS0FBS0UsTUFBbEIsR0FBMkJGLEtBQUtHLElBQWhEO0FBQ0EsWUFBSXZCLFlBQVlhLFVBQWhCLEVBQTRCO0FBQzFCakIsaUJBQU9TLElBQVAsQ0FBWUMsS0FBWixHQUFvQmUsU0FBcEI7QUFDQXRCLG1CQUFTeUIsYUFBVCxDQUF1QkgsU0FBdkI7QUFDQUw7QUFDRDtBQUNGLE9BVEQ7O0FBV0FuQixlQUFTNEIsSUFBVCxDQUFjLE9BQWQsRUFBdUJDLEVBQXZCLENBQTBCLFFBQTFCLEVBQW9DLFlBQVc7QUFDN0MzQixpQkFBU3lCLGFBQVQsQ0FBdUI1QixPQUFPUyxJQUFQLENBQVlDLEtBQW5DO0FBQ0QsT0FGRDtBQUdEO0FBbERJLEdBQVA7QUFvREQ7O2tCQUVjaEIsZSIsImZpbGUiOiI0MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiAgZnVuY3Rpb24gYWdhdmVGaWxlUGlja2VyKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci93b3Jrc3BhY2UvdGVtcGxhdGVzL2FnYXZlLWZpbGUtcGlja2VyLmh0bWwnLFxuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgYXR0cnMsICRuZ01vZGVsKSB7XG4gICAgICAgIHZhciBmb3JtS2V5ID0gJHNjb3BlLmZvcm0ua2V5LmpvaW4oJy4nKTtcblxuICAgICAgICAkc2NvcGUucmVxdWVzdGluZyA9IGZhbHNlO1xuXG4gICAgICAgICRzY29wZS5kYXRhID0ge1xuICAgICAgICAgIGlucHV0OiBudWxsXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLndhbnRGaWxlID0gZnVuY3Rpb24gd2FudEZpbGUoJGV2ZW50KSB7XG4gICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgJGVsZW1lbnQucGFyZW50KCkuYWRkQ2xhc3MoJ3dhbnRzJyk7XG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCd3YW50cy1maWxlJywge1xuICAgICAgICAgICAgcmVxdWVzdEtleTogZm9ybUtleSxcbiAgICAgICAgICAgIHRpdGxlOiAkc2NvcGUuZm9ybS50aXRsZSB8fCBmb3JtS2V5LFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5mb3JtLmRlc2NyaXB0aW9uIHx8ICcnXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJHNjb3BlLnJlcXVlc3RpbmcgPSB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHN0b3BXYW50KCkge1xuICAgICAgICAgICRlbGVtZW50LnBhcmVudCgpLnJlbW92ZUNsYXNzKCd3YW50cycpO1xuICAgICAgICAgICRzY29wZS4kZW1pdCgnY2FuY2VsLXdhbnRzLWZpbGUnLCB7cmVxdWVzdEtleTogZm9ybUtleX0pO1xuICAgICAgICAgICRzY29wZS5yZXF1ZXN0aW5nID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuc3RvcFdhbnQgPSBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzdG9wV2FudCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kb24oJ3Byb3ZpZGVzLWZpbGUnLCBmdW5jdGlvbigkZXZlbnQsIGFyZ3MpIHtcbiAgICAgICAgICB2YXIgcmVxdWVzdEtleSA9IGFyZ3MucmVxdWVzdEtleSB8fCAnJztcbiAgICAgICAgICB2YXIgZmlsZSA9IGFyZ3MuZmlsZSB8fCB7fTtcbiAgICAgICAgICB2YXIgYWdhdmVQYXRoID0gJ2FnYXZlOi8vJyArIGZpbGUuc3lzdGVtICsgZmlsZS5wYXRoO1xuICAgICAgICAgIGlmIChmb3JtS2V5ID09PSByZXF1ZXN0S2V5KSB7XG4gICAgICAgICAgICAkc2NvcGUuZGF0YS5pbnB1dCA9IGFnYXZlUGF0aDtcbiAgICAgICAgICAgICRuZ01vZGVsLiRzZXRWaWV3VmFsdWUoYWdhdmVQYXRoKTtcbiAgICAgICAgICAgIHN0b3BXYW50KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkZWxlbWVudC5maW5kKCdpbnB1dCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKCRzY29wZS5kYXRhLmlucHV0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBleHBvcnQgZGVmYXVsdCBhZ2F2ZUZpbGVQaWNrZXI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL2RpcmVjdGl2ZXMvYWdhdmUtZmlsZS1waWNrZXIuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///41\n");

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _agaveFilePicker = __webpack_require__(41);\n\nvar _agaveFilePicker2 = _interopRequireDefault(_agaveFilePicker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mod = angular.module('portal.workspace.directives', []);\n\nmod.directive('agaveFilePicker', _agaveFilePicker2.default);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL2RpcmVjdGl2ZXMvaW5kZXguanM/ZDQwNSJdLCJuYW1lcyI6WyJtb2QiLCJhbmd1bGFyIiwibW9kdWxlIiwiZGlyZWN0aXZlIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7QUFFQSxJQUFJQSxNQUFNQyxRQUFRQyxNQUFSLENBQWUsNkJBQWYsRUFBOEMsRUFBOUMsQ0FBVjs7QUFFQUYsSUFBSUcsU0FBSixDQUFjLGlCQUFkIiwiZmlsZSI6IjQyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFnYXZlRmlsZVBpY2tlciBmcm9tICcuL2FnYXZlLWZpbGUtcGlja2VyJztcblxubGV0IG1vZCA9IGFuZ3VsYXIubW9kdWxlKCdwb3J0YWwud29ya3NwYWNlLmRpcmVjdGl2ZXMnLCBbXSk7XG5cbm1vZC5kaXJlY3RpdmUoJ2FnYXZlRmlsZVBpY2tlcicsIGFnYXZlRmlsZVBpY2tlcik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL2RpcmVjdGl2ZXMvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///42\n");

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _controllers = __webpack_require__(38);\n\nvar _directives = __webpack_require__(42);\n\nvar _services = __webpack_require__(45);\n\nvar _angular = __webpack_require__(52);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction config($interpolateProvider, $httpProvider, $urlRouterProvider, $stateProvider, $translateProvider) {\n  'ngInject';\n\n  $stateProvider.state('tray', {\n    url: '/workspace/:appId',\n    templateUrl: '/static/portal/scripts/angular/workspace/templates/application-tray.html',\n    controller: 'ApplicationTrayCtrl'\n  });\n\n  $translateProvider.translations('en', {\n    error_system_monitor: \"The execution system for this app is currently unavailable. Your job submission may fail.\",\n    error_app_run: \"Could not find appId provided\",\n    error_app_disabled: \"The app you're trying to run is currently disabled. Please enable the app and try again\",\n    apps_metadata_name: \"portal_apps\",\n    apps_metadata_list_name: \"portal_apps_list\"\n  });\n  $translateProvider.preferredLanguage('en');\n}\n\nvar mod = _angular2.default.module('portal.workspace', ['portal.workspace.controllers', 'portal.workspace.services', 'portal.workspace.directives']).config(config).run(function (editableOptions) {\n  editableOptions.theme = 'bs3';\n});\n\n_angular2.default.module('schemaForm').config(['schemaFormProvider', 'schemaFormDecoratorsProvider', 'sfPathProvider', function (schemaFormProvider, schemaFormDecoratorsProvider, sfPathProvider) {\n\n  var filePicker = function filePicker(name, schema, options) {\n    if (schema.type === 'string' && schema.format === 'agaveFile') {\n      var f = schemaFormProvider.stdFormObj(name, schema, options);\n      f.key = options.path;\n      f.type = 'agaveFilePicker';\n      options.lookup[sfPathProvider.stringify(options.path)] = f;\n      return f;\n    }\n  };\n\n  schemaFormProvider.defaults.string.unshift(filePicker);\n\n  //Add to the bootstrap directive\n  schemaFormDecoratorsProvider.addMapping('bootstrapDecorator', 'agaveFilePicker', '/static/portal/scripts/angular/workspace/templates/asf-agave-file-picker.html');\n  schemaFormDecoratorsProvider.createDirective('agaveFilePicker', '/static/portal/scripts/angular/workspace/templates/asf-agave-file-picker.html');\n}]);\n\nexports.default = mod;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL2luZGV4LmpzPzVkY2EiXSwibmFtZXMiOlsiY29uZmlnIiwiJGludGVycG9sYXRlUHJvdmlkZXIiLCIkaHR0cFByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJHN0YXRlUHJvdmlkZXIiLCIkdHJhbnNsYXRlUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInRyYW5zbGF0aW9ucyIsImVycm9yX3N5c3RlbV9tb25pdG9yIiwiZXJyb3JfYXBwX3J1biIsImVycm9yX2FwcF9kaXNhYmxlZCIsImFwcHNfbWV0YWRhdGFfbmFtZSIsImFwcHNfbWV0YWRhdGFfbGlzdF9uYW1lIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJtb2QiLCJtb2R1bGUiLCJydW4iLCJlZGl0YWJsZU9wdGlvbnMiLCJ0aGVtZSIsInNjaGVtYUZvcm1Qcm92aWRlciIsInNjaGVtYUZvcm1EZWNvcmF0b3JzUHJvdmlkZXIiLCJzZlBhdGhQcm92aWRlciIsImZpbGVQaWNrZXIiLCJuYW1lIiwic2NoZW1hIiwib3B0aW9ucyIsInR5cGUiLCJmb3JtYXQiLCJmIiwic3RkRm9ybU9iaiIsImtleSIsInBhdGgiLCJsb29rdXAiLCJzdHJpbmdpZnkiLCJkZWZhdWx0cyIsInN0cmluZyIsInVuc2hpZnQiLCJhZGRNYXBwaW5nIiwiY3JlYXRlRGlyZWN0aXZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQTs7Ozs7O0FBRUEsU0FBU0EsTUFBVCxDQUFnQkMsb0JBQWhCLEVBQXNDQyxhQUF0QyxFQUFxREMsa0JBQXJELEVBQXlFQyxjQUF6RSxFQUF5RkMsa0JBQXpGLEVBQTZHO0FBQzNHOztBQUNBRCxpQkFBZUUsS0FBZixDQUFxQixNQUFyQixFQUE2QjtBQUN6QkMsU0FBSyxtQkFEb0I7QUFFekJDLGlCQUFhLDBFQUZZO0FBR3pCQyxnQkFBWTtBQUhhLEdBQTdCOztBQU1BSixxQkFBbUJLLFlBQW5CLENBQWdDLElBQWhDLEVBQXNDO0FBQ2xDQywwQkFBc0IsMkZBRFk7QUFFbENDLG1CQUFlLCtCQUZtQjtBQUdsQ0Msd0JBQW9CLHlGQUhjO0FBSWxDQyx3QkFBb0IsYUFKYztBQUtsQ0MsNkJBQXlCO0FBTFMsR0FBdEM7QUFPQVYscUJBQW1CVyxpQkFBbkIsQ0FBcUMsSUFBckM7QUFDRDs7QUFHRCxJQUFJQyxNQUFNLGtCQUFRQyxNQUFSLENBQWUsa0JBQWYsRUFBbUMsQ0FDM0MsOEJBRDJDLEVBRTNDLDJCQUYyQyxFQUczQyw2QkFIMkMsQ0FBbkMsRUFJUGxCLE1BSk8sQ0FJQUEsTUFKQSxFQUtUbUIsR0FMUyxDQUtMLFVBQVNDLGVBQVQsRUFBMEI7QUFDN0JBLGtCQUFnQkMsS0FBaEIsR0FBd0IsS0FBeEI7QUFDRCxDQVBTLENBQVY7O0FBU0Esa0JBQVFILE1BQVIsQ0FBZSxZQUFmLEVBQTZCbEIsTUFBN0IsQ0FDQSxDQUFDLG9CQUFELEVBQXVCLDhCQUF2QixFQUF1RCxnQkFBdkQsRUFDRSxVQUFTc0Isa0JBQVQsRUFBOEJDLDRCQUE5QixFQUE0REMsY0FBNUQsRUFBNEU7O0FBRTFFLE1BQUlDLGFBQWEsU0FBYkEsVUFBYSxDQUFTQyxJQUFULEVBQWVDLE1BQWYsRUFBdUJDLE9BQXZCLEVBQWdDO0FBQy9DLFFBQUlELE9BQU9FLElBQVAsS0FBZ0IsUUFBaEIsSUFBNEJGLE9BQU9HLE1BQVAsS0FBa0IsV0FBbEQsRUFBK0Q7QUFDN0QsVUFBSUMsSUFBSVQsbUJBQW1CVSxVQUFuQixDQUE4Qk4sSUFBOUIsRUFBb0NDLE1BQXBDLEVBQTRDQyxPQUE1QyxDQUFSO0FBQ0FHLFFBQUVFLEdBQUYsR0FBU0wsUUFBUU0sSUFBakI7QUFDQUgsUUFBRUYsSUFBRixHQUFTLGlCQUFUO0FBQ0FELGNBQVFPLE1BQVIsQ0FBZVgsZUFBZVksU0FBZixDQUF5QlIsUUFBUU0sSUFBakMsQ0FBZixJQUF5REgsQ0FBekQ7QUFDQSxhQUFPQSxDQUFQO0FBQ0Q7QUFDRixHQVJEOztBQVVBVCxxQkFBbUJlLFFBQW5CLENBQTRCQyxNQUE1QixDQUFtQ0MsT0FBbkMsQ0FBMkNkLFVBQTNDOztBQUVBO0FBQ0FGLCtCQUE2QmlCLFVBQTdCLENBQ0Usb0JBREYsRUFFRSxpQkFGRixFQUdFLCtFQUhGO0FBS0FqQiwrQkFBNkJrQixlQUE3QixDQUNFLGlCQURGLEVBRUUsK0VBRkY7QUFJRCxDQXpCSCxDQURBOztrQkE2QmV4QixHIiwiZmlsZSI6IjQzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHttb2QgYXMgY29udHJvbGxlcnN9IGZyb20gJy4vY29udHJvbGxlcnMnO1xuaW1wb3J0IHttb2QgYXMgZGlyZWN0aXZlc30gZnJvbSAnLi9kaXJlY3RpdmVzJztcbmltcG9ydCB7bW9kIGFzIHNlcnZpY2VzfSBmcm9tICcuL3NlcnZpY2VzJztcblxuaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5cbmZ1bmN0aW9uIGNvbmZpZygkaW50ZXJwb2xhdGVQcm92aWRlciwgJGh0dHBQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkc3RhdGVQcm92aWRlciwgJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCd0cmF5Jywge1xuICAgICAgdXJsOiAnL3dvcmtzcGFjZS86YXBwSWQnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL3RlbXBsYXRlcy9hcHBsaWNhdGlvbi10cmF5Lmh0bWwnLFxuICAgICAgY29udHJvbGxlcjogJ0FwcGxpY2F0aW9uVHJheUN0cmwnXG4gIH0pO1xuXG4gICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJywge1xuICAgICAgZXJyb3Jfc3lzdGVtX21vbml0b3I6IFwiVGhlIGV4ZWN1dGlvbiBzeXN0ZW0gZm9yIHRoaXMgYXBwIGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZS4gWW91ciBqb2Igc3VibWlzc2lvbiBtYXkgZmFpbC5cIixcbiAgICAgIGVycm9yX2FwcF9ydW46IFwiQ291bGQgbm90IGZpbmQgYXBwSWQgcHJvdmlkZWRcIixcbiAgICAgIGVycm9yX2FwcF9kaXNhYmxlZDogXCJUaGUgYXBwIHlvdSdyZSB0cnlpbmcgdG8gcnVuIGlzIGN1cnJlbnRseSBkaXNhYmxlZC4gUGxlYXNlIGVuYWJsZSB0aGUgYXBwIGFuZCB0cnkgYWdhaW5cIixcbiAgICAgIGFwcHNfbWV0YWRhdGFfbmFtZTogXCJwb3J0YWxfYXBwc1wiLFxuICAgICAgYXBwc19tZXRhZGF0YV9saXN0X25hbWU6IFwicG9ydGFsX2FwcHNfbGlzdFwiXG4gIH0pO1xuICAkdHJhbnNsYXRlUHJvdmlkZXIucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XG59XG5cblxubGV0IG1vZCA9IGFuZ3VsYXIubW9kdWxlKCdwb3J0YWwud29ya3NwYWNlJywgW1xuICAncG9ydGFsLndvcmtzcGFjZS5jb250cm9sbGVycycsXG4gICdwb3J0YWwud29ya3NwYWNlLnNlcnZpY2VzJyxcbiAgJ3BvcnRhbC53b3Jrc3BhY2UuZGlyZWN0aXZlcydcbl0pLmNvbmZpZyhjb25maWcpXG4ucnVuKGZ1bmN0aW9uKGVkaXRhYmxlT3B0aW9ucykge1xuICBlZGl0YWJsZU9wdGlvbnMudGhlbWUgPSAnYnMzJztcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnc2NoZW1hRm9ybScpLmNvbmZpZyhcblsnc2NoZW1hRm9ybVByb3ZpZGVyJywgJ3NjaGVtYUZvcm1EZWNvcmF0b3JzUHJvdmlkZXInLCAnc2ZQYXRoUHJvdmlkZXInLFxuICBmdW5jdGlvbihzY2hlbWFGb3JtUHJvdmlkZXIsICBzY2hlbWFGb3JtRGVjb3JhdG9yc1Byb3ZpZGVyLCBzZlBhdGhQcm92aWRlcikge1xuXG4gICAgdmFyIGZpbGVQaWNrZXIgPSBmdW5jdGlvbihuYW1lLCBzY2hlbWEsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChzY2hlbWEudHlwZSA9PT0gJ3N0cmluZycgJiYgc2NoZW1hLmZvcm1hdCA9PT0gJ2FnYXZlRmlsZScpIHtcbiAgICAgICAgdmFyIGYgPSBzY2hlbWFGb3JtUHJvdmlkZXIuc3RkRm9ybU9iaihuYW1lLCBzY2hlbWEsIG9wdGlvbnMpO1xuICAgICAgICBmLmtleSAgPSBvcHRpb25zLnBhdGg7XG4gICAgICAgIGYudHlwZSA9ICdhZ2F2ZUZpbGVQaWNrZXInO1xuICAgICAgICBvcHRpb25zLmxvb2t1cFtzZlBhdGhQcm92aWRlci5zdHJpbmdpZnkob3B0aW9ucy5wYXRoKV0gPSBmO1xuICAgICAgICByZXR1cm4gZjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc2NoZW1hRm9ybVByb3ZpZGVyLmRlZmF1bHRzLnN0cmluZy51bnNoaWZ0KGZpbGVQaWNrZXIpO1xuXG4gICAgLy9BZGQgdG8gdGhlIGJvb3RzdHJhcCBkaXJlY3RpdmVcbiAgICBzY2hlbWFGb3JtRGVjb3JhdG9yc1Byb3ZpZGVyLmFkZE1hcHBpbmcoXG4gICAgICAnYm9vdHN0cmFwRGVjb3JhdG9yJyxcbiAgICAgICdhZ2F2ZUZpbGVQaWNrZXInLFxuICAgICAgJy9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci93b3Jrc3BhY2UvdGVtcGxhdGVzL2FzZi1hZ2F2ZS1maWxlLXBpY2tlci5odG1sJ1xuICAgICk7XG4gICAgc2NoZW1hRm9ybURlY29yYXRvcnNQcm92aWRlci5jcmVhdGVEaXJlY3RpdmUoXG4gICAgICAnYWdhdmVGaWxlUGlja2VyJyxcbiAgICAgICcvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL3RlbXBsYXRlcy9hc2YtYWdhdmUtZmlsZS1waWNrZXIuaHRtbCdcbiAgICApO1xuICB9XG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgbW9kO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL3dvcmtzcGFjZS9pbmRleC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///43\n");

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction Apps($http, $q, $translate) {\n  'ngInject';\n\n  var service = {};\n\n  var default_list_opts = {\n    publicOnly: false\n  };\n\n  service.list = function (query) {\n    return $http({\n      url: '/api/workspace/meta',\n      method: 'GET',\n      params: { 'q': query },\n      cache: true\n    });\n  };\n\n  service.get = function (app_id) {\n    return $http({\n      url: '/api/workspace/apps',\n      method: 'GET',\n      params: { 'app_id': app_id }\n    });\n  };\n\n  service.getMeta = function (app_id) {\n    return $http({\n      url: '/api/workspace/meta',\n      method: 'GET',\n      params: { q: { 'name': $translate.instant('apps_metadata_name'), 'value.definition.id': app_id } }\n    });\n  };\n\n  service.formSchema = function (app) {\n    /**\n     * Generate a JSON.schema for the app ready for angular-schema-form\n     * https://github.com/json-schema-form/angular-schema-form\n     */\n    if (typeof app === 'string') {\n      app = service.get(app);\n    }\n    var params = app.parameters || [];\n    var inputs = app.inputs || [];\n\n    var schema = {\n      type: 'object',\n      properties: {}\n    };\n\n    if (params.length > 0) {\n      schema.properties.parameters = {\n        type: 'object',\n        properties: {}\n      };\n      _.each(params, function (param) {\n        if (!param.value.visible) {\n          return;\n        }\n        if (param.id.startsWith('_')) {\n          return;\n        }\n        var field = {\n          title: param.details.label,\n          description: param.details.description,\n          required: param.value.required\n        };\n        switch (param.value.type) {\n          case 'bool':\n          case 'flag':\n            field.type = 'boolean';\n            break;\n\n          case 'enumeration':\n            field.type = 'string';\n            field.enum = _.map(param.value.enum_values, function (enum_val) {\n              return Object.keys(enum_val)[0];\n            });\n            field['x-schema-form'] = {\n              'titleMap': _.map(param.value.enum_values, function (enum_val) {\n                var key = Object.keys(enum_val)[0];\n                return {\n                  'value': key,\n                  'name': enum_val[key]\n                };\n              })\n            };\n            break;\n\n          case 'number':\n            field.type = 'number';\n            break;\n\n          case 'string':\n          default:\n            field.type = 'string';\n        }\n        schema.properties.parameters.properties[param.id] = field;\n      });\n    }\n\n    if (inputs.length > 0) {\n\n      schema.properties.inputs = {\n        type: 'object',\n        properties: {}\n      };\n      _.each(inputs, function (input) {\n        if (!input.value.visible) {\n          return;\n        }\n        if (input.id.startsWith('_')) {\n          return;\n        }\n        var field = {\n          title: input.details.label,\n          description: input.details.description\n        };\n        if (input.semantics.maxCardinality === 1) {\n          field.type = 'string';\n          field.format = 'agaveFile';\n          field.required = input.value.required;\n        } else {\n          field.type = 'array';\n          field.items = {\n            type: 'string',\n            format: 'agaveFile',\n            'x-schema-form': { notitle: true }\n          };\n          if (input.semantics.maxCardinality > 1) {\n            field.maxItems = input.semantics.maxCardinality;\n          }\n        }\n        schema.properties.inputs.properties[input.id] = field;\n      });\n    }\n\n    schema.properties.requestedTime = {\n      title: 'Maximum job runtime',\n      description: 'In HH:MM:SS format. The maximum time you expect this job to run for. After this amount of time your job will be killed by the job scheduler. Shorter run times result in shorter queue wait times. Maximum possible time is 48:00:00 (48 hours).',\n      type: 'string',\n      \"pattern\": \"^(48:00:00)|([0-4][0-7]:[0-5][0-9]:[0-5][0-9])$\",\n      \"validationMessage\": \"Must be in format HH:MM:SS and be less than 48 hours (48:00:00)\",\n      required: true,\n      'x-schema-form': { placeholder: app.defaultMaxRunTime }\n    };\n\n    schema.properties.name = {\n      title: 'Job name',\n      description: 'A recognizable name for this job',\n      type: 'string',\n      required: true\n    };\n    schema.properties.archivePath = {\n      title: 'Job output archive location (optional)',\n      description: 'Specify a location where the job output should be archived. By default, job output will be archived at: <code>&lt;username&gt;/archive/jobs/${YYYY-MM-DD}/${JOB_NAME}-${JOB_ID}</code>.',\n      type: 'string',\n      format: 'agaveFile',\n      'x-schema-form': { placeholder: '<username>/archive/jobs/${YYYY-MM-DD}/${JOB_NAME}-${JOB_ID}' }\n    };\n\n    return schema;\n  };\n\n  return service;\n};\n\nexports.default = Apps;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL3NlcnZpY2VzL2FwcHMtc2VydmljZS5qcz9lYjkzIl0sIm5hbWVzIjpbIkFwcHMiLCIkaHR0cCIsIiRxIiwiJHRyYW5zbGF0ZSIsInNlcnZpY2UiLCJkZWZhdWx0X2xpc3Rfb3B0cyIsInB1YmxpY09ubHkiLCJsaXN0IiwicXVlcnkiLCJ1cmwiLCJtZXRob2QiLCJwYXJhbXMiLCJjYWNoZSIsImdldCIsImFwcF9pZCIsImdldE1ldGEiLCJxIiwiaW5zdGFudCIsImZvcm1TY2hlbWEiLCJhcHAiLCJwYXJhbWV0ZXJzIiwiaW5wdXRzIiwic2NoZW1hIiwidHlwZSIsInByb3BlcnRpZXMiLCJsZW5ndGgiLCJfIiwiZWFjaCIsInBhcmFtIiwidmFsdWUiLCJ2aXNpYmxlIiwiaWQiLCJzdGFydHNXaXRoIiwiZmllbGQiLCJ0aXRsZSIsImRldGFpbHMiLCJsYWJlbCIsImRlc2NyaXB0aW9uIiwicmVxdWlyZWQiLCJlbnVtIiwibWFwIiwiZW51bV92YWx1ZXMiLCJlbnVtX3ZhbCIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJpbnB1dCIsInNlbWFudGljcyIsIm1heENhcmRpbmFsaXR5IiwiZm9ybWF0IiwiaXRlbXMiLCJub3RpdGxlIiwibWF4SXRlbXMiLCJyZXF1ZXN0ZWRUaW1lIiwicGxhY2Vob2xkZXIiLCJkZWZhdWx0TWF4UnVuVGltZSIsIm5hbWUiLCJhcmNoaXZlUGF0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxTQUFTQSxJQUFULENBQWNDLEtBQWQsRUFBcUJDLEVBQXJCLEVBQXlCQyxVQUF6QixFQUFxQztBQUNuQzs7QUFDQSxNQUFJQyxVQUFVLEVBQWQ7O0FBRUEsTUFBSUMsb0JBQW9CO0FBQ3RCQyxnQkFBWTtBQURVLEdBQXhCOztBQUlBRixVQUFRRyxJQUFSLEdBQWUsVUFBU0MsS0FBVCxFQUFnQjtBQUM3QixXQUFPUCxNQUFNO0FBQ1hRLFdB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bEIsQ0FBeUJHLFVBQXpCLENBQW9Dc0IsTUFBTWYsRUFBMUMsSUFBZ0RFLEtBQWhEO0FBQ0QsT0EzQkQ7QUE0QkQ7O0FBRURYLFdBQU9FLFVBQVAsQ0FBa0I2QixhQUFsQixHQUFrQztBQUNoQ25CLGFBQU8scUJBRHlCO0FBRWhDRyxtQkFBYSxrUEFGbUI7QUFHaENkLFlBQU0sUUFIMEI7QUFJaEMsaUJBQVUsaURBSnNCO0FBS2hDLDJCQUFvQixpRUFMWTtBQU1oQ2UsZ0JBQVUsSUFOc0I7QUFPaEMsdUJBQWlCLEVBQUNnQixhQUFhbkMsSUFBSW9DLGlCQUFsQjtBQVBlLEtBQWxDOztBQVVBakMsV0FBT0UsVUFBUCxDQUFrQmdDLElBQWxCLEdBQXlCO0FBQ3ZCdEIsYUFBTyxVQURnQjtBQUV2QkcsbUJBQWEsa0NBRlU7QUFHdkJkLFlBQU0sUUFIaUI7QUFJdkJlLGdCQUFVO0FBSmEsS0FBekI7QUFNQWhCLFdBQU9FLFVBQVAsQ0FBa0JpQyxXQUFsQixHQUFnQztBQUM5QnZCLGFBQU8sd0NBRHVCO0FBRTlCRyxtQkFBYSx5TEFGaUI7QUFHOUJkLFlBQU0sUUFId0I7QUFJOUIwQixjQUFRLFdBSnNCO0FBSzlCLHVCQUFpQixFQUFDSyxhQUFhLDZEQUFkO0FBTGEsS0FBaEM7O0FBUUEsV0FBT2hDLE1BQVA7QUFDRCxHQWhJRDs7QUFrSUEsU0FBT2xCLE9BQVA7QUFDRDs7a0JBRWNKLEkiLCJmaWxlIjoiNDQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBBcHBzKCRodHRwLCAkcSwgJHRyYW5zbGF0ZSkge1xuICAnbmdJbmplY3QnO1xuICB2YXIgc2VydmljZSA9IHt9O1xuXG4gIHZhciBkZWZhdWx0X2xpc3Rfb3B0cyA9IHtcbiAgICBwdWJsaWNPbmx5OiBmYWxzZVxuICB9O1xuXG4gIHNlcnZpY2UubGlzdCA9IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgcmV0dXJuICRodHRwKHtcbiAgICAgIHVybDogJy9hcGkvd29ya3NwYWNlL21ldGEnLFxuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhcmFtczogeydxJzogcXVlcnl9LFxuICAgICAgY2FjaGU6IHRydWVcbiAgICB9KTtcbiAgfTtcblxuICBzZXJ2aWNlLmdldCA9IGZ1bmN0aW9uKGFwcF9pZCkge1xuICAgIHJldHVybiAkaHR0cCh7XG4gICAgICB1cmw6ICcvYXBpL3dvcmtzcGFjZS9hcHBzJyxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXJhbXM6IHsnYXBwX2lkJzogYXBwX2lkfVxuICAgIH0pO1xuICB9O1xuXG4gIHNlcnZpY2UuZ2V0TWV0YSA9IGZ1bmN0aW9uKGFwcF9pZCkge1xuICAgIHJldHVybiAkaHR0cCh7XG4gICAgICB1cmw6ICcvYXBpL3dvcmtzcGFjZS9tZXRhJyxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXJhbXM6IHtxOnsnbmFtZSc6ICR0cmFuc2xhdGUuaW5zdGFudCgnYXBwc19tZXRhZGF0YV9uYW1lJyksJ3ZhbHVlLmRlZmluaXRpb24uaWQnOiBhcHBfaWR9fVxuICAgIH0pO1xuICB9O1xuXG4gIHNlcnZpY2UuZm9ybVNjaGVtYSA9IGZ1bmN0aW9uKGFwcCkge1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGEgSlNPTi5zY2hlbWEgZm9yIHRoZSBhcHAgcmVhZHkgZm9yIGFuZ3VsYXItc2NoZW1hLWZvcm1cbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vanNvbi1zY2hlbWEtZm9ybS9hbmd1bGFyLXNjaGVtYS1mb3JtXG4gICAgICovXG4gICAgaWYgKHR5cGVvZiBhcHAgPT09ICdzdHJpbmcnKSB7XG4gICAgICBhcHAgPSBzZXJ2aWNlLmdldChhcHApO1xuICAgIH1cbiAgICB2YXIgcGFyYW1zID0gYXBwLnBhcmFtZXRlcnMgfHwgW107XG4gICAgdmFyIGlucHV0cyA9IGFwcC5pbnB1dHMgfHwgW107XG5cbiAgICB2YXIgc2NoZW1hID0ge1xuICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICBwcm9wZXJ0aWVzOiB7fVxuICAgIH07XG5cbiAgICBpZiAocGFyYW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIHNjaGVtYS5wcm9wZXJ0aWVzLnBhcmFtZXRlcnMgPSB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fVxuICAgICAgfTtcbiAgICAgIF8uZWFjaChwYXJhbXMsIGZ1bmN0aW9uKHBhcmFtKSB7XG4gICAgICAgIGlmICghIHBhcmFtLnZhbHVlLnZpc2libGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtLmlkLnN0YXJ0c1dpdGgoJ18nKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmllbGQgPSB7XG4gICAgICAgICAgdGl0bGU6IHBhcmFtLmRldGFpbHMubGFiZWwsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHBhcmFtLmRldGFpbHMuZGVzY3JpcHRpb24sXG4gICAgICAgICAgcmVxdWlyZWQ6IHBhcmFtLnZhbHVlLnJlcXVpcmVkXG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAocGFyYW0udmFsdWUudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2Jvb2wnOlxuICAgICAgICAgIGNhc2UgJ2ZsYWcnOlxuICAgICAgICAgICAgZmllbGQudHlwZSA9ICdib29sZWFuJztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnZW51bWVyYXRpb24nOlxuICAgICAgICAgICAgZmllbGQudHlwZSA9ICdzdHJpbmcnO1xuICAgICAgICAgICAgZmllbGQuZW51bSA9IF8ubWFwKHBhcmFtLnZhbHVlLmVudW1fdmFsdWVzLCBmdW5jdGlvbihlbnVtX3ZhbCkge1xuICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoZW51bV92YWwpWzBdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmaWVsZFsneC1zY2hlbWEtZm9ybSddID0ge1xuICAgICAgICAgICAgICAndGl0bGVNYXAnOiBfLm1hcChwYXJhbS52YWx1ZS5lbnVtX3ZhbHVlcywgZnVuY3Rpb24oZW51bV92YWwpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gT2JqZWN0LmtleXMoZW51bV92YWwpWzBdO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAndmFsdWUnOiBrZXksXG4gICAgICAgICAgICAgICAgICAnbmFtZSc6IGVudW1fdmFsW2tleV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgIGZpZWxkLnR5cGUgPSAnbnVtYmVyJztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZmllbGQudHlwZSA9ICdzdHJpbmcnO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVtYS5wcm9wZXJ0aWVzLnBhcmFtZXRlcnMucHJvcGVydGllc1twYXJhbS5pZF0gPSBmaWVsZDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChpbnB1dHMubGVuZ3RoID4gMCkge1xuXG4gICAgICBzY2hlbWEucHJvcGVydGllcy5pbnB1dHMgPSB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fVxuICAgICAgfTtcbiAgICAgIF8uZWFjaChpbnB1dHMsIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmICghIGlucHV0LnZhbHVlLnZpc2libGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0LmlkLnN0YXJ0c1dpdGgoJ18nKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmllbGQgPSB7XG4gICAgICAgICAgdGl0bGU6IGlucHV0LmRldGFpbHMubGFiZWwsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGlucHV0LmRldGFpbHMuZGVzY3JpcHRpb25cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGlucHV0LnNlbWFudGljcy5tYXhDYXJkaW5hbGl0eSA9PT0gMSkge1xuICAgICAgICAgIGZpZWxkLnR5cGUgPSAnc3RyaW5nJztcbiAgICAgICAgICBmaWVsZC5mb3JtYXQgPSAnYWdhdmVGaWxlJztcbiAgICAgICAgICBmaWVsZC5yZXF1aXJlZCA9IGlucHV0LnZhbHVlLnJlcXVpcmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpZWxkLnR5cGUgPSAnYXJyYXknO1xuICAgICAgICAgIGZpZWxkLml0ZW1zID0ge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBmb3JtYXQ6ICdhZ2F2ZUZpbGUnLFxuICAgICAgICAgICAgJ3gtc2NoZW1hLWZvcm0nOiB7bm90aXRsZTogdHJ1ZX1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChpbnB1dC5zZW1hbnRpY3MubWF4Q2FyZGluYWxpdHkgPiAxKSB7XG4gICAgICAgICAgICBmaWVsZC5tYXhJdGVtcyA9IGlucHV0LnNlbWFudGljcy5tYXhDYXJkaW5hbGl0eTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2NoZW1hLnByb3BlcnRpZXMuaW5wdXRzLnByb3BlcnRpZXNbaW5wdXQuaWRdID0gZmllbGQ7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzY2hlbWEucHJvcGVydGllcy5yZXF1ZXN0ZWRUaW1lID0ge1xuICAgICAgdGl0bGU6ICdNYXhpbXVtIGpvYiBydW50aW1lJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnSW4gSEg6TU06U1MgZm9ybWF0LiBUaGUgbWF4aW11bSB0aW1lIHlvdSBleHBlY3QgdGhpcyBqb2IgdG8gcnVuIGZvci4gQWZ0ZXIgdGhpcyBhbW91bnQgb2YgdGltZSB5b3VyIGpvYiB3aWxsIGJlIGtpbGxlZCBieSB0aGUgam9iIHNjaGVkdWxlci4gU2hvcnRlciBydW4gdGltZXMgcmVzdWx0IGluIHNob3J0ZXIgcXVldWUgd2FpdCB0aW1lcy4gTWF4aW11bSBwb3NzaWJsZSB0aW1lIGlzIDQ4OjAwOjAwICg0OCBob3VycykuJyxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgXCJwYXR0ZXJuXCI6XCJeKDQ4OjAwOjAwKXwoWzAtNF1bMC03XTpbMC01XVswLTldOlswLTVdWzAtOV0pJFwiLFxuICAgICAgXCJ2YWxpZGF0aW9uTWVzc2FnZVwiOlwiTXVzdCBiZSBpbiBmb3JtYXQgSEg6TU06U1MgYW5kIGJlIGxlc3MgdGhhbiA0OCBob3VycyAoNDg6MDA6MDApXCIsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICd4LXNjaGVtYS1mb3JtJzoge3BsYWNlaG9sZGVyOiBhcHAuZGVmYXVsdE1heFJ1blRpbWV9XG4gICAgfTtcblxuICAgIHNjaGVtYS5wcm9wZXJ0aWVzLm5hbWUgPSB7XG4gICAgICB0aXRsZTogJ0pvYiBuYW1lJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQSByZWNvZ25pemFibGUgbmFtZSBmb3IgdGhpcyBqb2InLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH07XG4gICAgc2NoZW1hLnByb3BlcnRpZXMuYXJjaGl2ZVBhdGggPSB7XG4gICAgICB0aXRsZTogJ0pvYiBvdXRwdXQgYXJjaGl2ZSBsb2NhdGlvbiAob3B0aW9uYWwpJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnU3BlY2lmeSBhIGxvY2F0aW9uIHdoZXJlIHRoZSBqb2Igb3V0cHV0IHNob3VsZCBiZSBhcmNoaXZlZC4gQnkgZGVmYXVsdCwgam9iIG91dHB1dCB3aWxsIGJlIGFyY2hpdmVkIGF0OiA8Y29kZT4mbHQ7dXNlcm5hbWUmZ3Q7L2FyY2hpdmUvam9icy8ke1lZWVktTU0tRER9LyR7Sk9CX05BTUV9LSR7Sk9CX0lEfTwvY29kZT4uJyxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZm9ybWF0OiAnYWdhdmVGaWxlJyxcbiAgICAgICd4LXNjaGVtYS1mb3JtJzoge3BsYWNlaG9sZGVyOiAnPHVzZXJuYW1lPi9hcmNoaXZlL2pvYnMvJHtZWVlZLU1NLUREfS8ke0pPQl9OQU1FfS0ke0pPQl9JRH0nfVxuICAgIH07XG5cbiAgICByZXR1cm4gc2NoZW1hO1xuICB9O1xuXG4gIHJldHVybiBzZXJ2aWNlO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXBwcztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BvcnRhbC9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci93b3Jrc3BhY2Uvc2VydmljZXMvYXBwcy1zZXJ2aWNlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///44\n");

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _appsService = __webpack_require__(44);\n\nvar _appsService2 = _interopRequireDefault(_appsService);\n\nvar _jobsService = __webpack_require__(46);\n\nvar _jobsService2 = _interopRequireDefault(_jobsService);\n\nvar _multipleListService = __webpack_require__(47);\n\nvar _multipleListService2 = _interopRequireDefault(_multipleListService);\n\nvar _notificationsService = __webpack_require__(48);\n\nvar _notificationsService2 = _interopRequireDefault(_notificationsService);\n\nvar _simpleListService = __webpack_require__(49);\n\nvar _simpleListService2 = _interopRequireDefault(_simpleListService);\n\nvar _systemsService = __webpack_require__(50);\n\nvar _systemsService2 = _interopRequireDefault(_systemsService);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mod = angular.module('portal.workspace.services', []);\n\nmod.factory('Apps', _appsService2.default);\nmod.factory('Jobs', _jobsService2.default);\nmod.service('MultipleList', _multipleListService2.default);\nmod.service('Notifications', _notificationsService2.default);\nmod.service('SimpleList', _simpleListService2.default);\nmod.service('Systems', _systemsService2.default);\n\nexports.default = mod;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL3NlcnZpY2VzL2luZGV4LmpzPzczNzIiXSwibmFtZXMiOlsibW9kIiwiYW5ndWxhciIsIm1vZHVsZSIsImZhY3RvcnkiLCJzZXJ2aWNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBLElBQUlBLE1BQU1DLFFBQVFDLE1BQVIsQ0FBZSwyQkFBZixFQUE0QyxFQUE1QyxDQUFWOztBQUVBRixJQUFJRyxPQUFKLENBQVksTUFBWjtBQUNBSCxJQUFJRyxPQUFKLENBQVksTUFBWjtBQUNBSCxJQUFJSSxPQUFKLENBQVksY0FBWjtBQUNBSixJQUFJSSxPQUFKLENBQVksZUFBWjtBQUNBSixJQUFJSSxPQUFKLENBQVksWUFBWjtBQUNBSixJQUFJSSxPQUFKLENBQVksU0FBWjs7a0JBRWVKLEciLCJmaWxlIjoiNDUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQXBwcyBmcm9tICcuL2FwcHMtc2VydmljZSc7XG5pbXBvcnQgSm9icyBmcm9tICcuL2pvYnMtc2VydmljZSc7XG5pbXBvcnQgTXVsdGlwbGVMaXN0IGZyb20gJy4vbXVsdGlwbGUtbGlzdC1zZXJ2aWNlJztcbmltcG9ydCBOb3RpZmljYXRpb25zIGZyb20gJy4vbm90aWZpY2F0aW9ucy1zZXJ2aWNlJztcbmltcG9ydCBTaW1wbGVMaXN0IGZyb20gJy4vc2ltcGxlLWxpc3Qtc2VydmljZSc7XG5pbXBvcnQgU3lzdGVtcyBmcm9tICcuL3N5c3RlbXMtc2VydmljZSc7XG5cbmxldCBtb2QgPSBhbmd1bGFyLm1vZHVsZSgncG9ydGFsLndvcmtzcGFjZS5zZXJ2aWNlcycsIFtdKTtcblxubW9kLmZhY3RvcnkoJ0FwcHMnLCBBcHBzKTtcbm1vZC5mYWN0b3J5KCdKb2JzJywgSm9icyk7XG5tb2Quc2VydmljZSgnTXVsdGlwbGVMaXN0JywgTXVsdGlwbGVMaXN0KTtcbm1vZC5zZXJ2aWNlKCdOb3RpZmljYXRpb25zJywgTm90aWZpY2F0aW9ucyk7XG5tb2Quc2VydmljZSgnU2ltcGxlTGlzdCcsIFNpbXBsZUxpc3QpO1xubW9kLnNlcnZpY2UoJ1N5c3RlbXMnLCBTeXN0ZW1zKTtcblxuZXhwb3J0IGRlZmF1bHQgbW9kO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL3dvcmtzcGFjZS9zZXJ2aWNlcy9pbmRleC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///45\n");

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction Jobs($http) {\n  'ngInject';\n\n  var service = {};\n\n  service.list = function (options) {\n    var params = {\n      limit: options.limit || 10,\n      offset: options.offset || 0\n    };\n    return $http.get('/api/workspace/jobs/', {\n      params: params\n    }).then(function (resp) {\n      return resp.data.response;\n    });\n  };\n\n  service.get = function (uuid) {\n    return $http.get('/api/workspace/jobs/', {\n      params: { 'job_id': uuid }\n    }).then(function (resp) {\n      return resp.data.response;\n    });\n  };\n\n  service.submit = function (data) {\n    return $http.post('/api/workspace/jobs/', data);\n  };\n\n  return service;\n}\n\nexports.default = Jobs;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL3NlcnZpY2VzL2pvYnMtc2VydmljZS5qcz8yYjA5Il0sIm5hbWVzIjpbIkpvYnMiLCIkaHR0cCIsInNlcnZpY2UiLCJsaXN0Iiwib3B0aW9ucyIsInBhcmFtcyIsImxpbWl0Iiwib2Zmc2V0IiwiZ2V0IiwidGhlbiIsInJlc3AiLCJkYXRhIiwicmVzcG9uc2UiLCJ1dWlkIiwic3VibWl0IiwicG9zdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsU0FBU0EsSUFBVCxDQUFjQyxLQUFkLEVBQXFCO0FBQ25COztBQUVBLE1BQUlDLFVBQVUsRUFBZDs7QUFFQUEsVUFBUUMsSUFBUixHQUFlLFVBQVNDLE9BQVQsRUFBa0I7QUFDL0IsUUFBSUMsU0FBUztBQUNYQyxhQUFPRixRQUFRRSxLQUFSLElBQWlCLEVBRGI7QUFFWEMsY0FBUUgsUUFBUUcsTUFBUixJQUFrQjtBQUZmLEtBQWI7QUFJQSxXQUFPTixNQUFNTyxHQUFOLENBQVUsc0JBQVYsRUFBa0M7QUFDdkNILGNBQVFBO0FBRCtCLEtBQWxDLEVBRUpJLElBRkksQ0FFQyxVQUFVQyxJQUFWLEVBQWdCO0FBQ3RCLGFBQU9BLEtBQUtDLElBQUwsQ0FBVUMsUUFBakI7QUFDRCxLQUpNLENBQVA7QUFLRCxHQVZEOztBQVlBVixVQUFRTSxHQUFSLEdBQWMsVUFBU0ssSUFBVCxFQUFlO0FBQzNCLFdBQU9aLE1BQU1PLEdBQU4sQ0FBVSxzQkFBVixFQUFrQztBQUN2Q0gsY0FBUSxFQUFDLFVBQVVRLElBQVg7QUFEK0IsS0FBbEMsRUFFSkosSUFGSSxDQUVDLFVBQVVDLElBQVYsRUFBZ0I7QUFDdEIsYUFBT0EsS0FBS0MsSUFBTCxDQUFVQyxRQUFqQjtBQUNELEtBSk0sQ0FBUDtBQUtELEdBTkQ7O0FBUUFWLFVBQVFZLE1BQVIsR0FBaUIsVUFBU0gsSUFBVCxFQUFlO0FBQzlCLFdBQU9WLE1BQU1jLElBQU4sQ0FBVyxzQkFBWCxFQUFtQ0osSUFBbkMsQ0FBUDtBQUNELEdBRkQ7O0FBSUEsU0FBT1QsT0FBUDtBQUNEOztrQkFFY0YsSSIsImZpbGUiOiI0Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuZnVuY3Rpb24gSm9icygkaHR0cCkge1xuICAnbmdJbmplY3QnO1xuXG4gIHZhciBzZXJ2aWNlID0ge307XG5cbiAgc2VydmljZS5saXN0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICBsaW1pdDogb3B0aW9ucy5saW1pdCB8fCAxMCxcbiAgICAgIG9mZnNldDogb3B0aW9ucy5vZmZzZXQgfHwgMFxuICAgIH07XG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS93b3Jrc3BhY2Uvam9icy8nLCB7XG4gICAgICBwYXJhbXM6IHBhcmFtc1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgIHJldHVybiByZXNwLmRhdGEucmVzcG9uc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgc2VydmljZS5nZXQgPSBmdW5jdGlvbih1dWlkKSB7XG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS93b3Jrc3BhY2Uvam9icy8nLCB7XG4gICAgICBwYXJhbXM6IHsnam9iX2lkJzogdXVpZH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICByZXR1cm4gcmVzcC5kYXRhLnJlc3BvbnNlO1xuICAgIH0pO1xuICB9O1xuXG4gIHNlcnZpY2Uuc3VibWl0ID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3dvcmtzcGFjZS9qb2JzLycsIGRhdGEpO1xuICB9O1xuXG4gIHJldHVybiBzZXJ2aWNlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBKb2JzO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL3dvcmtzcGFjZS9zZXJ2aWNlcy9qb2JzLXNlcnZpY2UuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///46\n");

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction MultipleList($http, $q) {\n  'ngInject';\n\n  var MultipleList = function MultipleList() {\n    this.lists = [];\n  };\n\n  MultipleList.prototype.addEditLists = function (query, name, apps) {\n    var self = this;\n    var deferred = $q.defer();\n\n    $http({\n      url: '/api/workspace/meta',\n      method: 'GET',\n      params: { 'q': query }\n    }).then(function (response) {\n      // Push apps list\n      var appList = {};\n      appList.listName = 'Apps';\n      appList.dragging = false;\n      appList.items = [];\n      for (var i = 0; i < response.data.length; i++) {\n        var exists = false;\n        for (var j = 0; j < apps.length; j++) {\n          if (response.data[i].value.id === apps[j].label) {\n            exists = true;\n            break;\n          }\n        }\n        if (exists === false) {\n          appList.items.push({ label: response.data[i].value.id, type: response.data[i].value.type });\n        }\n      }\n      self.lists.push(appList);\n\n      // Push user new list\n      var userAppList = {};\n      userAppList.listName = name;\n      userAppList.dragging = false;\n      userAppList.items = [];\n      angular.forEach(apps, function (app) {\n        userAppList.items.push(app);\n      });\n      self.lists.push(userAppList);\n\n      deferred.resolve(self);\n    }, function (apps) {\n      deferred.reject();\n    });\n\n    return deferred.promise;\n  };\n\n  MultipleList.prototype.addMultipleLists = function (name, query) {\n    var self = this;\n    var deferred = $q.defer();\n\n    $http({\n      url: '/api/workspace/meta',\n      method: 'GET',\n      params: { 'q': query }\n    }).then(function (response) {\n      // Push apps list\n      var appList = {};\n      appList.listName = 'Apps';\n      appList.dragging = false;\n      appList.items = [];\n      angular.forEach(response.data, function (app) {\n        appList.items.push({ label: app.value.id, type: app.value.type });\n      });\n      self.lists.push(appList);\n\n      // Push user new list\n      var newAppList = {};\n      newAppList.listName = name;\n      newAppList.dragging = false;\n      newAppList.items = [];\n      self.lists.push(newAppList);\n\n      deferred.resolve(self);\n    }, function (apps) {\n      deferred.reject();\n    });\n\n    return deferred.promise;\n  };\n\n  return MultipleList;\n}\n\nexports.default = MultipleList;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL3NlcnZpY2VzL211bHRpcGxlLWxpc3Qtc2VydmljZS5qcz83ZWY4Il0sIm5hbWVzIjpbIk11bHRpcGxlTGlzdCIsIiRodHRwIiwiJHEiLCJsaXN0cyIsInByb3RvdHlwZSIsImFkZEVkaXRMaXN0cyIsInF1ZXJ5IiwibmFtZSIsImFwcHMiLCJzZWxmIiwiZGVmZXJyZWQiLCJkZWZlciIsInVybCIsIm1ldGhvZCIsInBhcmFtcyIsInRoZW4iLCJyZXNwb25zZSIsImFwcExpc3QiLCJsaXN0TmFtZSIsImRyYWdnaW5nIiwiaXRlbXMiLCJpIiwiZGF0YSIsImxlbmd0aCIsImV4aXN0cyIsImoiLCJ2YWx1ZSIsImlkIiwibGFiZWwiLCJwdXNoIiwidHlwZSIsInVzZXJBcHBMaXN0IiwiYW5ndWxhciIsImZvckVhY2giLCJhcHAiLCJyZXNvbHZlIiwicmVqZWN0IiwicHJvbWlzZSIsImFkZE11bHRpcGxlTGlzdHMiLCJuZXdBcHBMaXN0Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLFNBQVNBLFlBQVQsQ0FBdUJDLEtBQXZCLEVBQThCQyxFQUE5QixFQUFrQztBQUNoQzs7QUFDQSxNQUFJRixlQUFlLFNBQWZBLFlBQWUsR0FBVztBQUN4QixTQUFLRyxLQUFMLEdBQWEsRUFBYjtBQUNELEdBRkw7O0FBSUFILGVBQWFJLFNBQWIsQ0FBdUJDLFlBQXZCLEdBQXNDLFVBQVNDLEtBQVQsRUFBZ0JDLElBQWhCLEVBQXNCQyxJQUF0QixFQUE0QjtBQUM5RCxRQUFJQyxPQUFPLElBQVg7QUFDQSxRQUFJQyxXQUFXUixHQUFHUyxLQUFILEVBQWY7O0FBRUFWLFVBQU07QUFDSlcsV0FBSyxxQkFERDtBQUVKQyxjQUFRLEtBRko7QUFHSkMsY0FBUSxFQUFDLEtBQUtSLEtBQU47QUFISixLQUFOLEVBSUdTLElBSkgsQ0FLRSxVQUFTQyxRQUFULEVBQWtCO0FBQ2hCO0FBQ0Es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QWhCOztBQUVBN0IsZUFBU3lCLE9BQVQsQ0FBaUIxQixJQUFqQjtBQUNELEtBeEJILEVBeUJFLFVBQVNELElBQVQsRUFBYztBQUNaRSxlQUFTMEIsTUFBVDtBQUNELEtBM0JIOztBQThCQSxXQUFPMUIsU0FBUzJCLE9BQWhCO0FBQ0gsR0FuQ0Q7O0FBcUNBLFNBQU9yQyxZQUFQO0FBQ0Q7O2tCQUVjQSxZIiwiZmlsZSI6IjQ3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gTXVsdGlwbGVMaXN0ICgkaHR0cCwgJHEpIHtcbiAgJ25nSW5qZWN0JztcbiAgdmFyIE11bHRpcGxlTGlzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmxpc3RzID0gW107XG4gICAgICB9O1xuXG4gIE11bHRpcGxlTGlzdC5wcm90b3R5cGUuYWRkRWRpdExpc3RzID0gZnVuY3Rpb24ocXVlcnksIG5hbWUsIGFwcHMpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwKHtcbiAgICAgICAgdXJsOiAnL2FwaS93b3Jrc3BhY2UvbWV0YScsXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhcmFtczogeydxJzogcXVlcnl9XG4gICAgICB9KS50aGVuKFxuICAgICAgICBmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgLy8gUHVzaCBhcHBzIGxpc3RcbiAgICAgICAgICB2YXIgYXBwTGlzdCA9IHt9O1xuICAgICAgICAgIGFwcExpc3QubGlzdE5hbWUgPSAnQXBwcyc7XG4gICAgICAgICAgYXBwTGlzdC5kcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICAgIGFwcExpc3QuaXRlbXMgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcHBzLmxlbmd0aDsgaisrKXtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbaV0udmFsdWUuaWQgPT09IGFwcHNbal0ubGFiZWwpe1xuICAgICAgICAgICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleGlzdHMgPT09IGZhbHNlKXtcbiAgICAgICAgICAgICAgYXBwTGlzdC5pdGVtcy5wdXNoKHtsYWJlbDogcmVzcG9uc2UuZGF0YVtpXS52YWx1ZS5pZCwgdHlwZTogcmVzcG9uc2UuZGF0YVtpXS52YWx1ZS50eXBlfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGYubGlzdHMucHVzaChhcHBMaXN0KTtcblxuICAgICAgICAgIC8vIFB1c2ggdXNlciBuZXcgbGlzdFxuICAgICAgICAgIHZhciB1c2VyQXBwTGlzdCA9IHt9O1xuICAgICAgICAgIHVzZXJBcHBMaXN0Lmxpc3ROYW1lID0gbmFtZTtcbiAgICAgICAgICB1c2VyQXBwTGlzdC5kcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICAgIHVzZXJBcHBMaXN0Lml0ZW1zID0gW107XG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGFwcHMsIGZ1bmN0aW9uKGFwcCl7XG4gICAgICAgICAgICB1c2VyQXBwTGlzdC5pdGVtcy5wdXNoKGFwcCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2VsZi5saXN0cy5wdXNoKHVzZXJBcHBMaXN0KTtcblxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoc2VsZik7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKGFwcHMpe1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfTtcblxuXG4gIE11bHRpcGxlTGlzdC5wcm90b3R5cGUuYWRkTXVsdGlwbGVMaXN0cyA9IGZ1bmN0aW9uKG5hbWUsIHF1ZXJ5KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkaHR0cCh7XG4gICAgICAgIHVybDogJy9hcGkvd29ya3NwYWNlL21ldGEnLFxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXJhbXM6IHsncSc6IHF1ZXJ5fVxuICAgICAgfSkudGhlbihcbiAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgIC8vIFB1c2ggYXBwcyBsaXN0XG4gICAgICAgICAgdmFyIGFwcExpc3QgPSB7fTtcbiAgICAgICAgICBhcHBMaXN0Lmxpc3ROYW1lID0gJ0FwcHMnO1xuICAgICAgICAgIGFwcExpc3QuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICBhcHBMaXN0Lml0ZW1zID0gW107XG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEsIGZ1bmN0aW9uKGFwcCl7XG4gICAgICAgICAgICBhcHBMaXN0Lml0ZW1zLnB1c2goe2xhYmVsOiBhcHAudmFsdWUuaWQsIHR5cGU6IGFwcC52YWx1ZS50eXBlfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2VsZi5saXN0cy5wdXNoKGFwcExpc3QpO1xuXG4gICAgICAgICAgLy8gUHVzaCB1c2VyIG5ldyBsaXN0XG4gICAgICAgICAgdmFyIG5ld0FwcExpc3QgPSB7fTtcbiAgICAgICAgICBuZXdBcHBMaXN0Lmxpc3ROYW1lID0gbmFtZTtcbiAgICAgICAgICBuZXdBcHBMaXN0LmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgbmV3QXBwTGlzdC5pdGVtcyA9IFtdO1xuICAgICAgICAgIHNlbGYubGlzdHMucHVzaChuZXdBcHBMaXN0KTtcblxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoc2VsZik7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKGFwcHMpe1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfTtcblxuICByZXR1cm4gTXVsdGlwbGVMaXN0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBNdWx0aXBsZUxpc3Q7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL3NlcnZpY2VzL211bHRpcGxlLWxpc3Qtc2VydmljZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///47\n");

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction Notifications($websocket, $location, $mdToast) {\n    'ngInject';\n\n    var protocol = $location.protocol();\n    var host = $location.host();\n    var port = $location.port();\n    var wsurl = 'wss://' + host + '/ws/notifications?subscribe-broadcast&subscribe-user';\n    var ws = $websocket(wsurl);\n    ws.onMessage(function (message) {\n        var data = JSON.parse(message.data);\n        $mdToast.show({\n            template: '<md-toast>\\\n            {{ vm.content }}\\\n        </md-toast>',\n            controller: [function () {\n                this.content = data.event_data.message;\n            }],\n            controllerAs: 'vm',\n            hideDelay: 3000\n        });\n    });\n}\n\nexports.default = Notifications;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL3NlcnZpY2VzL25vdGlmaWNhdGlvbnMtc2VydmljZS5qcz9hMzI0Il0sIm5hbWVzIjpbIk5vdGlmaWNhdGlvbnMiLCIkd2Vic29ja2V0IiwiJGxvY2F0aW9uIiwiJG1kVG9hc3QiLCJwcm90b2NvbCIsImhvc3QiLCJwb3J0Iiwid3N1cmwiLCJ3cyIsIm9uTWVzc2FnZSIsIm1lc3NhZ2UiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwic2hvdyIsInRlbXBsYXRlIiwiY29udHJvbGxlciIsImNvbnRlbnQiLCJldmVudF9kYXRhIiwiY29udHJvbGxlckFzIiwiaGlkZURlbGF5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSxTQUFTQSxhQUFULENBQXVCQyxVQUF2QixFQUFtQ0MsU0FBbkMsRUFBOENDLFFBQTlDLEVBQXdEO0FBQ3REOztBQUNBLFFBQUlDLFdBQVdGLFVBQVVFLFFBQVYsRUFBZjtBQUNBLFFBQUlDLE9BQU9ILFVBQVVHLElBQVYsRUFBWDtBQUNBLFFBQUlDLE9BQU9KLFVBQVVJLElBQVYsRUFBWDtBQUNBLFFBQUlDLFFBQVEsV0FBV0YsSUFBWCxHQUFrQixzREFBOUI7QUFDQSxRQUFJRyxLQUFLUCxXQUFXTSxLQUFYLENBQVQ7QUFDQUMsT0FBR0MsU0FBSCxDQUFhLFVBQVVDLE9BQVYsRUFBbUI7QUFDOUIsWUFBSUMsT0FBT0MsS0FBS0MsS0FBTCxDQUFXSCxRQUFRQyxJQUFuQixDQUFYO0FBQ0FSLGlCQUFTVyxJQUFULENBQWM7QUFDVkMsc0JBQVU7O29CQURBO0FBSVZDLHdCQUFZLENBQUMsWUFBYTtBQUN0QixxQkFBS0MsT0FBTCxHQUFlTixLQUFLTyxVQUFMLENBQWdCUixPQUEvQjtBQUNILGFBRlcsQ0FKRjtBQU9WUywwQkFBYyxJQVBKO0FBUVZDLHVCQUFXO0FBUkQsU0FBZDtBQVVELEtBWkQ7QUFjRDs7a0JBRWNwQixhIiwiZmlsZSI6IjQ4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5mdW5jdGlvbiBOb3RpZmljYXRpb25zKCR3ZWJzb2NrZXQsICRsb2NhdGlvbiwgJG1kVG9hc3QpIHtcbiAgJ25nSW5qZWN0JztcbiAgdmFyIHByb3RvY29sID0gJGxvY2F0aW9uLnByb3RvY29sKCk7XG4gIHZhciBob3N0ID0gJGxvY2F0aW9uLmhvc3QoKTtcbiAgdmFyIHBvcnQgPSAkbG9jYXRpb24ucG9ydCgpO1xuICB2YXIgd3N1cmwgPSAnd3NzOi8vJyArIGhvc3QgKyAnL3dzL25vdGlmaWNhdGlvbnM/c3Vic2NyaWJlLWJyb2FkY2FzdCZzdWJzY3JpYmUtdXNlcic7XG4gIHZhciB3cyA9ICR3ZWJzb2NrZXQod3N1cmwpO1xuICB3cy5vbk1lc3NhZ2UoZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UobWVzc2FnZS5kYXRhKTtcbiAgICAkbWRUb2FzdC5zaG93KHtcbiAgICAgICAgdGVtcGxhdGU6ICc8bWQtdG9hc3Q+XFxcbiAgICAgICAgICAgIHt7IHZtLmNvbnRlbnQgfX1cXFxuICAgICAgICA8L21kLXRvYXN0PicsXG4gICAgICAgIGNvbnRyb2xsZXI6IFtmdW5jdGlvbiAgKCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gZGF0YS5ldmVudF9kYXRhLm1lc3NhZ2U7XG4gICAgICAgIH1dLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIGhpZGVEZWxheTogMzAwMFxuICAgIH0pO1xuICB9KTtcblxufVxuXG5leHBvcnQgZGVmYXVsdCBOb3RpZmljYXRpb25zO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcG9ydGFsL3N0YXRpYy9wb3J0YWwvc2NyaXB0cy9hbmd1bGFyL3dvcmtzcGFjZS9zZXJ2aWNlcy9ub3RpZmljYXRpb25zLXNlcnZpY2UuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///48\n");

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction SimpleList($http, $q) {\n  'ngInject';\n\n  var SimpleList = function SimpleList() {\n    this.selected = null, this.lists = {}, this.map = {};\n  };\n\n  SimpleList.prototype.getDefaultLists = function (query) {\n    var self = this;\n    var deferred = $q.defer();\n    $http({\n      url: \"/api/workspace/meta\",\n      method: 'GET',\n      params: { 'q': query }\n    }).then(function (response) {\n      self.lists['Private'] = [];\n      self.lists['Public'] = [];\n\n      angular.forEach(response.data.response, function (appMeta) {\n        self.map[appMeta.value.definition.id] = appMeta;\n        if (appMeta.value.definition.isPublic) {\n          if (appMeta.value.definition.available) {\n            self.lists['Public'].push(appMeta);\n          }\n        } else {\n          if (appMeta.value.definition.available) {\n            self.lists['Private'].push(appMeta);\n          }\n        }\n      });\n\n      deferred.resolve(self);\n    }, function (apps) {\n      deferred.reject();\n    });\n    return deferred.promise;\n  };\n\n  SimpleList.prototype.getUserLists = function (query) {\n    var self = this;\n    var deferred = $q.defer();\n\n    $http({\n      url: '/api/workspace/meta',\n      method: 'GET',\n      params: { 'q': query }\n    }).then(function (response) {\n      if (response.data.response.length > 0) {\n        _.each(response.data.response, function (appListMeta) {\n          self.lists[appListMeta.value.label] = [];\n          _.each(appListMeta.value.apps, function (app) {\n            self.lists[appListMeta.value.label].push(self.map[app.value.definition.id]);\n          });\n        });\n      }\n      deferred.resolve(self);\n    }, function (apps) {\n      deferred.reject();\n    });\n    return deferred.promise;\n  };\n\n  return SimpleList;\n}\n\nexports.default = SimpleList;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL3NlcnZpY2VzL3NpbXBsZS1saXN0LXNlcnZpY2UuanM/ZDJhMyJdLCJuYW1lcyI6WyJTaW1wbGVMaXN0IiwiJGh0dHAiLCIkcSIsInNlbGVjdGVkIiwibGlzdHMiLCJtYXAiLCJwcm90b3R5cGUiLCJnZXREZWZhdWx0TGlzdHMiLCJxdWVyeSIsInNlbGYiLCJkZWZlcnJlZCIsImRlZmVyIiwidXJsIiwibWV0aG9kIiwicGFyYW1zIiwidGhlbiIsInJlc3BvbnNlIiwiYW5ndWxhciIsImZvckVhY2giLCJkYXRhIiwiYXBwTWV0YSIsInZhbHVlIiwiZGVmaW5pdGlvbiIsImlkIiwiaXNQdWJsaWMiLCJhdmFpbGFibGUiLCJwdXNoIiwicmVzb2x2ZSIsImFwcHMiLCJyZWplY3QiLCJwcm9taXNlIiwiZ2V0VXNlckxpc3RzIiwibGVuZ3RoIiwiXyIsImVhY2giLCJhcHBMaXN0TWV0YSIsImxhYmVsIiwiYXBwIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLFNBQVNBLFVBQVQsQ0FBcUJDLEtBQXJCLEVBQTRCQyxFQUE1QixFQUFnQztBQUM5Qjs7QUFDQSxNQUFJRixhQUFhLFNBQWJBLFVBQWEsR0FBVTtBQUN6QixTQUFLRyxRQUFMLEdBQWdCLElBQWhCLEVBQ0EsS0FBS0MsS0FBTCxHQUFhLEVBRGIsRUFFQSxLQUFLQyxHQUFMLEdBQVcsRUFGWDtBQUdELEdBSkQ7O0FBTUFMLGFBQVdNLFNBQVgsQ0FBcUJDLGVBQXJCLEdBQXVDLFVBQVNDLEtBQVQsRUFBZ0I7QUFDckQsUUFBSUMsT0FBTyxJQUFYO0FBQ0EsUUFBSUMsV0FBV1IsR0FBR1MsS0FBSCxFQUFmO0FBQ0FWLFVBQU07QUFDSlcsV0FBSyxxQkFERDtBQUVKQyxjQUFRLEtBRko7QUFHSkMsY0FBUSxFQUFDLEtBQUtOLEtBQU47QUFISixLQUFOLEVBSUdPLElBSkgsQ0FLRSxVQUFTQyxRQUFULEVBQWtCO0FBQ2hCUCxXQUFLTCxLQUFMLENBQVcsU0FBWCxJQUF3QixFQUF4QjtBQUNBSyxXQUFLTCxLQUFMLENBQVcsUUFBWCxJQUF1QixFQUF2Qjs7QUFHQWEsY0FBUUMsT0FBUixDQUFnQkYsU0FBU0csSUFBVCxDQUFjSCxRQUE5QixFQUF3QyxVQUFTSSxPQUFULEVBQWlCO0FBQ3ZEWCxhQUFLSixHQUFMLENBQVNlLFFBQVFDLEtBQVIsQ0FBY0MsVUFBZCxDQUF5QkMsRUFBbEMsSUFBd0NILE9BQXhDO0FBQ0EsWUFBSUEsUUFBUUMsS0FBUixDQUFjQyxVQUFkLENBQXlCRSxRQUE3QixFQUFzQztBQUNwQyxjQUFJSixRQUFRQyxLQUFSLENBQWNDLFVBQWQsQ0FBeUJHLFNBQTdCLEVBQXVDO0FBQ3JDaEIsaUJBQUtMLEtBQUwsQ0FBVyxRQUFYLEVBQXFCc0IsSUFBckIsQ0FDRU4sT0FERjtBQUdEO0FBQ0YsU0FORCxNQU1PO0FBQ0wsY0FBSUEsUUFBUUMsS0FBUixDQUFjQyxVQUFkLENBQXlCRyxTQUE3QixFQUF1QztBQUNyQ2hCLGlCQUFLTCxLQUFMLENBQVcsU0FBWCxFQUFzQnNCLElBQXRCLENBQ0VOLE9BREY7QUFHRDtBQUNGO0FBQ0YsT0FmRDs7QUFpQkFWLGVBQVNpQixPQUFULENBQWlCbEIsSUFBakI7QUFDRCxLQTVCSCxFQTZCRSxVQUFTbUIsSUFBVCxFQUFjO0FBQ1psQixlQUFTbUIsTUFBVDtBQUNELEtBL0JIO0FBaUNBLFdBQU9uQixTQUFTb0IsT0FBaEI7QUFDRCxHQXJDRDs7QUF1Q0E5QixhQUFXTSxTQUFYLENBQXFCeUIsWUFBckIsR0FBb0MsVUFBU3ZCLEtBQVQsRUFBZ0I7QUFDbEQsUUFBSUMsT0FBTyxJQUFYO0FBQ0EsUUFBSUMsV0FBV1IsR0FBR1MsS0FBSCxFQUFmOztBQUVBVixVQUFNO0FBQ0pXLFdBQUsscUJBREQ7QUFFSkMsY0FBUSxLQUZKO0FBR0pDLGNBQVEsRUFBQyxLQUFLTixLQUFOO0FBSEosS0FBTixFQUlHTyxJQUpILENBS0UsVUFBU0MsUUFBVCxFQUFrQjtBQUNoQixVQUFJQSxTQUFTRyxJQUFULENBQWNILFFBQWQsQ0FBdUJnQixNQUF2QixHQUFnQyxDQUFwQyxFQUFzQztBQUNwQ0MsVUFBRUMsSUFBRixDQUFPbEIsU0FBU0csSUFBVCxDQUFjSCxRQUFyQixFQUErQixVQUFTbUIsV0FBVCxFQUFxQjtBQUNsRDFCLGVBQUtMLEtBQUwsQ0FBVytCLFlBQVlkLEtBQVosQ0FBa0JlLEtBQTdCLElBQXNDLEVBQXRDO0FBQ0FILFlBQUVDLElBQUYsQ0FBT0MsWUFBWWQsS0FBWixDQUFrQk8sSUFBekIsRUFBK0IsVUFBU1MsR0FBVCxFQUFhO0FBQzFDNUIsaUJBQUtMLEtBQUwsQ0FBVytCLFlBQVlkLEtBQVosQ0FBa0JlLEtBQTdCLEVBQW9DVixJQUFwQyxDQUF5Q2pCLEtBQUtKLEdBQUwsQ0FBU2dDLElBQUloQixLQUFKLENBQVVDLFVBQVYsQ0FBcUJDLEVBQTlCLENBQXpDO0FBQ0QsV0FGRDtBQUdELFNBTEQ7QUFNRDtBQUNEYixlQUFTaUIsT0FBVCxDQUFpQmxCLElBQWpCO0FBQ0QsS0FmSCxFQWdCRSxVQUFTbUIsSUFBVCxFQUFjO0FBQ1psQixlQUFTbUIsTUFBVDtBQUNELEtBbEJIO0FBb0JBLFdBQU9uQixTQUFTb0IsT0FBaEI7QUFDRCxHQXpCRDs7QUE0QkEsU0FBTzlCLFVBQVA7QUFDRDs7a0JBRWNBLFUiLCJmaWxlIjoiNDkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBTaW1wbGVMaXN0ICgkaHR0cCwgJHEpIHtcbiAgJ25nSW5qZWN0JztcbiAgdmFyIFNpbXBsZUxpc3QgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBudWxsLFxuICAgIHRoaXMubGlzdHMgPSB7fSxcbiAgICB0aGlzLm1hcCA9IHt9O1xuICB9O1xuXG4gIFNpbXBsZUxpc3QucHJvdG90eXBlLmdldERlZmF1bHRMaXN0cyA9IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgJGh0dHAoe1xuICAgICAgdXJsOiBcIi9hcGkvd29ya3NwYWNlL21ldGFcIixcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXJhbXM6IHsncSc6IHF1ZXJ5fVxuICAgIH0pLnRoZW4oXG4gICAgICBmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgIHNlbGYubGlzdHNbJ1ByaXZhdGUnXSA9IFtdO1xuICAgICAgICBzZWxmLmxpc3RzWydQdWJsaWMnXSA9IFtdO1xuXG5cbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEucmVzcG9uc2UsIGZ1bmN0aW9uKGFwcE1ldGEpe1xuICAgICAgICAgIHNlbGYubWFwW2FwcE1ldGEudmFsdWUuZGVmaW5pdGlvbi5pZF0gPSBhcHBNZXRhO1xuICAgICAgICAgIGlmIChhcHBNZXRhLnZhbHVlLmRlZmluaXRpb24uaXNQdWJsaWMpe1xuICAgICAgICAgICAgaWYgKGFwcE1ldGEudmFsdWUuZGVmaW5pdGlvbi5hdmFpbGFibGUpe1xuICAgICAgICAgICAgICBzZWxmLmxpc3RzWydQdWJsaWMnXS5wdXNoKFxuICAgICAgICAgICAgICAgIGFwcE1ldGFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFwcE1ldGEudmFsdWUuZGVmaW5pdGlvbi5hdmFpbGFibGUpe1xuICAgICAgICAgICAgICBzZWxmLmxpc3RzWydQcml2YXRlJ10ucHVzaChcbiAgICAgICAgICAgICAgICBhcHBNZXRhXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHNlbGYpO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKGFwcHMpe1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9O1xuXG4gIFNpbXBsZUxpc3QucHJvdG90eXBlLmdldFVzZXJMaXN0cyA9IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAkaHR0cCh7XG4gICAgICB1cmw6ICcvYXBpL3dvcmtzcGFjZS9tZXRhJyxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXJhbXM6IHsncSc6IHF1ZXJ5fVxuICAgIH0pLnRoZW4oXG4gICAgICBmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlLmxlbmd0aCA+IDApe1xuICAgICAgICAgIF8uZWFjaChyZXNwb25zZS5kYXRhLnJlc3BvbnNlLCBmdW5jdGlvbihhcHBMaXN0TWV0YSl7XG4gICAgICAgICAgICBzZWxmLmxpc3RzW2FwcExpc3RNZXRhLnZhbHVlLmxhYmVsXSA9IFtdO1xuICAgICAgICAgICAgXy5lYWNoKGFwcExpc3RNZXRhLnZhbHVlLmFwcHMsIGZ1bmN0aW9uKGFwcCl7XG4gICAgICAgICAgICAgIHNlbGYubGlzdHNbYXBwTGlzdE1ldGEudmFsdWUubGFiZWxdLnB1c2goc2VsZi5tYXBbYXBwLnZhbHVlLmRlZmluaXRpb24uaWRdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoc2VsZik7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24oYXBwcyl7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH07XG5cblxuICByZXR1cm4gU2ltcGxlTGlzdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2ltcGxlTGlzdDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BvcnRhbC9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci93b3Jrc3BhY2Uvc2VydmljZXMvc2ltcGxlLWxpc3Qtc2VydmljZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///49\n");

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * This service is currently a stub service static data. We don't need dynamic system\n * lookup right now, but it will be nicer to go ahead and code against this service\n * rather than having stubs all over the place.\n */\nfunction Systems($q, $http) {\n  'ngInject';\n\n  this.getMonitor = function (system_id) {\n    return $http({\n      url: '/api/workspace/monitors',\n      method: 'GET',\n      params: { 'target': system_id },\n      cache: false\n    });\n  };\n}\n\nexports.default = Systems;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2FuZ3VsYXIvd29ya3NwYWNlL3NlcnZpY2VzL3N5c3RlbXMtc2VydmljZS5qcz9hOGEyIl0sIm5hbWVzIjpbIlN5c3RlbXMiLCIkcSIsIiRodHRwIiwiZ2V0TW9uaXRvciIsInN5c3RlbV9pZCIsInVybCIsIm1ldGhvZCIsInBhcmFtcyIsImNhY2hlIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7OztBQUtBLFNBQVNBLE9BQVQsQ0FBaUJDLEVBQWpCLEVBQXFCQyxLQUFyQixFQUE0QjtBQUN4Qjs7QUFDQSxPQUFLQyxVQUFMLEdBQWtCLFVBQVNDLFNBQVQsRUFBb0I7QUFDcEMsV0FBT0YsTUFBTTtBQUNYRyxXQUFLLHlCQURNO0FBRVhDLGNBQVEsS0FGRztBQUdYQyxjQUFRLEVBQUMsVUFBVUgsU0FBWCxFQUhHO0FBSVhJLGFBQU87QUFKSSxLQUFOLENBQVA7QUFNRCxHQVBEO0FBVUg7O2tCQUVjUixPIiwiZmlsZSI6IjUwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIHNlcnZpY2UgaXMgY3VycmVudGx5IGEgc3R1YiBzZXJ2aWNlIHN0YXRpYyBkYXRhLiBXZSBkb24ndCBuZWVkIGR5bmFtaWMgc3lzdGVtXG4gKiBsb29rdXAgcmlnaHQgbm93LCBidXQgaXQgd2lsbCBiZSBuaWNlciB0byBnbyBhaGVhZCBhbmQgY29kZSBhZ2FpbnN0IHRoaXMgc2VydmljZVxuICogcmF0aGVyIHRoYW4gaGF2aW5nIHN0dWJzIGFsbCBvdmVyIHRoZSBwbGFjZS5cbiAqL1xuZnVuY3Rpb24gU3lzdGVtcygkcSwgJGh0dHApIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuZ2V0TW9uaXRvciA9IGZ1bmN0aW9uKHN5c3RlbV9pZCkge1xuICAgICAgcmV0dXJuICRodHRwKHtcbiAgICAgICAgdXJsOiAnL2FwaS93b3Jrc3BhY2UvbW9uaXRvcnMnLFxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXJhbXM6IHsndGFyZ2V0Jzogc3lzdGVtX2lkfSxcbiAgICAgICAgY2FjaGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3lzdGVtcztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BvcnRhbC9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvYW5ndWxhci93b3Jrc3BhY2Uvc2VydmljZXMvc3lzdGVtcy1zZXJ2aWNlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///50\n");

/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _mainModule = __webpack_require__(0);\n\nvar _mainModule2 = _interopRequireDefault(_mainModule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wb3J0YWwvc3RhdGljL3BvcnRhbC9zY3JpcHRzL2luZGV4LmpzPzllMWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSIsImZpbGUiOiI1MS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2QgZnJvbSAnLi9hbmd1bGFyL21haW4ubW9kdWxlLmpzJztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BvcnRhbC9zdGF0aWMvcG9ydGFsL3NjcmlwdHMvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///51\n");

/***/ }),
/* 52 */
/***/ (function(module, exports) {

eval("module.exports = angular;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhbmd1bGFyXCI/MTFkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI1Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gYW5ndWxhcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImFuZ3VsYXJcIlxuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///52\n");

/***/ })
/******/ ]);