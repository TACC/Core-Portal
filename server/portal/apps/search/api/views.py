"""
.. :module:: apps.search.api.views
   :synopsys: Views to handle Search API
"""
from __future__ import unicode_literals, absolute_import
import logging
from django.http import JsonResponse
from django.utils.decorators import method_decorator
from portal.views.base import BaseApiView
import random

#pylint: disable=invalid-name
logger = logging.getLogger(__name__)
METRICS = logging.getLogger('metrics.{}'.format(__name__))
#pylint: enable=invalid-name


class SearchApiView(BaseApiView):
    """ Projects listing view"""
    def get(self, request):

        results =  [{"mimeType": "text/directory", "name": "ingest", "format": "folder", "lastModified": "2017-12-20T11:58:04-06:00", "system": "data-sd2e-community", "trail": [{"path": "", "system": "data-sd2e-community", "name": ""}, {"path": "/ingest", "system": "data-sd2e-community", "name": "ingest"}], "length": 4096, "_links": {"_self": {"href": "https://api.sd2e.org/files/v2/media/system/data-sd2e-community//ingest"}, "system": {"href": "https://api.sd2e.org/systems/v2/data-sd2e-community"}}, "path": "/ingest", "type": "dir", "permissions": "ALL"}, {"mimeType": "text/directory", "name": "ingest-dev", "format": "folder", "lastModified": "2017-11-10T16:05:48-06:00", "system": "data-sd2e-community", "trail": [{"path": "", "system": "data-sd2e-community", "name": ""}, {"path": "/ingest-dev", "system": "data-sd2e-community", "name": "ingest-dev"}], "length": 4096, "_links": {"_self": {"href": "https://api.sd2e.org/files/v2/media/system/data-sd2e-community//ingest-dev"}, "system": {"href": "https://api.sd2e.org/systems/v2/data-sd2e-community"}}, "path": "/ingest-dev", "type": "dir", "permissions": "ALL"}, {"mimeType": "application/octet-stream", "name": "manifest.json", "format": "raw", "lastModified": "2017-12-04T19:11:07-06:00", "system": "data-sd2e-community", "trail": [{"path": "", "system": "data-sd2e-community", "name": ""}, {"path": "/manifest.json", "system": "data-sd2e-community", "name": "manifest.json"}], "length": 3, "_links": {"_self": {"href": "https://api.sd2e.org/files/v2/media/system/data-sd2e-community//manifest.json"}, "system": {"href": "https://api.sd2e.org/systems/v2/data-sd2e-community"}}, "path": "/manifest.json", "type": "file", "permissions": "READ_WRITE"}, {"mimeType": "text/directory", "name": "processed", "format": "folder", "lastModified": "2017-10-14T10:41:05-05:00", "system": "data-sd2e-community", "trail": [{"path": "", "system": "data-sd2e-community", "name": ""}, {"path": "/processed", "system": "data-sd2e-community", "name": "processed"}], "length": 4096, "_links": {"_self": {"href": "https://api.sd2e.org/files/v2/media/system/data-sd2e-community//processed"}, "system": {"href": "https://api.sd2e.org/systems/v2/data-sd2e-community"}}, "path": "/processed", "type": "dir", "permissions": "ALL"}, {"mimeType": "text/directory", "name": "processed_staging", "format": "folder", "lastModified": "2017-10-14T10:41:09-05:00", "system": "data-sd2e-community", "trail": [{"path": "", "system": "data-sd2e-community", "name": ""}, {"path": "/processed_staging", "system": "data-sd2e-community", "name": "processed_staging"}], "length": 4096, "_links": {"_self": {"href": "https://api.sd2e.org/files/v2/media/system/data-sd2e-community//processed_staging"}, "system": {"href": "https://api.sd2e.org/systems/v2/data-sd2e-community"}}, "path": "/processed_staging", "type": "dir", "permissions": "ALL"}, {"mimeType": "text/plain", "name": "README.txt", "format": "raw", "lastModified": "2017-10-14T10:29:16-05:00", "system": "data-sd2e-community", "trail": [{"path": "", "system": "data-sd2e-community", "name": ""}, {"path": "/README.txt", "system": "data-sd2e-community", "name": "README.txt"}], "length": 4669, "_links": {"_self": {"href": "https://api.sd2e.org/files/v2/media/system/data-sd2e-community//README.txt"}, "system": {"href": "https://api.sd2e.org/systems/v2/data-sd2e-community"}}, "path": "/README.txt", "type": "file", "permissions": "READ_WRITE"}, {"mimeType": "text/directory", "name": "reference", "format": "folder", "lastModified": "2017-11-29T09:29:11-06:00", "system": "data-sd2e-community", "trail": [{"path": "", "system": "data-sd2e-community", "name": ""}, {"path": "/reference", "system": "data-sd2e-community", "name": "reference"}], "length": 4096, "_links": {"_self": {"href": "https://api.sd2e.org/files/v2/media/system/data-sd2e-community//reference"}, "system": {"href": "https://api.sd2e.org/systems/v2/data-sd2e-community"}}, "path": "/reference", "type": "dir", "permissions": "ALL"}, {"mimeType": "text/directory", "name": "sample", "format": "folder", "lastModified": "2017-12-14T09:47:31-06:00", "system": "data-sd2e-community", "trail": [{"path": "", "system": "data-sd2e-community", "name": ""}, {"path": "/sample", "system": "data-sd2e-community", "name": "sample"}], "length": 4096, "_links": {"_self": {"href": "https://api.sd2e.org/files/v2/media/system/data-sd2e-community//sample"}, "system": {"href": "https://api.sd2e.org/systems/v2/data-sd2e-community"}}, "path": "/sample", "type": "dir", "permissions": "ALL"}, {"mimeType": "text/directory", "name": "shared-q0-hackathon", "format": "folder", "lastModified": "2017-11-24T09:02:50-06:00", "system": "data-sd2e-community", "trail": [{"path": "", "system": "data-sd2e-community", "name": ""}, {"path": "/shared-q0-hackathon", "system": "data-sd2e-community", "name": "shared-q0-hackathon"}], "length": 4096, "_links": {"_self": {"href": "https://api.sd2e.org/files/v2/media/system/data-sd2e-community//shared-q0-hackathon"}, "system": {"href": "https://api.sd2e.org/systems/v2/data-sd2e-community"}}, "path": "/shared-q0-hackathon", "type": "dir", "permissions": "ALL"}]
        return JsonResponse({'response': random.sample(results, 4)})
