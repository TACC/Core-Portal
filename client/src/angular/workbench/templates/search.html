<div class="container-fluid" role="main" id="search">
  <div class="container-fluid">
      <div class="row justify-content-center" >
        <div class="col-md-3"></div>
        <div class="col-md-6">
          <form ng-submit="vm.search_browse(true)">
          <div class="input-group">
            <input type="text" class="form-control input-lg" ng-model="vm.data.text" placeholder="Search for...">
            <span class="input-group-btn">
              <button class="btn btn-default btn-lg" type="button" ng-click="vm.search_browse(true)">
                <i class="fa fa-search"></i>
              </button>
            </span>
          </div><!-- /input-group -->
        </form>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <h2>Refine By:</h2>
          <div class=list-group>
            <a class="list-group-item"
               ng-class='{"active": vm.data.type_filter == "private_files"}'
               ng-click='vm.filter("private_files")'>My Data
                <span class="badge" ng-show='vm.data.search_results.private_files_total'>
                  {{ vm.data.search_results.private_files_total }}
                </span>
            </a>

            <a class="list-group-item disabled"
               ng-class='{"active": vm.data.type_filter == "published"}'>Published Projects
                <span class="badge" ng-show='vm.data.search_results.published_total'>
                  {{ vm.data.search_results.published_total }}
                </span>
            </a>

            <a class="list-group-item"
               ng-class='{"active": vm.data.type_filter == "public_files"}'
               ng-click='vm.filter("public_files")'>Public Files
                <span class="badge" ng-show='vm.data.search_results.public_files_total'>
                  {{ vm.data.search_results.public_files_total }}
                </span>
            </a>

            <a class="list-group-item"
               ng-class='{"active": vm.data.type_filter == "cms"}'
               ng-click='vm.filter("cms")'>Web Content
                <span class="badge" ng-show='vm.data.search_results.cms_total'>
                  {{ vm.data.search_results.cms_total }}
                </span>
            </a>
          </div>
        </div>
        <div class="col-md-9" ng-show="vm.data.search_results">
          <div ng-show='vm.data.search_results.total_hits === 0'>
            <div class="alert alert-info">
              <h3>
                  no results in {{vm.prettyFilterName[vm.data.type_filter]}}
              </h3>
            </div></div>
          <search-result
            make-url='vm.makeUrl(hit)'
            route='vm.ddSystemRoute()'
            data='hit'
            ng-repeat="hit in vm.data.search_results.hits">
          </search-result>

        <div class="row" ng-if="vm.data.search_results.total_hits > vm.limit">
            <div class="col-md-3">
                <button class="btn btn-default pull-left"
                  ng-click="vm.prev()"
                  ng-disabled="vm.page_num === 0">
                  <i class="fa fa-chevron-left"></i> Prev
                </button>
              </div>
              <div class="col-md-6">
                <div class="text-center">
                  <span class="badge"> {{vm.page_num + 1}} / {{ vm.max_pages }} </span>
                </div>
              </div>
              <div class="col-md-3">
                <button class="btn btn-default pull-right"
                  ng-click="vm.next()"
                  ng-disabled="vm.page_num + 1 === vm.max_pages">
                  <i class="fa fa-chevron-right"></i> More
                </button>
              </div>
        </div>
      </div>
    </div>
    </div>
</div>
